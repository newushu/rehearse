exports.id=215,exports.ids=[215],exports.modules={20309:(a,b,c)=>{"use strict";function d(a){if(!a)return null;let[b,c]=a.split("T");if(!b||!c)return null;let[d,e,f]=b.split("-"),[g,h]=c.split(":"),i=Number(d),j=Number(e),k=Number(f),l=Number(g),m=Number(h);return Number.isFinite(i)&&Number.isFinite(j)&&Number.isFinite(k)&&Number.isFinite(l)&&Number.isFinite(m)?{year:i,month:j,day:k,hour:l,minute:m}:null}function e(a,b){let c=d(a);if(!c)return"";let e=new Date(Date.UTC(c.year,c.month-1,c.day,c.hour,c.minute,0)),f=function(a,b){let c=new Intl.DateTimeFormat("en-US",{timeZone:a,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(b),d={};for(let a of c)"literal"!==a.type&&(d[a.type]=a.value);return Date.UTC(Number(d.year),Number(d.month)-1,Number(d.day),Number(d.hour),Number(d.minute),Number(d.second))-b.getTime()}(b,e);return new Date(e.getTime()-f).toISOString()}function f(a,b){if(!a)return"";let c=new Date(a);if(Number.isNaN(c.getTime()))return"";let d=new Intl.DateTimeFormat("en-US",{timeZone:b,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(c),e={};for(let a of d)"literal"!==a.type&&(e[a.type]=a.value);return`${e.year}-${e.month}-${e.day}T${e.hour}:${e.minute}`}function g(a,b){if(!a)return"—";let c=new Date(a);return Number.isNaN(c.getTime())?"—":c.toLocaleString(void 0,{timeZone:b,timeZoneName:"short"})}function h(a,b){if(!a)return"—";let c=new Date(a);return Number.isNaN(c.getTime())?"—":c.toLocaleTimeString(void 0,{timeZone:b,hour:"numeric",minute:"2-digit"})}function i(a,b){if(!a)return"";let c=new Date(a);if(Number.isNaN(c.getTime()))return"";let d=new Intl.DateTimeFormat("en-US",{timeZone:b,year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(c),e={};for(let a of d)"literal"!==a.type&&(e[a.type]=a.value);return`${e.year}-${e.month}-${e.day}`}function j(a){if(!a)return"—";let[b,c]=a.split(":"),d=Number(b),e=Number(c);return Number.isFinite(d)&&Number.isFinite(e)?new Date(Date.UTC(2e3,0,1,d,e,0)).toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):a}function k(a){let b=d(a);if(!b)return"";let c=new Date(Date.UTC(b.year,b.month-1,b.day,b.hour,b.minute,0));c.setUTCHours(c.getUTCHours()-1);let e=String(c.getUTCHours()).padStart(2,"0"),f=String(c.getUTCMinutes()).padStart(2,"0");return`${e}:${f}`}function l(a,b){if(!a)return!1;let c=new Date(e(a,b));if(Number.isNaN(c.getTime()))return!1;let d=c.getTime()-36e5;return Date.now()>=d}c.d(b,{Kb:()=>k,P9:()=>g,Xr:()=>e,Z5:()=>h,a7:()=>j,eL:()=>l,so:()=>i,y7:()=>f})},21649:(a,b,c)=>{"use strict";c.d(b,{f:()=>e});var d=c(38301);function e(){let[a,b]=(0,d.useState)([]),[c,e]=(0,d.useState)(!0),[f,g]=(0,d.useState)(null),h=async(c,d,e,f,h,i)=>{try{let g=await fetch("/api/performances",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:c,description:d,date:e,location:f,call_time:h,timezone:i})});if(!g.ok)throw Error("Failed to create performance");let j=await g.json();return b([...a,j]),j}catch(a){throw g(a instanceof Error?a.message:"An error occurred"),a}},i=async c=>{try{if(!(await fetch(`/api/performances/${c}`,{method:"DELETE"})).ok)throw Error("Failed to delete performance");b(a.filter(a=>a.id!==c))}catch(a){throw g(a instanceof Error?a.message:"An error occurred"),a}};return{performances:a,loading:c,error:f,createPerformance:h,deletePerformance:i}}},35269:(a,b,c)=>{"use strict";c.d(b,{v:()=>g});var d=c(21124),e=c(24515),f=c(38301);function g({size:a=36,className:b="",imgClassName:c=""}){let[g,h]=(0,f.useState)(null);return(0,d.jsx)("div",{className:`flex items-center justify-center overflow-hidden ${b}`,style:{width:a,height:a,borderRadius:8},children:g?(0,d.jsx)(e.default,{src:g,alt:"App logo",width:a,height:a,unoptimized:!0,className:`max-w-full max-h-full object-contain ${c}`}):(0,d.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-wide",children:"Logo"})})}},39796:()=>{},51472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f,metadata:()=>e});var d=c(75338);c(61135);let e={title:"Performance Tool",description:"Performance signup and management system"};function f({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:"bg-gray-50",children:(0,d.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,d.jsx)("div",{className:"flex-1",children:a}),(0,d.jsx)("footer",{className:"text-center text-xs text-gray-400 py-4",children:"Rehearse by Origin Media"})]})})})}},61135:()=>{},68920:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},69592:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},87060:()=>{},88281:(a,b,c)=>{"use strict";c.d(b,{AppBrand:()=>h});var d=c(21124),e=c(3991),f=c.n(e),g=c(35269);function h({href:a="/",textClassName:b="text-2xl font-bold",logoClassName:c=""}){let e=(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(g.v,{className:`border border-white/30 bg-white/10 text-white/60 ${c}`}),(0,d.jsx)("span",{className:b,children:"Performance Tool"})]});return a?(0,d.jsx)(f(),{href:a,className:"flex items-center gap-3",children:e}):e}},95910:(a,b,c)=>{"use strict";c.d(b,{z:()=>g});var d=c(21124),e=c(38301),f=c(20309);function g({title:a="Schedule",accent:b="blue"}){let{performances:c,rehearsals:g,loading:h,error:i}=function(){let[a,b]=(0,e.useState)([]),[c,d]=(0,e.useState)([]),[f,g]=(0,e.useState)(!0),[h,i]=(0,e.useState)(null);return{performances:a,rehearsals:c,loading:f,error:h}}(),[j,k]=(0,e.useState)("list"),[l,m]=(0,e.useState)(()=>new Date),n=(0,e.useMemo)(()=>{let a=new Map;for(let b of c)a.set(b.id,b.title);return[...c.map(a=>{let b=a.timezone||"America/New_York",c=(0,f.so)(a.date,b);return{id:a.id,type:"performance",dateKey:c,title:a.title,timeLabel:(0,f.Z5)(a.date,b),location:a.location,timezone:b,isoDate:a.date}}),...g.map(b=>({id:b.id,type:"rehearsal",dateKey:b.date,title:b.title,timeLabel:(0,f.a7)(b.time),location:b.location,performanceTitle:a.get(b.performance_id)}))].sort((a,b)=>a.dateKey===b.dateKey?a.timeLabel.localeCompare(b.timeLabel):a.dateKey.localeCompare(b.dateKey))},[c,g]),o=(0,e.useMemo)(()=>{let a=new Map;for(let b of n)a.has(b.dateKey)||a.set(b.dateKey,[]),a.get(b.dateKey).push(b);return a},[n]),p=(0,e.useMemo)(()=>{let a={};for(let b of n)a[b.dateKey]=a[b.dateKey]||[],a[b.dateKey].push(b);return a},[n]),q="green"===b?{active:"bg-green-600 text-white",pill:"bg-green-100 text-green-800"}:{active:"bg-blue-600 text-white",pill:"bg-blue-100 text-blue-800"},r=l.toLocaleString(void 0,{month:"long",year:"numeric"}),s=l.getFullYear(),t=l.getMonth(),u=new Date(s,t,1),v=new Date(s,t+1,0).getDate(),w=u.getDay();return h?(0,d.jsx)("div",{className:"text-center py-12 text-gray-600",children:"Loading schedule..."}):i?(0,d.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:i}):(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:a}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Performances and rehearsals, day by day."})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("button",{onClick:()=>k("list"),className:`px-4 py-2 rounded-lg font-semibold ${"list"===j?q.active:"bg-white text-gray-700 border border-gray-200"}`,children:"List"}),(0,d.jsx)("button",{onClick:()=>k("calendar"),className:`px-4 py-2 rounded-lg font-semibold ${"calendar"===j?q.active:"bg-white text-gray-700 border border-gray-200"}`,children:"Calendar"})]})]}),"list"===j&&(0,d.jsxs)("div",{className:"space-y-6",children:[[...o.keys()].map(a=>(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,d.jsx)("div",{className:"text-lg font-semibold text-gray-900 mb-3",children:new Date(a+"T00:00:00").toLocaleDateString()}),(0,d.jsx)("div",{className:"space-y-2",children:o.get(a).map(a=>(0,d.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 bg-white border border-gray-200 rounded-lg px-4 py-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"font-semibold text-gray-900",children:[a.title,"rehearsal"===a.type&&a.performanceTitle&&(0,d.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(for ",a.performanceTitle,")"]})]}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:a.location})]}),(0,d.jsxs)("div",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[(0,d.jsx)("span",{className:`px-2 py-1 rounded-full text-xs ${q.pill}`,children:"performance"===a.type?"Performance":"Rehearsal"}),(0,d.jsx)("span",{children:"performance"===a.type&&a.timezone?(0,f.P9)(a.isoDate||"",a.timezone):a.timeLabel})]})]},a.id))})]},a)),0===o.size&&(0,d.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No scheduled items yet."})]}),"calendar"===j&&(0,d.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("button",{onClick:()=>m(new Date(s,t-1,1)),className:"px-3 py-1 rounded border border-gray-200 text-gray-600",children:"Prev"}),(0,d.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:r}),(0,d.jsx)("button",{onClick:()=>m(new Date(s,t+1,1)),className:"px-3 py-1 rounded border border-gray-200 text-gray-600",children:"Next"})]}),(0,d.jsx)("div",{className:"grid grid-cols-7 text-xs font-semibold text-gray-500 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(a=>(0,d.jsx)("div",{className:"text-center py-2",children:a},a))}),(0,d.jsxs)("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:w}).map((a,b)=>(0,d.jsx)("div",{},`empty-${b}`)),Array.from({length:v}).map((a,c)=>{let e=c+1,f=`${s}-${String(t+1).padStart(2,"0")}-${String(e).padStart(2,"0")}`,g=p[f]||[];return(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-2 min-h-[72px]",children:[(0,d.jsx)("div",{className:"text-xs font-semibold text-gray-700 mb-1",children:e}),g.slice(0,3).map(a=>(0,d.jsxs)("div",{className:`text-[10px] truncate ${"green"===b?"text-green-700":"text-blue-700"}`,children:["performance"===a.type?"Perf":"Reh",": ",a.title]},a.id)),g.length>3&&(0,d.jsxs)("div",{className:"text-[10px] text-gray-500",children:["+",g.length-3," more"]})]},f)})]})]})]})}}};