exports.id=2215,exports.ids=[2215],exports.modules={20309:(a,b,c)=>{"use strict";c.d(b,{$H:()=>k,GI:()=>d,Kb:()=>o,P9:()=>j,Xr:()=>h,Z5:()=>l,a7:()=>n,eL:()=>p,so:()=>m,y7:()=>i});let d="America/New_York",e=a=>/[zZ]|[+-]\d{2}:\d{2}$/.test(a),f=a=>{if(!a)return null;let[b,c]=a.split(/[T ]/);if(!b||!c)return null;let d=c.slice(0,5),[e,f,g]=b.split("-"),[h,i]=d.split(":"),j=Number(e),k=Number(f),l=Number(g),m=Number(h),n=Number(i);return Number.isFinite(j)&&Number.isFinite(k)&&Number.isFinite(l)&&Number.isFinite(m)&&Number.isFinite(n)?{datePart:b,timePart:d,year:j,month:k,day:l,hour:m,minute:n}:null};function g(a){if(!a)return null;let[b,c]=a.split("T");if(!b||!c)return null;let[d,e,f]=b.split("-"),[g,h]=c.split(":"),i=Number(d),j=Number(e),k=Number(f),l=Number(g),m=Number(h);return Number.isFinite(i)&&Number.isFinite(j)&&Number.isFinite(k)&&Number.isFinite(l)&&Number.isFinite(m)?{year:i,month:j,day:k,hour:l,minute:m}:null}function h(a,b){let c=g(a);if(!c)return"";let d=new Date(Date.UTC(c.year,c.month-1,c.day,c.hour,c.minute,0)),e=function(a,b){let c=new Intl.DateTimeFormat("en-US",{timeZone:a,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(b),d={};for(let a of c)"literal"!==a.type&&(d[a.type]=a.value);return Date.UTC(Number(d.year),Number(d.month)-1,Number(d.day),Number(d.hour),Number(d.minute),Number(d.second))-b.getTime()}(b,d);return new Date(d.getTime()-e).toISOString()}function i(a,b){if(!a)return"";if(!e(a)){let b=f(a);return b?`${b.datePart}T${b.timePart}`:a}let c=new Date(a);if(Number.isNaN(c.getTime()))return"";let d=new Intl.DateTimeFormat("en-US",{timeZone:b,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(c),g={};for(let a of d)"literal"!==a.type&&(g[a.type]=a.value);return`${g.year}-${g.month}-${g.day}T${g.hour}:${g.minute}`}function j(a,b){if(!a)return"—";if(!e(a)){let b=f(a);if(!b)return a;let c=new Date(Date.UTC(b.year,b.month-1,b.day,b.hour,b.minute,0)),d=c.toLocaleDateString(void 0,{timeZone:"UTC"}),e=c.toLocaleTimeString(void 0,{timeZone:"UTC",hour:"numeric",minute:"2-digit"});return`${d}, ${e} ET`}let c=new Date(a);return Number.isNaN(c.getTime())?"—":c.toLocaleString(void 0,{timeZone:b||d,timeZoneName:"short"})}function k(a,b){if(!a)return"\xe2€”";if(!e(a)){let b=f(a);if(!b)return a;let c=new Date(Date.UTC(b.year,b.month-1,b.day,b.hour,b.minute,0)).toLocaleString(void 0,{timeZone:"UTC",weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"});return`${c} ET`}let c=new Date(a);return Number.isNaN(c.getTime())?"\xe2€”":c.toLocaleString(void 0,{timeZone:b||d,weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"})}function l(a,b){if(!a)return"—";if(!e(a)){let b=f(a);return b?n(b.timePart):a}let c=new Date(a);return Number.isNaN(c.getTime())?"—":c.toLocaleTimeString(void 0,{timeZone:b||d,hour:"numeric",minute:"2-digit"})}function m(a,b){if(!a)return"";if(!e(a)){let b=f(a);return b?b.datePart:""}let c=new Date(a);if(Number.isNaN(c.getTime()))return"";let g=new Intl.DateTimeFormat("en-US",{timeZone:b||d,year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(c),h={};for(let a of g)"literal"!==a.type&&(h[a.type]=a.value);return`${h.year}-${h.month}-${h.day}`}function n(a){if(!a)return"—";let[b,c]=a.split(":"),d=Number(b),e=Number(c);return Number.isFinite(d)&&Number.isFinite(e)?new Date(Date.UTC(2e3,0,1,d,e,0)).toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit",timeZone:"UTC"}):a}function o(a){let b=g(a);if(!b)return"";let c=new Date(Date.UTC(b.year,b.month-1,b.day,b.hour,b.minute,0));c.setUTCHours(c.getUTCHours()-1);let d=String(c.getUTCHours()).padStart(2,"0"),e=String(c.getUTCMinutes()).padStart(2,"0");return`${d}:${e}`}function p(a,b){if(!a)return!1;let c=new Date(h(a,b));if(Number.isNaN(c.getTime()))return!1;let d=c.getTime()-36e5;return Date.now()>=d}},21649:(a,b,c)=>{"use strict";c.d(b,{f:()=>e});var d=c(38301);function e(){let[a,b]=(0,d.useState)([]),[c,e]=(0,d.useState)(!0),[f,g]=(0,d.useState)(null),h=async(c,d,e,f,h,i)=>{try{let g=await fetch("/api/performances",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:c,description:d,date:e,location:f,call_time:h,timezone:i})});if(!g.ok)throw Error("Failed to create performance");let j=await g.json();return b([...a,j]),j}catch(a){throw g(a instanceof Error?a.message:"An error occurred"),a}},i=async c=>{try{if(!(await fetch(`/api/performances/${c}`,{method:"DELETE"})).ok)throw Error("Failed to delete performance");b(a.filter(a=>a.id!==c))}catch(a){throw g(a instanceof Error?a.message:"An error occurred"),a}};return{performances:a,loading:c,error:f,createPerformance:h,deletePerformance:i}}},35269:(a,b,c)=>{"use strict";c.d(b,{v:()=>g});var d=c(21124),e=c(24515),f=c(38301);function g({size:a=36,className:b="",imgClassName:c=""}){let[g,h]=(0,f.useState)(null);return(0,d.jsx)("div",{className:`flex items-center justify-center overflow-hidden ${b}`,style:{width:a,height:a,borderRadius:8},children:g?(0,d.jsx)(e.default,{src:g,alt:"App logo",width:a,height:a,unoptimized:!0,className:`max-w-full max-h-full object-contain ${c}`}):(0,d.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-wide",children:"Logo"})})}},39796:()=>{},51472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f,metadata:()=>e});var d=c(75338);c(61135);let e={title:"Performance Tool",description:"Performance signup and management system"};function f({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:"bg-gray-50",children:(0,d.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,d.jsx)("div",{className:"flex-1",children:a}),(0,d.jsx)("footer",{className:"text-center text-xs text-gray-400 py-4",children:"Rehearse by Origin Media"})]})})})}},61135:()=>{},68920:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},69592:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},87060:()=>{},88281:(a,b,c)=>{"use strict";c.d(b,{AppBrand:()=>h});var d=c(21124),e=c(3991),f=c.n(e),g=c(35269);function h({href:a="/",textClassName:b="text-2xl font-bold",logoClassName:c=""}){let e=(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(g.v,{className:`border border-white/30 bg-white/10 text-white/60 ${c}`}),(0,d.jsx)("span",{className:b,children:"Performance Tool"})]});return a?(0,d.jsx)(f(),{href:a,className:"flex items-center gap-3",children:e}):e}},95910:(a,b,c)=>{"use strict";c.d(b,{z:()=>g});var d=c(21124),e=c(38301),f=c(20309);function g({title:a="Performance Schedule",accent:b="blue"}){let{performances:c,rehearsals:g,loading:h,error:i}=function(){let[a,b]=(0,e.useState)([]),[c,d]=(0,e.useState)([]),[f,g]=(0,e.useState)(!0),[h,i]=(0,e.useState)(null);return{performances:a,rehearsals:c,loading:f,error:h}}(),[j,k]=(0,e.useState)("list"),[l,m]=(0,e.useState)(()=>new Date),[n,o]=(0,e.useState)(""),[p,q]=(0,e.useState)(""),[r,s]=(0,e.useState)({}),[t,u]=(0,e.useState)(null),[v,w]=(0,e.useState)(!1),x=(0,e.useMemo)(()=>{let a=new Map;for(let b of c)a.set(b.id,{title:b.title,timezone:f.GI});return[...c.map(a=>{let b=f.GI,c=(0,f.so)(a.date,b);return{id:a.id,type:"performance",dateKey:c,title:a.title,timeLabel:(0,f.Z5)(a.date,b),sortTime:new Date(a.date).getTime(),location:a.location,performanceId:a.id,timezone:b,isoDate:a.date}}),...g.map(b=>{let c=new Date((0,f.Xr)(`${b.date}T${b.time}`,f.GI)||`${b.date}T${b.time}`),d=a.get(b.performance_id),e=d?.timezone||f.GI;return{id:b.id,type:"rehearsal",dateKey:b.date,title:b.title,timeLabel:(0,f.a7)(b.time),sortTime:Number.isNaN(c.getTime())?0:c.getTime(),location:b.location,performanceTitle:d?.title,performanceId:b.performance_id,timezone:e}})].sort((a,b)=>a.dateKey===b.dateKey?a.sortTime-b.sortTime:a.dateKey.localeCompare(b.dateKey))},[c,g]),y=(0,e.useMemo)(()=>{let a=n.trim().toLowerCase(),b=p.trim().toLowerCase();return x.filter(c=>{if(a&&!`${c.title} ${c.performanceTitle||""}`.toLowerCase().includes(a))return!1;if(b){let a=c.performanceId;if(!a||!(r[a]||[]).some(a=>a.toLowerCase().includes(b)))return!1}return!0})},[x,n,p,r]),z=(0,f.so)(new Date().toISOString(),f.GI),A=(0,e.useMemo)(()=>{let a={};for(let b of y)a[b.dateKey]=a[b.dateKey]||[],a[b.dateKey].push(b);return a},[y]),B="green"===b?{active:"bg-green-600 text-white",pill:"bg-green-100 text-green-800"}:{active:"bg-blue-600 text-white",pill:"bg-blue-100 text-blue-800"},C=(0,e.useMemo)(()=>[{reh:"bg-blue-600 text-white",perf:"bg-blue-600 text-white"},{reh:"bg-emerald-600 text-white",perf:"bg-emerald-600 text-white"},{reh:"bg-rose-600 text-white",perf:"bg-rose-600 text-white"},{reh:"bg-amber-600 text-white",perf:"bg-amber-600 text-white"},{reh:"bg-indigo-600 text-white",perf:"bg-indigo-600 text-white"},{reh:"bg-teal-600 text-white",perf:"bg-teal-600 text-white"}],[]),D=(0,e.useMemo)(()=>{let a={};return c.forEach((b,c)=>{a[b.id]=C[c%C.length]}),a},[c,C]),E=a=>{let b=a.performanceId?D[a.performanceId]:null;return b?"performance"===a.type?b.perf:b.reh:B.pill},F=a=>"performance"===a.type?"Perf":"Reh",G=a=>{if("rehearsal"===a.type){let b=a.performanceTitle||"Performance";return`Reh: ${a.timeLabel} - ${b}`}return`Perf: ${a.timeLabel} - ${a.title}`},H=a=>{let b=I(a),c="rehearsal"===a.type&&a.performanceTitle?`For: ${a.performanceTitle}`:"";return[a.title,c,`When: ${b}`,a.location?`Where: ${a.location}`:""].filter(Boolean).join("\n")},I=a=>"performance"===a.type&&a.timezone?(0,f.P9)(a.isoDate||"",a.timezone):a.timezone?`${a.timeLabel} (${(a=>{if(!a)return"";if(a===f.GI)return"ET";let b=new Intl.DateTimeFormat("en-US",{timeZone:a,timeZoneName:"short"}).formatToParts(new Date);return b.find(a=>"timeZoneName"===a.type)?.value||a})(a.timezone)})`:a.timeLabel,J=l.toLocaleString(void 0,{month:"long",year:"numeric"});(0,e.useMemo)(()=>{let a=new Map;for(let b of y)a.has(b.dateKey)||a.set(b.dateKey,[]),a.get(b.dateKey).push(b);return a},[y]);let K=(0,e.useMemo)(()=>{let a=new Map;for(let b of y)b.dateKey<z||(a.has(b.dateKey)||a.set(b.dateKey,[]),a.get(b.dateKey).push(b));return a},[y,z]),L=l.getFullYear(),M=l.getMonth(),N=new Date(L,M,1),O=new Date(L,M+1,0).getDate(),P=N.getDay();return h?(0,d.jsx)("div",{className:"text-center py-12 text-gray-600",children:"Loading schedule..."}):i?(0,d.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:i}):(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:a}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Performances and rehearsals, day by day."}),v&&(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Tip: Rotate your phone for a better calendar view."})]}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",children:[(0,d.jsx)("input",{value:n,onChange:a=>o(a.target.value),placeholder:"Filter by performance",className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"}),(0,d.jsx)("input",{value:p,onChange:a=>q(a.target.value),placeholder:"Filter by student",className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"}),(0,d.jsx)("button",{onClick:()=>k("list"),className:`px-4 py-2 rounded-lg font-semibold ${"list"===j?B.active:"bg-white text-gray-700 border border-gray-200"}`,children:"List"}),!v&&(0,d.jsx)("button",{onClick:()=>k("calendar"),className:`px-4 py-2 rounded-lg font-semibold ${"calendar"===j?B.active:"bg-white text-gray-700 border border-gray-200"}`,children:"Calendar"})]})]}),"list"===j&&(0,d.jsxs)("div",{className:"space-y-6",children:[[...K.keys()].map(a=>(0,d.jsxs)("div",{className:`border border-gray-200 rounded-lg p-4 ${a<z?"bg-gray-100 text-gray-500":"bg-gray-50"}`,children:[(0,d.jsx)("div",{className:"mb-3",children:(0,d.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-gray-900 text-white",children:(a=>{let[b,c,d]=a.split("-").map(a=>parseInt(a,10));return b&&c&&d?new Date(Date.UTC(b,c-1,d,12,0,0)).toLocaleDateString(void 0,{timeZone:f.GI,weekday:"long",month:"short",day:"numeric",year:"numeric"}):a})(a)})}),(0,d.jsx)("div",{className:"space-y-2",children:K.get(a).map(a=>(0,d.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 bg-white border border-gray-200 rounded-lg px-4 py-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"font-semibold text-gray-900",children:[a.title,"rehearsal"===a.type&&a.performanceTitle&&(0,d.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(for ",a.performanceTitle,")"]})]}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:a.location})]}),(0,d.jsxs)("div",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2 min-w-0",children:[(0,d.jsx)("button",{type:"button",onClick:()=>u(a),className:`px-3 py-1 rounded-full text-[clamp(10px,1.6vw,12px)] leading-tight font-semibold max-w-full ${E(a)}`,title:H(a),children:G(a)}),(0,d.jsx)("span",{children:I(a)})]})]},a.id))})]},a)),0===K.size&&(0,d.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No scheduled items yet."}),t&&(0,d.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"text-xs uppercase tracking-wide text-gray-500",children:[F(t)," Details"]}),(0,d.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:t.title}),"rehearsal"===t.type&&t.performanceTitle&&(0,d.jsxs)("div",{className:"text-sm text-gray-500",children:["for ",t.performanceTitle]})]}),(0,d.jsx)("button",{type:"button",onClick:()=>u(null),className:"text-xs text-gray-500 hover:text-gray-700",children:"Close"})]}),(0,d.jsxs)("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-700",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-semibold",children:"When:"})," ",I(t)]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-semibold",children:"Location:"})," ",t.location||"—"]})]})]})]}),"calendar"===j&&!v&&(0,d.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("button",{onClick:()=>m(new Date(L,M-1,1)),className:"px-3 py-1 rounded border border-gray-200 text-gray-600",children:"Prev"}),(0,d.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:J}),(0,d.jsx)("button",{onClick:()=>m(new Date(L,M+1,1)),className:"px-3 py-1 rounded border border-gray-200 text-gray-600",children:"Next"})]}),(0,d.jsx)("div",{className:"grid grid-cols-7 text-xs font-semibold text-gray-500 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(a=>(0,d.jsx)("div",{className:"text-center py-2",children:a},a))}),(0,d.jsxs)("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:P}).map((a,b)=>(0,d.jsx)("div",{},`empty-${b}`)),Array.from({length:O}).map((a,b)=>{let c=b+1,e=`${L}-${String(M+1).padStart(2,"0")}-${String(c).padStart(2,"0")}`,f=A[e]||[],g=e<z;return(0,d.jsxs)("div",{className:`border border-gray-200 rounded-lg p-2 ${g?"bg-gray-50 text-gray-400":""}`,children:[(0,d.jsx)("div",{className:"text-xs font-semibold text-gray-700 mb-1",children:c}),(0,d.jsx)("div",{className:"space-y-1",children:f.map(a=>(0,d.jsx)("button",{type:"button",className:`w-full text-left px-2 py-1 rounded-full text-[clamp(9px,1.6vw,11px)] leading-tight font-semibold whitespace-normal break-words ${(a=>{let b=E(a);return"performance"===a.type?`${b} ring-2 ring-black ring-offset-2 ring-offset-gray-100`:b})(a)}`,title:H(a),onClick:()=>u(a),children:G(a)},a.id))})]},e)})]}),t&&(0,d.jsxs)("div",{className:"mt-4 bg-white border border-gray-200 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"text-xs uppercase tracking-wide text-gray-500",children:[F(t)," Details"]}),(0,d.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:t.title}),"rehearsal"===t.type&&t.performanceTitle&&(0,d.jsxs)("div",{className:"text-sm text-gray-500",children:["for ",t.performanceTitle]})]}),(0,d.jsx)("button",{type:"button",onClick:()=>u(null),className:"text-xs text-gray-500 hover:text-gray-700",children:"Close"})]}),(0,d.jsxs)("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-700",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-semibold",children:"When:"})," ",I(t)]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-semibold",children:"Location:"})," ",t.location||"—"]})]})]})]})]})}}};