(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{701:(e,t,a)=>{"use strict";a.d(t,{e:()=>i});var s=a(5155),r=a(2115);let l=null;var n=a(5704);function i(e){let{value:t,onChange:a,placeholder:i,className:d,disabled:o=!1}=e,c=(0,r.useRef)(null),[m,u]=(0,r.useState)(null);return(0,r.useEffect)(()=>{var e,t;let s=n.env.NEXT_PUBLIC_GOOGLE_PLACES_API_KEY||"";if(!s||!c.current)return;let r=null;return((null==(t=window.google)||null==(e=t.maps)?void 0:e.places)?Promise.resolve():l||(l=new Promise((e,t)=>{let a=document.querySelector("script[data-google-places]");if(a){a.addEventListener("load",()=>e()),a.addEventListener("error",()=>t(Error("Failed to load Google Places")));return}let r=document.createElement("script");r.src="https://maps.googleapis.com/maps/api/js?key=".concat(s,"&libraries=places"),r.async=!0,r.defer=!0,r.dataset.googlePlaces="true",r.onload=()=>e(),r.onerror=()=>t(Error("Failed to load Google Places")),document.head.appendChild(r)}))).then(()=>{if(!c.current)return;let e=new window.google.maps.places.Autocomplete(c.current,{types:["geocode"],fields:["formatted_address","name"]});r=e,e.addListener("place_changed",()=>{let t=e.getPlace(),s=(null==t?void 0:t.formatted_address)||(null==t?void 0:t.name)||"";s&&a(s)})}).catch(e=>{u(e instanceof Error?e.message:"Failed to load Google Places")}),()=>{r&&window.google.maps.event.clearInstanceListeners(r)}},[a]),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{ref:c,type:"text",value:t,onChange:e=>a(e.target.value),placeholder:i,className:d,disabled:o}),m&&(0,s.jsx)("div",{className:"text-xs text-amber-700 mt-1",children:"Location autocomplete unavailable."})]})}},2890:(e,t,a)=>{"use strict";a.d(t,{N:()=>s});let s=(0,a(2373).UU)("https://quqvudqzztlmgrwqudho.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cXZ1ZHF6enRsbWdyd3F1ZGhvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0MzQ1NjQsImV4cCI6MjA4NDAxMDU2NH0.NwxDWyz7vQiM1r3SqMn62iLjBJQGEO1-K6qgsP74hYg")},2992:(e,t,a)=>{"use strict";function s(e){try{let t=window.localStorage.getItem(e);if(!t)return null;return JSON.parse(t)}catch(e){return null}}function r(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch(e){}}function l(e){try{window.localStorage.removeItem(e)}catch(e){}}a.d(t,{C_:()=>s,J1:()=>r,nr:()=>l})},5959:(e,t,a)=>{"use strict";a.d(t,{$:()=>n});var s=a(5155),r=a(2115),l=a(2890);function n(e){let{className:t}=e,[a,n]=(0,r.useState)(!1);return(0,s.jsx)("button",{onClick:async()=>{n(!0),await l.N.auth.signOut(),n(!1)},disabled:a,className:t,children:a?"Signing out...":"Sign Out"})}},7930:(e,t,a)=>{Promise.resolve().then(a.bind(a,9870))},9870:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var s=a(5155),r=a(2115),l=a(2619),n=a.n(l),i=a(9815),d=a(701),o=a(2992),c=a(9157);function m(e){let{onSubmit:t,isLoading:a=!1}=e,l="America/New_York",n="rehearse:performance-form",[i,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)(null),[p,g]=(0,r.useState)([{title:"",description:"",date:"",location:"",call_time:"",call_time_manual:!1,timezone:l,rehearsals:[]}]),[h,b]=(0,r.useState)(null),f=(0,r.useRef)(null);(0,r.useEffect)(()=>{var e;let t=(0,o.C_)(n);(null==t||null==(e=t.entries)?void 0:e.length)&&(g(t.entries),m(!0),x(t.savedAt||null))},[]),(0,r.useEffect)(()=>(f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{let e=new Date().toISOString();(0,o.J1)(n,{entries:p,savedAt:e}),x(e)},400),()=>{f.current&&clearTimeout(f.current)}),[p]);let y=(e,t,a)=>{g(s=>s.map((s,r)=>{if(r!==e)return s;let l={...s,[t]:a};return"call_time"===t&&(l.call_time_manual=!0),"date"!==t||s.call_time_manual||(l.call_time=(0,c.Kb)(a)),l}))},j=(e,t,a,s)=>{g(r=>r.map((r,l)=>l===e?{...r,rehearsals:r.rehearsals.map((e,r)=>r===t?{...e,[a]:s}:e)}:r))},N=async e=>{e.preventDefault(),b(null);let a=p.findIndex(e=>!e.title||!e.date||!e.location);if(-1!==a)return void b("Please fill in all required fields for performance #".concat(a+1));try{await t(p),g([{title:"",description:"",date:"",location:"",call_time:"",call_time_manual:!1,timezone:l,rehearsals:[]}]),(0,o.nr)(n),m(!1),x(null)}catch(e){b(e instanceof Error?e.message:"An error occurred")}};return(0,s.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[h&&(0,s.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,s.jsxs)("p",{className:"font-semibold",children:["Error: ",h]}),h.includes("supabaseUrl")&&(0,s.jsx)("p",{className:"text-sm mt-2",children:"\uD83D\uDCCC Make sure to configure your .env.local file with Supabase credentials. See QUICK_START.md for instructions."})]}),i&&(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 text-blue-900 px-4 py-2 rounded text-sm",children:["Draft restored from this browser. ",u?"Last saved ".concat(new Date(u).toLocaleString(void 0,{timeZone:l,timeZoneName:"short"}),"."):""]}),p.map((e,t)=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-white space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("h3",{className:"font-semibold text-gray-900",children:["Performance #",t+1]}),p.length>1&&(0,s.jsx)("button",{type:"button",onClick:()=>{g(e=>e.filter((e,a)=>a!==t))},className:"text-sm text-red-600 hover:text-red-800",children:"Remove"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Performance Title *"}),(0,s.jsx)("input",{type:"text",value:e.title,onChange:e=>y(t,"title",e.target.value),placeholder:"e.g., Spring Recital 2026",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Time *"}),(0,s.jsx)("input",{type:"datetime-local",value:e.date,onChange:e=>y(t,"date",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Call Time"}),(0,s.jsx)("input",{type:"time",value:e.call_time,onChange:e=>y(t,"call_time",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,s.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Auto-fills 1 hour before performance unless edited."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Location *"}),(0,s.jsx)(d.e,{value:e.location,onChange:e=>y(t,"location",e),placeholder:"e.g., Main Auditorium",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Timezone: ",e.timezone," (times are saved in Eastern Time)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Notes"}),(0,s.jsx)("textarea",{value:e.description,onChange:e=>y(t,"description",e.target.value),placeholder:"Add any details about this performance...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("div",{className:"font-semibold text-gray-900",children:"Rehearsals (optional)"}),(0,s.jsx)("button",{type:"button",onClick:()=>{g(e=>e.map((e,a)=>a===t?{...e,rehearsals:[...e.rehearsals,{title:"",date:"",time:"",location:""}]}:e))},className:"text-xs text-blue-700 hover:text-blue-900",children:"+ Add rehearsal"})]}),0===e.rehearsals.length&&(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"No rehearsals added."}),(0,s.jsx)("div",{className:"space-y-3",children:e.rehearsals.map((e,a)=>(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2",children:[(0,s.jsx)("input",{type:"text",value:e.title,onChange:e=>j(t,a,"title",e.target.value),placeholder:"Rehearsal title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"}),(0,s.jsx)("input",{type:"date",value:e.date,onChange:e=>j(t,a,"date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"}),(0,s.jsx)("input",{type:"time",value:e.time,onChange:e=>j(t,a,"time",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"}),(0,s.jsx)("input",{type:"text",value:e.location,onChange:e=>j(t,a,"location",e.target.value),placeholder:"Location",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{g(e=>e.map((e,s)=>s===t?{...e,rehearsals:e.rehearsals.filter((e,t)=>t!==a)}:e))},className:"mt-2 text-xs text-red-600 hover:text-red-800",children:"Remove rehearsal"})]},"reh-".concat(t,"-").concat(a)))})]})]},"performance-".concat(t))),(0,s.jsx)("button",{type:"button",onClick:()=>{g(e=>[...e,{title:"",description:"",date:"",location:"",call_time:"",call_time_manual:!1,timezone:l,rehearsals:[]}])},className:"w-full px-4 py-2 bg-gray-200 text-gray-900 rounded-lg hover:bg-gray-300 font-medium",children:"+ Add Another Performance"}),(0,s.jsx)("button",{type:"submit",disabled:a,className:"w-full px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition-colors",children:a?"Creating...":"Create Performance"})]})}function u(e){let{performances:t,onDelete:a,isLoading:r=!1}=e;return 0===t.length?(0,s.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"No performances created yet."}),(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"Create your first performance to get started!"})]}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-200",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Title"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Date"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Location"}),(0,s.jsx)("th",{className:"px-4 py-2 text-center",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:t.map(e=>(0,s.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-4 py-3 font-semibold",children:e.title}),(0,s.jsx)("td",{className:"px-4 py-3",children:((e,t)=>{if(!e)return"--";let a=new Date(e);return Number.isNaN(a.getTime())?"--":a.toLocaleString(void 0,{timeZone:c.GI,timeZoneName:"short"})})(e.date,e.timezone)}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.location}),(0,s.jsxs)("td",{className:"px-4 py-3 text-center space-x-2",children:[(0,s.jsx)(n(),{href:"/admin/performances/".concat(e.id),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",children:"Manage"}),(0,s.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to delete this performance?")&&a(e.id)},disabled:r,className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-sm disabled:bg-gray-400",children:"Delete"})]})]},e.id))})]})})}var x=a(5239);function p(){let[e,t]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null),[n,i]=(0,r.useState)(!1),[d,o]=(0,r.useState)(null),[c,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/app-logo");if(!e.ok)return;let t=await e.json();o(t.logoUrl||null),m(t.logoFileName||null)}catch(e){}})()},[]);let u=async e=>{var a;let s=null==(a=e.currentTarget.files)?void 0:a[0];if(s){t(!0),l(null),i(!1);try{let t=new FormData;t.append("file",s);let a=await fetch("/api/app-logo",{method:"POST",body:t});if(!a.ok){let e=await a.json();throw Error(e.error||"Upload failed")}let r=await a.json();o(r.logoUrl||null),m(r.logoFileName||null),i(!0),e.currentTarget.value=""}catch(e){l(e instanceof Error?e.message:"Upload failed")}finally{t(!1)}}};return(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,s.jsx)("h3",{className:"font-bold text-lg text-gray-900 mb-4",children:"App Logo"}),d&&(0,s.jsxs)("div",{className:"mb-4 flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-lg border border-gray-200 bg-white flex items-center justify-center overflow-hidden",children:(0,s.jsx)(x.default,{src:d,alt:"App logo preview",width:64,height:64,unoptimized:!0,className:"max-w-full max-h-full object-contain"})}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,s.jsx)("div",{className:"font-semibold text-gray-900",children:"Current Logo"}),(0,s.jsx)("div",{children:c||"Uploaded logo"})]})]}),!d&&(0,s.jsx)("div",{className:"mb-4 text-sm text-gray-600",children:"No logo uploaded yet. Upload one to display it across the app and exports."}),(0,s.jsxs)("label",{className:"block",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-full p-6 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-400 transition-colors bg-gray-50 hover:bg-blue-50",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl mb-2",children:"\uD83D\uDDBC️"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-700",children:e?"Uploading...":"Click to upload logo"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, SVG, WebP (max 5MB)"})]})}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:u,disabled:e,className:"hidden"})]}),a&&(0,s.jsx)("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded",children:(0,s.jsxs)("p",{className:"text-sm text-red-900",children:["❌ ",a]})}),n&&(0,s.jsx)("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded",children:(0,s.jsx)("p",{className:"text-sm text-green-900",children:"✅ Logo uploaded successfully!"})})]})}var g=a(1517),h=a(1776),b=a(5959);function f(){var e;let t=e=>e?(0,c.P9)(e,c.GI):"—",[a,l]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[d,o]=(0,r.useState)([]),[m,u]=(0,r.useState)([]),[x,p]=(0,r.useState)(!0),[g,h]=(0,r.useState)(""),[b,f]=(0,r.useState)(""),[y,j]=(0,r.useState)("#6b7280"),[N,v]=(0,r.useState)({}),[w,_]=(0,r.useState)({}),[C,S]=(0,r.useState)({}),[k,P]=(0,r.useState)(null),[E,A]=(0,r.useState)(""),[T,I]=(0,r.useState)(""),[D,U]=(0,r.useState)(""),[L,O]=(0,r.useState)(null),[F,z]=(0,r.useState)("assignments"),[J,R]=(0,r.useState)(null),[M,G]=(0,r.useState)(""),[X,q]=(0,r.useState)(""),[Z,B]=(0,r.useState)("#6b7280"),[Q,K]=(0,r.useState)(null),[Y,H]=(0,r.useState)(""),[V,W]=(0,r.useState)(""),[$,ee]=(0,r.useState)(""),et=async()=>{p(!0);try{let[e,t,a,s]=await Promise.all([fetch("/api/uniform-types"),fetch("/api/uniform-items"),fetch("/api/students"),fetch("/api/performances")]),[r,n,d,c]=await Promise.all([e.ok?e.json():[],t.ok?t.json():[],a.ok?a.json():[],s.ok?s.json():[]]);l(r||[]),i(n||[]),o(d||[]),u(c||[])}finally{p(!1)}};(0,r.useEffect)(()=>{et()},[]);let ea=(0,r.useMemo)(()=>{let e={};return m.forEach(t=>{e[t.id]=t.title}),e},[m]),es=()=>{P(null),A(""),I(""),U("")},er=e=>e.trim().toUpperCase().slice(0,3),el=(e,t,a)=>{let s=er(e.code||""),r=t.trim().toUpperCase(),l=a.trim();return s&&r&&l?"".concat(s,"-").concat(r,"-").concat(l):""},en=e=>{let t=e.split("-");return t.length>=3?{code:t[0],size:t[1],seq:t.slice(2).join("-")}:{code:"",size:"",seq:e}},ei=(0,r.useMemo)(()=>{let e={};n.forEach(t=>{e[t.uniform_type_id]=e[t.uniform_type_id]||[],e[t.uniform_type_id].push(t)});let t=["XXS","XS","S","M","L","XL","XXL","XXXL"],a=e=>{let a=e.trim();if(!a)return t.length+2;let s=Number(a);if(Number.isFinite(s))return -100+s;let r=t.indexOf(a.toUpperCase());return -1===r?t.length+1:r};return Object.values(e).forEach(e=>e.sort((e,t)=>{let s=en(e.item_number),r=en(t.item_number),l=a(s.size)-a(r.size);if(0!==l)return l;let n=Number(s.seq),i=Number(r.seq);return Number.isFinite(n)&&Number.isFinite(i)&&n!==i?n-i:e.item_number.localeCompare(t.item_number)})),e},[n]),ed=e=>{let t=e.trim().toLowerCase();return t?d.filter(e=>e.name.toLowerCase().includes(t)).slice(0,5):[]},eo=async(e,t)=>{let a="return"===t?{returned_at:new Date().toISOString()}:{returned_at:null,distributed_at:new Date().toISOString()};if(!(await fetch("/api/uniform-assignments/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)return void alert("Failed to update uniform status");await et()},ec=async e=>{if(!(await fetch("/api/uniform-assignments/".concat(e),{method:"DELETE"})).ok)return void alert("Failed to remove assignment");await et()},em=(null==L||null==(e=L.uniform_assignments)?void 0:e.find(e=>!e.returned_at))||null,eu=(null==em?void 0:em.id)||null;return x?(0,s.jsx)("div",{className:"text-gray-600",children:"Loading uniforms..."}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,s.jsx)("input",{type:"color",value:y,onChange:e=>j(e.target.value),className:"h-10 w-12 rounded border border-gray-300",title:"Uniform color"}),(0,s.jsx)("input",{value:b,onChange:e=>f(e.target.value),placeholder:"Code (e.g., A)",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm w-32"}),(0,s.jsx)("input",{value:g,onChange:e=>h(e.target.value),placeholder:"New uniform type (e.g., Black Tee)",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm min-w-[220px]"}),(0,s.jsx)("button",{onClick:async()=>{let e=g.trim(),t=er(b);e&&((await fetch("/api/uniform-types",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,code:t,color:y})})).ok?(h(""),f(""),j("#6b7280"),await et()):alert("Failed to create uniform type"))},className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-semibold",children:"Add Uniform Type"})]}),0===a.length&&(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"No uniform types yet."}),a.map(e=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-3",children:[J===e.id?(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsx)("input",{type:"color",value:Z,onChange:e=>B(e.target.value),className:"h-9 w-10 rounded border border-gray-300",title:"Uniform color"}),(0,s.jsx)("input",{value:X,onChange:e=>q(e.target.value),className:"px-3 py-2 border border-gray-300 rounded text-sm w-24"}),(0,s.jsx)("input",{value:M,onChange:e=>G(e.target.value),className:"px-3 py-2 border border-gray-300 rounded text-sm"}),(0,s.jsx)("button",{onClick:async()=>{let t=M.trim(),a=er(X);t&&((await fetch("/api/uniform-types/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,code:a,color:Z})})).ok?(R(null),await et()):alert("Failed to update uniform type"))},className:"px-3 py-2 bg-blue-600 text-white rounded text-sm",children:"Save"}),(0,s.jsx)("button",{onClick:()=>R(null),className:"px-3 py-2 bg-gray-200 text-gray-700 rounded text-sm",children:"Cancel"})]}):(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),e.color&&(0,s.jsx)("span",{className:"h-3 w-3 rounded-full border border-gray-300",style:{backgroundColor:e.color}}),e.code&&(0,s.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-200 text-gray-700",children:["Code: ",e.code]}),(0,s.jsx)("button",{onClick:()=>{R(e.id),G(e.name),q(e.code||""),B(e.color||"#6b7280")},className:"text-xs text-blue-600 hover:text-blue-800",children:"Edit"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs text-gray-600",children:e.code?"".concat(er(e.code),"-"):"Code-"}),(0,s.jsx)("input",{value:w[e.id]||"",onChange:t=>_(a=>({...a,[e.id]:t.target.value})),placeholder:"Size",className:"px-3 py-2 border border-gray-300 rounded text-sm w-20"}),(0,s.jsx)("input",{value:C[e.id]||"",onChange:t=>S(a=>({...a,[e.id]:t.target.value})),placeholder:"#",className:"px-3 py-2 border border-gray-300 rounded text-sm w-20"})]}),(0,s.jsx)("button",{onClick:async()=>{let t=el(e,w[e.id]||"",C[e.id]||"");return t?(ei[e.id]||[]).some(e=>e.item_number.toLowerCase()===t.toLowerCase())?void alert("That size/number already exists for this uniform type."):void((await fetch("/api/uniform-items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uniform_type_id:e.id,item_number:t})})).ok?(v(t=>({...t,[e.id]:""})),_(t=>({...t,[e.id]:""})),S(t=>({...t,[e.id]:""})),await et()):alert("Failed to add item")):void alert("Enter a uniform code, size, and number before adding an item.")},className:"px-3 py-2 bg-gray-900 text-white rounded text-sm",children:"Add Item"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-5 gap-2 text-[11px] font-semibold text-gray-500 uppercase tracking-wide px-2",children:[(0,s.jsx)("div",{children:"Item"}),(0,s.jsx)("div",{children:"Status"}),(0,s.jsx)("div",{children:"Assignments"}),(0,s.jsx)("div",{children:"Log"}),(0,s.jsx)("div",{children:"Assign"})]}),(ei[e.id]||[]).map(t=>{let a=(t.uniform_assignments||[]).filter(e=>!e.returned_at),r=a[0]||null,l=a.length>1?"Multiple assignments":r?r.distributed_at?"Distributed":"Assigned":"On hand",n=(t.uniform_assignments||[]).length,i=(t.uniform_assignments||[]).filter(e=>!e.returned_at).length,d=k===t.id?ed(T||""):[];return(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 bg-white shadow-sm grid grid-cols-5 gap-2 items-center text-sm",children:[(0,s.jsx)("div",{children:Q===t.id?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs text-gray-600",children:e.code?"".concat(er(e.code),"-"):"Code-"}),(0,s.jsx)("input",{value:V,onChange:e=>W(e.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm w-16"}),(0,s.jsx)("input",{value:$,onChange:e=>ee(e.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm w-16"}),(0,s.jsx)("button",{onClick:async()=>{let a=el(e,V,$);a&&((await fetch("/api/uniform-items/".concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_number:a})})).ok?(K(null),await et()):alert("Failed to update item number"))},className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"Save"}),(0,s.jsx)("button",{onClick:()=>K(null),className:"px-2 py-1 bg-gray-200 text-gray-700 rounded text-xs",children:"Cancel"})]}):(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>O(t),className:"text-left",children:(0,s.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold text-white",style:{backgroundColor:e.color||"#374151"},children:["#",t.item_number]})}),(0,s.jsx)("button",{onClick:()=>{K(t.id);let e=en(t.item_number);H(t.item_number),W(e.size),ee(e.seq)},className:"text-[10px] text-blue-600 hover:text-blue-800",children:"Edit"}),(0,s.jsx)("button",{onClick:async()=>{confirm("Delete uniform item #".concat(t.item_number,"?"))&&((await fetch("/api/uniform-items/".concat(t.id),{method:"DELETE"})).ok?await et():alert("Failed to delete item"))},className:"text-[10px] text-red-600 hover:text-red-800",children:"Delete"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-[10px] uppercase px-2 py-1 rounded-full font-semibold ".concat(r?r.distributed_at?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"),children:l}),a.length>0&&(0,s.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:a.length>1?(0,s.jsx)("div",{className:"text-[10px] text-gray-500",children:"Multiple assignments"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(null==r?void 0:r.student_name)||"Unknown"}),(null==r?void 0:r.performance_id)&&(0,s.jsxs)("div",{className:"text-[10px] text-gray-500",children:["Performance:"," ",ea[r.performance_id]||r.performance_id]}),(null==r?void 0:r.distributed_at)&&(0,s.jsxs)("div",{className:"text-[10px] text-gray-500",children:["Given ",(0,c.P9)(r.distributed_at,c.GI)]})]})})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("button",{onClick:()=>{O(t),z("assignments")},className:"px-2 py-1 text-xs rounded bg-gray-200 text-gray-700 hover:bg-gray-300",children:[i," active / ",n," total"]})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{onClick:()=>{O(t),z("log")},className:"px-2 py-1 text-xs rounded bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Open log"})}),(0,s.jsx)("div",{children:k===t.id?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("input",{value:T,onChange:e=>I(e.target.value),onKeyDown:e=>{if("Enter"!==e.key)return;e.preventDefault();let t=ed(T)[0];t&&(A(t.id),I(t.name))},placeholder:"Type student name",list:"student-suggestions-".concat(t.id),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}),(0,s.jsx)("datalist",{id:"student-suggestions-".concat(t.id),children:d.map(e=>(0,s.jsx)("option",{value:e.name},e.id))}),(0,s.jsxs)("select",{value:D,onChange:e=>U(e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",children:[(0,s.jsx)("option",{value:"",children:"Performance (optional)"}),m.map(e=>(0,s.jsx)("option",{value:e.id,children:e.title},e.id))]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:async()=>{let e=await fetch("/api/uniform-assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uniform_item_id:t.id,student_id:E||null,student_name:T||null,performance_id:D||null,distributed_at:null})});if(e.ok){if(D&&E)try{let e=await fetch("/api/signups?performanceId=".concat(D,"&studentId=").concat(E));if(e.ok){let a=(await e.json()||[])[0];(null==a?void 0:a.id)&&await fetch("/api/signups/".concat(a.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({assigned_uniform_item_id:t.id})})}}catch(e){}await et(),es()}else{let t=await e.json().catch(()=>({}));alert((null==t?void 0:t.error)||"Failed to assign uniform")}},className:"px-3 py-1 text-xs rounded bg-emerald-600 text-white",children:"Assign"}),(0,s.jsx)("button",{onClick:es,className:"px-3 py-1 text-xs rounded bg-gray-200 text-gray-700",children:"Cancel"})]})]}):(0,s.jsx)("button",{onClick:()=>P(t.id),className:"px-3 py-1 text-xs rounded bg-blue-600 text-white",children:"Assign"})})]},t.id)}),0===(ei[e.id]||[]).length&&(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"No items yet."})]})]},e.id)),L&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4",children:(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 w-full max-w-2xl shadow-lg",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs uppercase tracking-wide text-gray-500",children:"log"===F?"Uniform Log":"Uniform Assignments"}),(0,s.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:["#",L.item_number]})]}),(0,s.jsx)("button",{type:"button",onClick:()=>O(null),className:"text-xs text-gray-500 hover:text-gray-700",children:"Close"})]}),(0,s.jsx)("div",{className:"mt-3 max-h-[70vh] overflow-y-auto space-y-2 text-sm text-gray-700",children:"assignments"===F?(0,s.jsxs)(s.Fragment,{children:[(L.uniform_assignments||[]).filter(e=>!e.returned_at).map(e=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded p-2",children:[(0,s.jsx)("div",{className:"font-semibold",children:e.student_name||"Unknown"}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Distributed:"," ",t(e.distributed_at)]}),e.performance_id&&(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Performance: ",ea[e.performance_id]||e.performance_id]})]},e.id)),0===(L.uniform_assignments||[]).filter(e=>!e.returned_at).length&&(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"No active assignments."})]}):(0,s.jsxs)(s.Fragment,{children:[(L.uniform_assignments||[]).slice().sort((e,t)=>new Date(t.distributed_at||0).getTime()-new Date(e.distributed_at||0).getTime()).map(e=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded p-2",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsx)("div",{className:"font-semibold",children:e.student_name||"Unknown"}),e.returned_at?(0,s.jsx)("button",{type:"button",onClick:()=>{confirm("Mark this uniform as distributed again?")&&eo(e.id,"distribute")},disabled:!!eu,className:"px-2 py-1 text-[10px] rounded bg-emerald-600 text-white disabled:bg-gray-300",children:"Distribute"}):e.distributed_at?(0,s.jsx)("button",{type:"button",onClick:()=>{confirm("Mark this uniform as returned?")&&eo(e.id,"return")},disabled:eu!==e.id,className:"px-2 py-1 text-[10px] rounded bg-blue-600 text-white disabled:bg-gray-300",children:"Return"}):(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{confirm("Mark this uniform as distributed?")&&eo(e.id,"distribute")},disabled:!!(eu&&eu!==e.id),className:"px-2 py-1 text-[10px] rounded bg-emerald-600 text-white disabled:bg-gray-300",children:"Distribute"}),(0,s.jsx)("button",{type:"button",onClick:()=>{confirm("Remove this assignment?")&&ec(e.id)},className:"px-2 py-1 text-[10px] rounded bg-gray-300 text-gray-800",children:"Remove"})]})]}),(0,s.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:(0,s.jsx)("span",{className:"text-[10px] font-semibold px-2 py-1 rounded-full border ".concat(e.returned_at?"bg-blue-100 text-blue-700 border-blue-200":e.distributed_at?"bg-purple-100 text-purple-700 border-purple-200":"bg-amber-100 text-amber-700 border-amber-200"),children:e.returned_at?"Returned":e.distributed_at?"Distributed":"Assigned"})}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Assigned:"," ",e.created_at?(0,c.P9)(e.created_at,c.GI):"—"]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Distributed:"," ",t(e.distributed_at)]}),e.performance_id&&(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Performance: ",ea[e.performance_id]||e.performance_id]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Returned:"," ",e.returned_at?(0,c.P9)(e.returned_at,c.GI):"—"]})]},e.id)),0===(L.uniform_assignments||[]).length&&(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"No history yet."})]})})]})})]})}function y(){let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[n,i]=(0,r.useState)(null),[d,o]=(0,r.useState)({}),[m,u]=(0,r.useState)([]),[x,p]=(0,r.useState)([]),[g,h]=(0,r.useState)({}),b=async()=>{l(!0);try{let[e,a,s,r]=await Promise.all([fetch("/api/students"),fetch("/api/uniform-items"),fetch("/api/uniform-types"),fetch("/api/performances")]),l=e.ok?await e.json():[],n=a.ok?await a.json():[],i=s.ok?await s.json():[],d=r.ok?await r.json():[],c=Array.isArray(l)?l:[];t(c),u(Array.isArray(n)?n:[]),p(Array.isArray(i)?i:[]);let m={};(Array.isArray(d)?d:[]).forEach(e=>{(null==e?void 0:e.id)&&(m[e.id]=e.title||e.name||e.id)}),h(m);let x={};c.forEach(e=>{x[e.id]={name:e.name||"",email:e.email||""}}),o(x)}finally{l(!1)}};(0,r.useEffect)(()=>{b()},[]);let f=async e=>{let a=d[e.id];if(a){i(e.id);try{let s=await fetch("/api/students/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name.trim(),email:a.email.trim()||null})});if(!s.ok)return void alert("Failed to update student");let r=await s.json();t(t=>t.map(t=>t.id===e.id?r:t)),o(t=>({...t,[e.id]:{name:r.name||"",email:r.email||""}}))}finally{i(null)}}};if(a)return(0,s.jsx)("div",{className:"text-gray-600",children:"Loading roster..."});if(0===e.length)return(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"No students found."});let y=new Map(x.map(e=>[e.id,e.name])),j={},N={};return m.forEach(e=>{let t=(e.uniform_assignments||[]).filter(e=>!e.returned_at&&e.student_id),a={};t.forEach(t=>{t.student_id&&(t.performance_id&&(a[t.student_id]=a[t.student_id]||new Set,a[t.student_id].add(t.performance_id)),t.distributed_at&&(N[t.student_id]=N[t.student_id]||[],N[t.student_id].push({item:e,distributed_at:t.distributed_at})))}),Object.entries(a).forEach(t=>{let[a,s]=t;j[a]=j[a]||[],j[a].push({item:e,performanceIds:s})})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Full Roster"}),(0,s.jsx)("button",{type:"button",onClick:b,className:"px-3 py-2 text-sm rounded bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Refresh"})]}),(0,s.jsxs)("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:[(0,s.jsx)("table",{className:"min-w-full text-sm",children:(0,s.jsx)("thead",{className:"bg-gray-50 text-xs uppercase text-gray-500 sticky top-0 z-10",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Name"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Email"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Assigned Uniforms"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"In Possession"}),(0,s.jsx)("th",{className:"px-4 py-3 text-right",children:"Actions"})]})})}),(0,s.jsx)("div",{className:"max-h-[520px] overflow-y-auto",children:(0,s.jsx)("table",{className:"min-w-full text-sm",children:(0,s.jsx)("tbody",{children:e.map(e=>{let t=d[e.id]||{name:"",email:""},a=t.name!==(e.name||"")||t.email!==(e.email||""),r=j[e.id]||[],l=N[e.id]||[];return(0,s.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsx)("input",{value:t.name,onChange:a=>o(s=>({...s,[e.id]:{...t,name:a.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded"})}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsx)("input",{value:t.email,onChange:a=>o(s=>({...s,[e.id]:{...t,email:a.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded"})}),(0,s.jsx)("td",{className:"px-4 py-3 text-xs text-gray-700",children:0===r.length?"—":(0,s.jsx)("div",{className:"space-y-1",children:r.map((t,a)=>{let r=y.get(t.item.uniform_type_id)||"Uniform",l=Array.from(t.performanceIds).map(e=>g[e]||e).join(", ");return(0,s.jsxs)("div",{children:[r," #",t.item.item_number," — ",l||"—"]},"".concat(e.id,"-assigned-").concat(a))})})}),(0,s.jsx)("td",{className:"px-4 py-3 text-xs text-gray-700",children:0===l.length?"—":(0,s.jsx)("div",{className:"space-y-1",children:l.map((t,a)=>{let r=y.get(t.item.uniform_type_id)||"Uniform",l=t.distributed_at?(0,c.P9)(t.distributed_at,c.GI):"—";return(0,s.jsxs)("div",{children:[r," #",t.item.item_number," — Since ",l]},"".concat(e.id,"-holding-").concat(a))})})}),(0,s.jsx)("td",{className:"px-4 py-3 text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>f(e),disabled:!a||n===e.id,className:"px-3 py-2 text-xs rounded bg-blue-600 text-white disabled:bg-gray-300",children:n===e.id?"Saving...":"Save"}),(0,s.jsx)("button",{type:"button",onClick:()=>{o(t=>({...t,[e.id]:{name:e.name||"",email:e.email||""}}))},disabled:!a,className:"px-3 py-2 text-xs rounded bg-gray-200 text-gray-700 disabled:bg-gray-100",children:"Reset"})]})})]},e.id)})})})})]})]})}function j(){let[e,t]=(0,r.useState)("performances"),[a,l]=(0,r.useState)(!1),{performances:d,loading:o,createPerformance:m,deletePerformance:u}=(0,i.f)(),x=async e=>{for(let t of e){let e=await m(t.title,t.description,t.date,t.location,t.call_time,t.timezone||c.GI);for(let a of(t.rehearsals||[]).filter(e=>e.date&&e.time&&e.location))await fetch("/api/rehearsals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({performance_id:e.id,title:a.title||"".concat(t.title," Rehearsal"),date:a.date,time:a.time,location:a.location})})}l(!1)};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,s.jsx)("nav",{className:"bg-blue-900 text-white p-4 shadow-lg",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[(0,s.jsx)(g.AppBrand,{href:"/"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(n(),{href:"/",className:"hover:bg-blue-800 px-3 py-2 rounded",children:"Home"}),(0,s.jsx)("span",{className:"px-3 py-2 bg-blue-800 rounded",children:"Admin Panel"}),(0,s.jsx)(b.$,{className:"px-3 py-2 bg-blue-700 rounded hover:bg-blue-600 text-sm"})]})]})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Manage performances, rehearsals, parts, and stage positioning"}),(0,s.jsx)("div",{className:"md:hidden mt-3 text-[11px] text-gray-500",children:"Tip: Rotate your phone for a better view."})]}),(0,s.jsxs)("div",{className:"flex gap-4 mb-8 flex-wrap",children:[(0,s.jsx)("button",{onClick:()=>t("performances"),className:"px-6 py-3 rounded-lg font-semibold transition-colors ".concat("performances"===e?"bg-blue-600 text-white":"bg-white text-gray-900 hover:bg-gray-50"),children:"Performances"}),(0,s.jsx)("button",{onClick:()=>t("schedule"),className:"px-6 py-3 rounded-lg font-semibold transition-colors ".concat("schedule"===e?"bg-blue-600 text-white":"bg-white text-gray-900 hover:bg-gray-50"),children:"Schedule"}),(0,s.jsx)("button",{onClick:()=>t("branding"),className:"px-6 py-3 rounded-lg font-semibold transition-colors ".concat("branding"===e?"bg-blue-600 text-white":"bg-white text-gray-900 hover:bg-gray-50"),children:"Branding"}),(0,s.jsx)("button",{onClick:()=>t("uniforms"),className:"px-6 py-3 rounded-lg font-semibold transition-colors ".concat("uniforms"===e?"bg-blue-600 text-white":"bg-white text-gray-900 hover:bg-gray-50"),children:"Uniforms"}),(0,s.jsx)("button",{onClick:()=>t("roster"),className:"px-6 py-3 rounded-lg font-semibold transition-colors ".concat("roster"===e?"bg-blue-600 text-white":"bg-white text-gray-900 hover:bg-gray-50"),children:"Full Roster"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:["performances"===e&&(0,s.jsx)(N,{performances:d,loading:o,showForm:a,onToggleForm:()=>l(!a),onCreatePerformance:x,onDeletePerformance:u}),"schedule"===e&&(0,s.jsx)(h.z,{title:"Studio Schedule",accent:"blue"}),"branding"===e&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Branding"}),(0,s.jsx)("div",{className:"max-w-md",children:(0,s.jsx)(p,{})})]}),"uniforms"===e&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Uniforms"}),(0,s.jsx)(f,{})]}),"roster"===e&&(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsx)(y,{})})]})]})]})}function N(e){let{performances:t,loading:a,showForm:r,onToggleForm:l,onCreatePerformance:n,onDeletePerformance:i}=e;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"Performances"}),(0,s.jsx)("button",{onClick:l,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold",children:r?"Cancel":"+ Create New Performance"})]}),r&&(0,s.jsx)("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg border border-gray-200",children:(0,s.jsx)(m,{onSubmit:n})}),a?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-gray-600",children:"Loading performances..."})}):(0,s.jsx)(u,{performances:t,onDelete:i})]})}}},e=>{e.O(0,[5481,2373,2590,8441,1255,7358],()=>e(e.s=7930)),_N_E=e.O()}]);