"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/admin/performances/[id]/page",{

/***/ "(app-pages-browser)/./src/components/MarkingPanel.tsx":
/*!*****************************************!*\
  !*** ./src/components/MarkingPanel.tsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkingPanel: () => (/* binding */ MarkingPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_MusicPlayer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/MusicPlayer */ \"(app-pages-browser)/./src/components/MusicPlayer.tsx\");\n/* __next_internal_client_entry_do_not_use__ MarkingPanel auto */ \nvar _s = $RefreshSig$();\n\n\nfunction formatTime(seconds) {\n    const total = Math.max(0, Math.floor(seconds));\n    const mins = Math.floor(total / 60);\n    const secs = total % 60;\n    return \"\".concat(mins, \":\").concat(secs.toString().padStart(2, \"0\"));\n}\nfunction uuid() {\n    return Math.random().toString(36).slice(2, 10) + Date.now().toString(36);\n}\nfunction MarkingPanel(param) {\n    let { performanceId, parts, musicUrl, performanceTitle, onPartsUpdated } = param;\n    _s();\n    const [rows, setRows] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeRowId, setActiveRowId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentTime, setCurrentTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [assignments, setAssignments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [subpartsByPart, setSubpartsByPart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [newSubpartTitle, setNewSubpartTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [sessionTitle, setSessionTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"New Marking Session\");\n    const [customTitle, setCustomTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [sessionList, setSessionList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedSessionId, setSelectedSessionId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [allSessions, setAllSessions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [performanceNameMap, setPerformanceNameMap] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [musicDuration, setMusicDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const audioCleanupRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MarkingPanel.useEffect\": ()=>{\n            return ({\n                \"MarkingPanel.useEffect\": ()=>{\n                    var _audioCleanupRef_current;\n                    (_audioCleanupRef_current = audioCleanupRef.current) === null || _audioCleanupRef_current === void 0 ? void 0 : _audioCleanupRef_current.call(audioCleanupRef);\n                }\n            })[\"MarkingPanel.useEffect\"];\n        }\n    }[\"MarkingPanel.useEffect\"], []);\n    const handleAudioReady = (audio)=>{\n        if (audioCleanupRef.current) audioCleanupRef.current();\n        if (!audio) {\n            setMusicDuration(null);\n            audioCleanupRef.current = null;\n            return;\n        }\n        const update = ()=>{\n            const duration = Number.isFinite(audio.duration) ? audio.duration : null;\n            setMusicDuration(duration);\n        };\n        audio.addEventListener(\"loadedmetadata\", update);\n        audio.addEventListener(\"durationchange\", update);\n        update();\n        audioCleanupRef.current = ()=>{\n            audio.removeEventListener(\"loadedmetadata\", update);\n            audio.removeEventListener(\"durationchange\", update);\n        };\n    };\n    const assignedMarkCounts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"MarkingPanel.useMemo[assignedMarkCounts]\": ()=>{\n            const counts = {};\n            Object.values(assignments).forEach({\n                \"MarkingPanel.useMemo[assignedMarkCounts]\": (value)=>{\n                    if (typeof value === \"string\") {\n                        counts[value] = (counts[value] || 0) + 1;\n                    } else if (value === null || value === void 0 ? void 0 : value.markId) {\n                        counts[value.markId] = (counts[value.markId] || 0) + 1;\n                    }\n                }\n            }[\"MarkingPanel.useMemo[assignedMarkCounts]\"]);\n            return counts;\n        }\n    }[\"MarkingPanel.useMemo[assignedMarkCounts]\"], [\n        assignments\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MarkingPanel.useEffect\": ()=>{\n            if (rows.length === 0) {\n                const firstRow = {\n                    id: uuid(),\n                    label: \"Row 1\",\n                    note: \"\",\n                    marks: []\n                };\n                setRows([\n                    firstRow\n                ]);\n                setActiveRowId(firstRow.id);\n            }\n        }\n    }[\"MarkingPanel.useEffect\"], [\n        rows.length\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MarkingPanel.useEffect\": ()=>{\n            if (customTitle) return;\n            const title = \"\".concat(new Date().toLocaleString(), \" \\xc2\\xb7 \").concat(performanceTitle || \"Performance\");\n            setSessionTitle(title);\n        }\n    }[\"MarkingPanel.useEffect\"], [\n        performanceTitle,\n        customTitle\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MarkingPanel.useEffect\": ()=>{\n            if (!performanceId) return;\n            const fetchSubparts = {\n                \"MarkingPanel.useEffect.fetchSubparts\": async ()=>{\n                    const entries = await Promise.all(parts.map({\n                        \"MarkingPanel.useEffect.fetchSubparts\": async (part)=>{\n                            const res = await fetch(\"/api/subparts?partId=\".concat(part.id));\n                            if (!res.ok) return [\n                                part.id,\n                                []\n                            ];\n                            const data = await res.json();\n                            return [\n                                part.id,\n                                data || []\n                            ];\n                        }\n                    }[\"MarkingPanel.useEffect.fetchSubparts\"]));\n                    const map = {};\n                    entries.forEach({\n                        \"MarkingPanel.useEffect.fetchSubparts\": (param)=>{\n                            let [partId, list] = param;\n                            map[partId] = list;\n                        }\n                    }[\"MarkingPanel.useEffect.fetchSubparts\"]);\n                    setSubpartsByPart(map);\n                }\n            }[\"MarkingPanel.useEffect.fetchSubparts\"];\n            fetchSubparts();\n        }\n    }[\"MarkingPanel.useEffect\"], [\n        performanceId,\n        parts\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MarkingPanel.useEffect\": ()=>{\n            if (!performanceId) return;\n            const fetchSessions = {\n                \"MarkingPanel.useEffect.fetchSessions\": async ()=>{\n                    const res = await fetch(allSessions ? \"/api/marking-sessions?all=1\" : \"/api/marking-sessions?performanceId=\".concat(performanceId));\n                    if (!res.ok) return;\n                    const data = await res.json();\n                    setSessionList(data || []);\n                }\n            }[\"MarkingPanel.useEffect.fetchSessions\"];\n            fetchSessions();\n        }\n    }[\"MarkingPanel.useEffect\"], [\n        performanceId,\n        allSessions\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MarkingPanel.useEffect\": ()=>{\n            const fetchPerformanceNames = {\n                \"MarkingPanel.useEffect.fetchPerformanceNames\": async ()=>{\n                    const res = await fetch(\"/api/performances\");\n                    if (!res.ok) return;\n                    const data = await res.json();\n                    const map = {};\n                    (data || []).forEach({\n                        \"MarkingPanel.useEffect.fetchPerformanceNames\": (perf)=>{\n                            map[perf.id] = perf.title || \"Performance\";\n                        }\n                    }[\"MarkingPanel.useEffect.fetchPerformanceNames\"]);\n                    setPerformanceNameMap(map);\n                }\n            }[\"MarkingPanel.useEffect.fetchPerformanceNames\"];\n            fetchPerformanceNames();\n        }\n    }[\"MarkingPanel.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MarkingPanel.useEffect\": ()=>{\n            const handleKeyDown = {\n                \"MarkingPanel.useEffect.handleKeyDown\": (event)=>{\n                    var _target_tagName;\n                    const target = event.target;\n                    const tag = target === null || target === void 0 ? void 0 : (_target_tagName = target.tagName) === null || _target_tagName === void 0 ? void 0 : _target_tagName.toLowerCase();\n                    if (tag === \"input\" || tag === \"textarea\" || tag === \"select\") return;\n                    if (event.code === \"Space\") {\n                        var _rows_;\n                        event.preventDefault();\n                        const rowId = activeRowId || ((_rows_ = rows[0]) === null || _rows_ === void 0 ? void 0 : _rows_.id);\n                        if (!rowId) return;\n                        const mark = {\n                            id: uuid(),\n                            time: currentTime,\n                            createdAt: new Date().toISOString()\n                        };\n                        setRows({\n                            \"MarkingPanel.useEffect.handleKeyDown\": (prev)=>prev.map({\n                                    \"MarkingPanel.useEffect.handleKeyDown\": (row)=>row.id === rowId ? {\n                                            ...row,\n                                            marks: [\n                                                ...row.marks,\n                                                mark\n                                            ]\n                                        } : row\n                                }[\"MarkingPanel.useEffect.handleKeyDown\"])\n                        }[\"MarkingPanel.useEffect.handleKeyDown\"]);\n                    }\n                    if (event.key === \"e\" || event.key === \"E\") {\n                        event.preventDefault();\n                        const nextIndex = rows.length + 1;\n                        const newRow = {\n                            id: uuid(),\n                            label: \"Row \".concat(nextIndex),\n                            note: \"\",\n                            marks: []\n                        };\n                        setRows({\n                            \"MarkingPanel.useEffect.handleKeyDown\": (prev)=>{\n                                const idx = activeRowId ? prev.findIndex({\n                                    \"MarkingPanel.useEffect.handleKeyDown\": (r)=>r.id === activeRowId\n                                }[\"MarkingPanel.useEffect.handleKeyDown\"]) : prev.length - 1;\n                                if (idx === -1) return [\n                                    ...prev,\n                                    newRow\n                                ];\n                                const next = [\n                                    ...prev\n                                ];\n                                next.splice(idx + 1, 0, newRow);\n                                return next;\n                            }\n                        }[\"MarkingPanel.useEffect.handleKeyDown\"]);\n                        setActiveRowId(newRow.id);\n                    }\n                }\n            }[\"MarkingPanel.useEffect.handleKeyDown\"];\n            window.addEventListener(\"keydown\", handleKeyDown);\n            return ({\n                \"MarkingPanel.useEffect\": ()=>window.removeEventListener(\"keydown\", handleKeyDown)\n            })[\"MarkingPanel.useEffect\"];\n        }\n    }[\"MarkingPanel.useEffect\"], [\n        activeRowId,\n        currentTime,\n        rows\n    ]);\n    const handleDropToRow = (rowId, markId)=>{\n        setRows((prev)=>{\n            let moved = null;\n            const removed = prev.map((row)=>{\n                const nextMarks = row.marks.filter((m)=>{\n                    if (m.id === markId) {\n                        moved = m;\n                        return false;\n                    }\n                    return true;\n                });\n                return {\n                    ...row,\n                    marks: nextMarks\n                };\n            });\n            if (!moved) return prev;\n            return removed.map((row)=>row.id === rowId ? {\n                    ...row,\n                    marks: [\n                        ...row.marks,\n                        moved\n                    ]\n                } : row);\n        });\n    };\n    const handleRemoveMark = (rowId, markId)=>{\n        setRows((prev)=>prev.map((row)=>row.id === rowId ? {\n                    ...row,\n                    marks: row.marks.filter((m)=>m.id !== markId)\n                } : row));\n    };\n    const normalizeAssignments = (rowsSnapshot, raw)=>{\n        const normalized = {};\n        Object.entries(raw || {}).forEach((param)=>{\n            let [key, value] = param;\n            if (typeof value === \"string\") {\n                const mark = rowsSnapshot.flatMap((r)=>r.marks).find((m)=>m.id === value);\n                if (mark) {\n                    normalized[key] = {\n                        markId: value,\n                        time: mark.time\n                    };\n                }\n            } else if (value && typeof value === \"object\") {\n                normalized[key] = value;\n            }\n        });\n        return normalized;\n    };\n    const getAssignedTime = (targetKey)=>{\n        const value = assignments[targetKey];\n        if (!value) return null;\n        if (typeof value === \"string\") {\n            for (const row of rows){\n                const mark = row.marks.find((m)=>m.id === value);\n                if (mark) return mark.time;\n            }\n            return null;\n        }\n        var _value_time;\n        return (_value_time = value.time) !== null && _value_time !== void 0 ? _value_time : null;\n    };\n    const getExistingTime = (type, id, field)=>{\n        if (type === \"part\") {\n            const part = parts.find((p)=>p.id === id);\n            if (!part) return null;\n            var _part_timepoint_seconds, _part_timepoint_end_seconds;\n            return field === \"start\" ? (_part_timepoint_seconds = part.timepoint_seconds) !== null && _part_timepoint_seconds !== void 0 ? _part_timepoint_seconds : null : (_part_timepoint_end_seconds = part.timepoint_end_seconds) !== null && _part_timepoint_end_seconds !== void 0 ? _part_timepoint_end_seconds : null;\n        }\n        const sub = Object.values(subpartsByPart).flat().find((s)=>s.id === id);\n        if (!sub) return null;\n        var _sub_timepoint_seconds, _sub_timepoint_end_seconds;\n        return field === \"start\" ? (_sub_timepoint_seconds = sub.timepoint_seconds) !== null && _sub_timepoint_seconds !== void 0 ? _sub_timepoint_seconds : null : (_sub_timepoint_end_seconds = sub.timepoint_end_seconds) !== null && _sub_timepoint_end_seconds !== void 0 ? _sub_timepoint_end_seconds : null;\n    };\n    const assignMarkToTarget = (targetKey, markId)=>{\n        var _rows_flatMap_find;\n        const [type, id, field] = targetKey.split(\":\");\n        const markTime = (_rows_flatMap_find = rows.flatMap((r)=>r.marks).find((m)=>m.id === markId)) === null || _rows_flatMap_find === void 0 ? void 0 : _rows_flatMap_find.time;\n        if (markTime === undefined) return;\n        const oppositeField = field === \"start\" ? \"end\" : \"start\";\n        const assignedOpposite = getAssignedTime(\"\".concat(type, \":\").concat(id, \":\").concat(oppositeField));\n        const existingOpposite = getExistingTime(type, id, oppositeField);\n        const oppositeTime = assignedOpposite !== null && assignedOpposite !== void 0 ? assignedOpposite : existingOpposite;\n        if (field === \"end\" && oppositeTime !== null && markTime < oppositeTime) {\n            alert(\"End time cannot be before start time.\");\n            return;\n        }\n        if (field === \"start\" && oppositeTime !== null && markTime > oppositeTime) {\n            alert(\"Start time cannot be after end time.\");\n            return;\n        }\n        setAssignments((prev)=>({\n                ...prev,\n                [targetKey]: {\n                    markId,\n                    time: markTime\n                }\n            }));\n    };\n    const clearAssignment = (targetKey)=>{\n        setAssignments((prev)=>{\n            const next = {\n                ...prev\n            };\n            delete next[targetKey];\n            return next;\n        });\n    };\n    const renderTimeTarget = (type, id, field)=>{\n        const targetKey = \"\".concat(type, \":\").concat(id, \":\").concat(field);\n        const assignedValue = assignments[targetKey];\n        const assignedMarkId = typeof assignedValue === \"string\" ? assignedValue : assignedValue === null || assignedValue === void 0 ? void 0 : assignedValue.markId;\n        const assignedTime = getAssignedTime(targetKey);\n        const existingTime = getExistingTime(type, id, field);\n        const showTime = assignedTime !== null ? assignedTime : existingTime;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"border border-dashed rounded px-2 py-1 text-xs flex items-center gap-2 \".concat(assignedMarkId ? \"border-emerald-400 bg-emerald-50\" : \"border-gray-300 bg-white\"),\n            onDragOver: (e)=>e.preventDefault(),\n            onDrop: (e)=>{\n                const markId = e.dataTransfer.getData(\"markId\");\n                if (!markId) return;\n                assignMarkToTarget(targetKey, markId);\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-gray-500 uppercase\",\n                    children: field\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                    lineNumber: 340,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"font-semibold text-gray-800\",\n                    children: showTime !== null ? formatTime(showTime) : \"--:--\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                    lineNumber: 341,\n                    columnNumber: 9\n                }, this),\n                assignedMarkId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"ml-1 px-2 py-0.5 rounded-full text-[10px] bg-emerald-600 text-white\",\n                    children: \"Chip\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                    lineNumber: 345,\n                    columnNumber: 11\n                }, this),\n                assignedMarkId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>clearAssignment(targetKey),\n                    className: \"ml-auto text-red-600 hover:text-red-800\",\n                    title: \"Remove\",\n                    children: \"\\xc3—\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                    lineNumber: 350,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n            lineNumber: 329,\n            columnNumber: 7\n        }, this);\n    };\n    const handleSaveSession = async ()=>{\n        const payload = {\n            performance_id: performanceId,\n            title: sessionTitle || \"Marking Session\",\n            rows,\n            assignments\n        };\n        const res = await fetch(\"/api/marking-sessions\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(payload)\n        });\n        if (res.ok) {\n            const created = await res.json();\n            setSessionList((prev)=>[\n                    created,\n                    ...prev\n                ]);\n        }\n    };\n    const handleApply = async ()=>{\n        setSaving(true);\n        try {\n            const updatesByPart = {};\n            const updatesBySubpart = {};\n            Object.entries(assignments).forEach((param)=>{\n                let [key, markId] = param;\n                const [type, id, field] = key.split(\":\");\n                const mark = rows.flatMap((r)=>r.marks).find((m)=>m.id === markId);\n                if (!mark) return;\n                if (type === \"part\") {\n                    updatesByPart[id] = updatesByPart[id] || {};\n                    updatesByPart[id][field === \"start\" ? \"timepoint_seconds\" : \"timepoint_end_seconds\"] = mark.time;\n                } else {\n                    updatesBySubpart[id] = updatesBySubpart[id] || {};\n                    updatesBySubpart[id][field === \"start\" ? \"timepoint_seconds\" : \"timepoint_end_seconds\"] = mark.time;\n                }\n            });\n            const updatedParts = [];\n            const updatedSubparts = [];\n            await Promise.all(Object.entries(updatesByPart).map(async (param)=>{\n                let [partId, payload] = param;\n                const res = await fetch(\"/api/parts/\".concat(partId), {\n                    method: \"PUT\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(payload)\n                });\n                if (res.ok) {\n                    const updated = await res.json();\n                    updatedParts.push(updated);\n                }\n            }));\n            await Promise.all(Object.entries(updatesBySubpart).map(async (param)=>{\n                let [subpartId, payload] = param;\n                const res = await fetch(\"/api/subparts/\".concat(subpartId), {\n                    method: \"PUT\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(payload)\n                });\n                if (res.ok) {\n                    const updated = await res.json();\n                    if (updated) updatedSubparts.push(updated);\n                }\n            }));\n            if (updatedParts.length > 0) {\n                onPartsUpdated(parts.map((part)=>updatedParts.find((u)=>u.id === part.id) || part));\n            }\n            if (updatedSubparts.length > 0) {\n                setSubpartsByPart((prev)=>{\n                    const next = {\n                        ...prev\n                    };\n                    updatedSubparts.forEach((sub)=>{\n                        next[sub.part_id] = (next[sub.part_id] || []).map((s)=>s.id === sub.id ? {\n                                ...s,\n                                ...sub\n                            } : s);\n                    });\n                    return next;\n                });\n            }\n        } finally{\n            setSaving(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"grid grid-cols-1 xl:grid-cols-[320px_1fr] gap-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white border border-gray-200 rounded-lg p-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xl font-bold text-gray-900 mb-2\",\n                        children: \"Parts & Subparts\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                        lineNumber: 453,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-gray-500 mb-4\",\n                        children: \"Drop time chips onto Start/End. Only dropped chips change timepoints when saved.\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                        lineNumber: 454,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-4\",\n                        children: parts.map((part)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"border border-gray-200 rounded-lg p-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"font-semibold text-gray-900 mb-2\",\n                                        children: part.name\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 460,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-2 gap-2 mb-2\",\n                                        children: [\n                                            renderTimeTarget(\"part\", part.id, \"start\"),\n                                            renderTimeTarget(\"part\", part.id, \"end\")\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 461,\n                                        columnNumber: 15\n                                    }, this),\n                                    (subpartsByPart[part.id] || []).length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2 space-y-2\",\n                                        children: (subpartsByPart[part.id] || []).map((sub)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"border border-gray-100 rounded p-2 bg-gray-50\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm font-semibold text-gray-800\",\n                                                        children: sub.title\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 469,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"grid grid-cols-2 gap-2 mt-2\",\n                                                        children: [\n                                                            renderTimeTarget(\"subpart\", sub.id, \"start\"),\n                                                            renderTimeTarget(\"subpart\", sub.id, \"end\")\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 470,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, sub.id, true, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 468,\n                                                columnNumber: 21\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 466,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-3 flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: newSubpartTitle[part.id] || \"\",\n                                                onChange: (e)=>setNewSubpartTitle((prev)=>({\n                                                            ...prev,\n                                                            [part.id]: e.target.value\n                                                        })),\n                                                placeholder: \"Add subpart\",\n                                                className: \"flex-1 px-2 py-1 border border-gray-300 rounded text-xs\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 479,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: async ()=>{\n                                                    const title = (newSubpartTitle[part.id] || \"\").trim();\n                                                    if (!title) return;\n                                                    const res = await fetch(\"/api/subparts\", {\n                                                        method: \"POST\",\n                                                        headers: {\n                                                            \"Content-Type\": \"application/json\"\n                                                        },\n                                                        body: JSON.stringify({\n                                                            part_id: part.id,\n                                                            title\n                                                        })\n                                                    });\n                                                    if (res.ok) {\n                                                        const created = await res.json();\n                                                        setSubpartsByPart((prev)=>({\n                                                                ...prev,\n                                                                [part.id]: [\n                                                                    ...prev[part.id] || [],\n                                                                    created\n                                                                ]\n                                                            }));\n                                                        setNewSubpartTitle((prev)=>({\n                                                                ...prev,\n                                                                [part.id]: \"\"\n                                                            }));\n                                                    }\n                                                },\n                                                className: \"px-2 py-1 bg-gray-900 text-white rounded text-xs\",\n                                                children: \"Add\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 488,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 478,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, part.id, true, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                lineNumber: 459,\n                                columnNumber: 13\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                        lineNumber: 457,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                lineNumber: 452,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white border border-gray-200 rounded-lg p-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap items-center gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xl font-bold text-gray-900\",\n                                        children: \"Marking Session\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 519,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"ml-auto flex gap-2 items-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                value: sessionTitle,\n                                                onChange: (e)=>{\n                                                    setSessionTitle(e.target.value);\n                                                    setCustomTitle(true);\n                                                },\n                                                className: \"px-3 py-1 border border-gray-300 rounded text-sm\",\n                                                placeholder: \"Session title\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 521,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: handleSaveSession,\n                                                className: \"px-3 py-1 bg-gray-900 text-white rounded text-sm\",\n                                                children: \"Save Session\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 530,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: handleApply,\n                                                disabled: saving,\n                                                className: \"px-3 py-1 bg-blue-600 text-white rounded text-sm disabled:bg-gray-400\",\n                                                children: saving ? \"Saving...\" : \"Apply Timepoints\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 536,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 520,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                lineNumber: 518,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs text-gray-500 mt-2\",\n                                children: \"Hotkeys: Space = mark time, E = new row. Works while music is playing or paused.\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                lineNumber: 545,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs text-gray-500 mt-1\",\n                                children: [\n                                    \"Music length: \",\n                                    musicDuration ? formatTime(musicDuration) : \"—\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                lineNumber: 548,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-3 bg-gray-50 border border-dashed border-gray-300 rounded p-3 text-xs text-gray-500\",\n                                children: \"Waveform view: not available yet. We can add a waveform preview in a follow-up.\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                lineNumber: 551,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-3 flex flex-wrap items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                        value: selectedSessionId,\n                                        onChange: async (e)=>{\n                                            const id = e.target.value;\n                                            setSelectedSessionId(id);\n                                            if (!id) return;\n                                            const res = await fetch(\"/api/marking-sessions/\".concat(id));\n                                            if (!res.ok) return;\n                                            const data = await res.json();\n                                            setSessionTitle(data.title || \"Marking Session\");\n                                            setCustomTitle(true);\n                                            const nextRows = (data.rows || []).map((row)=>({\n                                                    ...row,\n                                                    note: row.note || \"\"\n                                                }));\n                                            setRows(nextRows);\n                                            setAssignments(normalizeAssignments(nextRows, data.assignments || {}));\n                                        },\n                                        className: \"px-2 py-1 border border-gray-300 rounded text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"\",\n                                                children: \"Load saved session...\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 575,\n                                                columnNumber: 15\n                                            }, this),\n                                            sessionList.map((sess)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: sess.id,\n                                                    children: [\n                                                        sess.title || \"Untitled\",\n                                                        \" \\xb7 \",\n                                                        performanceNameMap[sess.performance_id] || \"Performance\",\n                                                        \" \\xb7 \",\n                                                        new Date(sess.created_at).toLocaleString()\n                                                    ]\n                                                }, sess.id, true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                    lineNumber: 577,\n                                                    columnNumber: 17\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 555,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"text-xs text-gray-600 flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                checked: allSessions,\n                                                onChange: (e)=>setAllSessions(e.target.checked),\n                                                className: \"h-4 w-4\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 583,\n                                                columnNumber: 15\n                                            }, this),\n                                            \"Show sessions from all performances\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 582,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            const firstRow = {\n                                                id: uuid(),\n                                                label: \"Row 1\",\n                                                note: \"\",\n                                                marks: []\n                                            };\n                                            setRows([\n                                                firstRow\n                                            ]);\n                                            setActiveRowId(firstRow.id);\n                                            setAssignments({});\n                                            setSelectedSessionId(\"\");\n                                            setCustomTitle(false);\n                                        },\n                                        className: \"px-2 py-1 border border-gray-300 rounded text-sm\",\n                                        children: \"New Session\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 591,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                lineNumber: 554,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                        lineNumber: 517,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white border border-gray-200 rounded-lg p-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-lg font-semibold text-gray-900 mb-3\",\n                                children: \"Mark Chips\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                lineNumber: 608,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-4\",\n                                children: rows.map((row)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        onClick: ()=>setActiveRowId(row.id),\n                                        className: \"border rounded-lg p-3 cursor-pointer \".concat(activeRowId === row.id ? \"border-blue-400 bg-blue-50\" : \"border-gray-200\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-3 mb-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>setActiveRowId(row.id),\n                                                        className: \"px-2 py-1 rounded text-xs font-semibold \".concat(activeRowId === row.id ? \"bg-blue-600 text-white\" : \"bg-gray-100 text-gray-700\"),\n                                                        children: row.label\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 619,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-gray-500\",\n                                                        children: \"Drop chips into the empty slot to organize.\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 627,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    rows.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: (e)=>{\n                                                            e.stopPropagation();\n                                                            setRows((prev)=>prev.filter((r)=>r.id !== row.id));\n                                                            if (activeRowId === row.id) {\n                                                                const fallback = rows.find((r)=>r.id !== row.id);\n                                                                setActiveRowId(fallback ? fallback.id : null);\n                                                            }\n                                                        },\n                                                        className: \"ml-auto text-xs text-red-600 hover:text-red-800\",\n                                                        children: \"Delete Row\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 629,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 618,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                value: row.note || \"\",\n                                                onChange: (e)=>setRows((prev)=>prev.map((r)=>r.id === row.id ? {\n                                                                ...r,\n                                                                note: e.target.value\n                                                            } : r)),\n                                                placeholder: \"Row notes...\",\n                                                className: \"w-full px-2 py-1 border border-gray-200 rounded text-xs mb-2\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 644,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-wrap gap-2\",\n                                                children: [\n                                                    row.marks.map((mark)=>{\n                                                        const usage = assignedMarkCounts[mark.id] || 0;\n                                                        const colorClass = usage >= 2 ? \"bg-gray-200 text-gray-700\" : usage === 1 ? \"bg-yellow-200 text-yellow-900\" : \"bg-indigo-100 text-indigo-800\";\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            draggable: true,\n                                                            onDragStart: (e)=>{\n                                                                e.dataTransfer.setData(\"markId\", mark.id);\n                                                            },\n                                                            className: \"px-2 py-1 rounded text-xs cursor-move \".concat(colorClass),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: formatTime(mark.time)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                        lineNumber: 673,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        onClick: ()=>handleRemoveMark(row.id, mark.id),\n                                                                        className: \"text-[10px] text-gray-600 hover:text-gray-800\",\n                                                                        title: \"Remove chip\",\n                                                                        children: \"\\xd7\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                        lineNumber: 674,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                lineNumber: 672,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, mark.id, false, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                            lineNumber: 664,\n                                                            columnNumber: 21\n                                                        }, this);\n                                                    }),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"px-2 py-1 border border-dashed border-gray-300 rounded text-xs text-gray-500\",\n                                                        onDragOver: (e)=>e.preventDefault(),\n                                                        onDrop: (e)=>{\n                                                            const markId = e.dataTransfer.getData(\"markId\");\n                                                            if (!markId) return;\n                                                            handleDropToRow(row.id, markId);\n                                                        },\n                                                        children: \"Empty slot\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 685,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 654,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 text-[11px] text-gray-500\",\n                                                children: [\n                                                    \"Times:\",\n                                                    \" \",\n                                                    row.marks.length === 0 ? \"—\" : row.marks.map((m)=>formatTime(m.time)).join(\", \")\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 697,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, row.id, true, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 611,\n                                        columnNumber: 15\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                lineNumber: 609,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                        lineNumber: 607,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white border border-gray-200 rounded-lg p-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MusicPlayer__WEBPACK_IMPORTED_MODULE_2__.MusicPlayer, {\n                            musicUrl: musicUrl || undefined,\n                            onTimeUpdate: (t)=>setCurrentTime(t),\n                            onAudioReady: handleAudioReady,\n                            audioRef: audioRef\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                            lineNumber: 709,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                        lineNumber: 708,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                lineNumber: 516,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n        lineNumber: 451,\n        columnNumber: 5\n    }, this);\n}\n_s(MarkingPanel, \"dJLzvscvD+JUct4aSAe8XtMykWw=\");\n_c = MarkingPanel;\nvar _c;\n$RefreshReg$(_c, \"MarkingPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL01hcmtpbmdQYW5lbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUU2RDtBQUNOO0FBNkN2RCxTQUFTSyxXQUFXQyxPQUFlO0lBQ2pDLE1BQU1DLFFBQVFDLEtBQUtDLEdBQUcsQ0FBQyxHQUFHRCxLQUFLRSxLQUFLLENBQUNKO0lBQ3JDLE1BQU1LLE9BQU9ILEtBQUtFLEtBQUssQ0FBQ0gsUUFBUTtJQUNoQyxNQUFNSyxPQUFPTCxRQUFRO0lBQ3JCLE9BQU8sR0FBV0ssT0FBUkQsTUFBSyxLQUFvQyxPQUFqQ0MsS0FBS0MsUUFBUSxHQUFHQyxRQUFRLENBQUMsR0FBRztBQUNoRDtBQUVBLFNBQVNDO0lBQ1AsT0FBT1AsS0FBS1EsTUFBTSxHQUFHSCxRQUFRLENBQUMsSUFBSUksS0FBSyxDQUFDLEdBQUcsTUFBTUMsS0FBS0MsR0FBRyxHQUFHTixRQUFRLENBQUM7QUFDdkU7QUFFTyxTQUFTTyxhQUFhLEtBQXVGO1FBQXZGLEVBQUVDLGFBQWEsRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUVDLGdCQUFnQixFQUFFQyxjQUFjLEVBQXFCLEdBQXZGOztJQUMzQixNQUFNLENBQUNDLE1BQU1DLFFBQVEsR0FBR3hCLCtDQUFRQSxDQUFZLEVBQUU7SUFDOUMsTUFBTSxDQUFDeUIsYUFBYUMsZUFBZSxHQUFHMUIsK0NBQVFBLENBQWdCO0lBQzlELE1BQU0sQ0FBQzJCLGFBQWFDLGVBQWUsR0FBRzVCLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQzZCLGFBQWFDLGVBQWUsR0FBRzlCLCtDQUFRQSxDQUFrQyxDQUFDO0lBQ2pGLE1BQU0sQ0FBQytCLGdCQUFnQkMsa0JBQWtCLEdBQUdoQywrQ0FBUUEsQ0FBZ0MsQ0FBQztJQUNyRixNQUFNLENBQUNpQyxpQkFBaUJDLG1CQUFtQixHQUFHbEMsK0NBQVFBLENBQXlCLENBQUM7SUFDaEYsTUFBTSxDQUFDbUMsUUFBUUMsVUFBVSxHQUFHcEMsK0NBQVFB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Qy9GLFFBQVE7NERBQ2JpRCxnQkFBZ0JWLElBQUlwQyxFQUFFLEVBQUVIO3dEQUMxQjtrRUFDRDs7Ozs7Ozs7Ozs7OzBEQUlILDhEQUFDeUY7Z0RBQUlDLFdBQVU7O29EQUFpQztvREFDdkM7b0RBQ05uRCxJQUFJakMsS0FBSyxDQUFDTCxNQUFNLEtBQUssSUFDbEIsTUFDQXNDLElBQUlqQyxLQUFLLENBQUNPLEdBQUcsQ0FBQyxDQUFDeUMsSUFBTXhILFdBQVd3SCxFQUFFbkIsSUFBSSxHQUFHc0csSUFBSSxDQUFDOzs7Ozs7Ozt1Q0F6Ri9DbEcsSUFBSXBDLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBZ0duQiw4REFBQ3NGO3dCQUFJQyxXQUFVO2tDQUNiLDRFQUFDN0osZ0VBQVdBOzRCQUNWbUIsVUFBVUEsWUFBWTRIOzRCQUN0QjhELGNBQWMsQ0FBQ0MsSUFBTW5MLGVBQWVtTDs0QkFDcENDLGNBQWMxSjs0QkFDZEYsVUFBVUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTXRCO0dBbnBCZ0JuQztLQUFBQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxjYWx2aVxcRGVza3RvcFxcUGVyZlRvb2xcXHNyY1xcY29tcG9uZW50c1xcTWFya2luZ1BhbmVsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBNdXNpY1BsYXllciB9IGZyb20gXCJAL2NvbXBvbmVudHMvTXVzaWNQbGF5ZXJcIjtcblxuaW50ZXJmYWNlIFBhcnRJdGVtIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICB0aW1lcG9pbnRfc2Vjb25kcz86IG51bWJlciB8IG51bGw7XG4gIHRpbWVwb2ludF9lbmRfc2Vjb25kcz86IG51bWJlciB8IG51bGw7XG59XG5cbmludGVyZmFjZSBTdWJwYXJ0SXRlbSB7XG4gIGlkOiBzdHJpbmc7XG4gIHBhcnRfaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgdGltZXBvaW50X3NlY29uZHM/OiBudW1iZXIgfCBudWxsO1xuICB0aW1lcG9pbnRfZW5kX3NlY29uZHM/OiBudW1iZXIgfCBudWxsO1xufVxuXG5pbnRlcmZhY2UgTWFyayB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpbWU6IG51bWJlcjtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBNYXJrUm93IHtcbiAgaWQ6IHN0cmluZztcbiAgbGFiZWw6IHN0cmluZztcbiAgbm90ZT86IHN0cmluZztcbiAgbWFya3M6IE1hcmtbXTtcbn1cblxudHlwZSBBc3NpZ25tZW50VmFsdWUgPVxuICB8IHN0cmluZ1xuICB8IHtcbiAgICAgIG1hcmtJZD86IHN0cmluZztcbiAgICAgIHRpbWU6IG51bWJlcjtcbiAgICB9O1xuXG5pbnRlcmZhY2UgTWFya2luZ1BhbmVsUHJvcHMge1xuICBwZXJmb3JtYW5jZUlkOiBzdHJpbmc7XG4gIHBhcnRzOiBQYXJ0SXRlbVtdO1xuICBtdXNpY1VybD86IHN0cmluZyB8IG51bGw7XG4gIHBlcmZvcm1hbmNlVGl0bGU/OiBzdHJpbmc7XG4gIG9uUGFydHNVcGRhdGVkOiAocGFydHM6IFBhcnRJdGVtW10pID0+IHZvaWQ7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFRpbWUoc2Vjb25kczogbnVtYmVyKSB7XG4gIGNvbnN0IHRvdGFsID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihzZWNvbmRzKSk7XG4gIGNvbnN0IG1pbnMgPSBNYXRoLmZsb29yKHRvdGFsIC8gNjApO1xuICBjb25zdCBzZWNzID0gdG90YWwgJSA2MDtcbiAgcmV0dXJuIGAke21pbnN9OiR7c2Vjcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX1gO1xufVxuXG5mdW5jdGlvbiB1dWlkKCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgMTApICsgRGF0ZS5ub3coKS50b1N0cmluZygzNik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNYXJraW5nUGFuZWwoeyBwZXJmb3JtYW5jZUlkLCBwYXJ0cywgbXVzaWNVcmwsIHBlcmZvcm1hbmNlVGl0bGUsIG9uUGFydHNVcGRhdGVkIH06IE1hcmtpbmdQYW5lbFByb3BzKSB7XG4gIGNvbnN0IFtyb3dzLCBzZXRSb3dzXSA9IHVzZVN0YXRlPE1hcmtSb3dbXT4oW10pO1xuICBjb25zdCBbYWN0aXZlUm93SWQsIHNldEFjdGl2ZVJvd0lkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY3VycmVudFRpbWUsIHNldEN1cnJlbnRUaW1lXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbYXNzaWdubWVudHMsIHNldEFzc2lnbm1lbnRzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIEFzc2lnbm1lbnRWYWx1ZT4+KHt9KTtcbiAgY29uc3QgW3N1YnBhcnRzQnlQYXJ0LCBzZXRTdWJwYXJ0c0J5UGFydF0gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBTdWJwYXJ0SXRlbVtdPj4oe30pO1xuICBjb25zdCBbbmV3U3VicGFydFRpdGxlLCBzZXROZXdTdWJwYXJ0VGl0bGVdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgc3RyaW5nPj4oe30pO1xuICBjb25zdCBbc2F2aW5nLCBzZXRTYXZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2Vzc2lvblRpdGxlLCBzZXRTZXNzaW9uVGl0bGVdID0gdXNlU3RhdGUoXCJOZXcgTWFya2luZyBTZXNzaW9uXCIpO1xuICBjb25zdCBbY3VzdG9tVGl0bGUsIHNldEN1c3RvbVRpdGxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nlc3Npb25MaXN0LCBzZXRTZXNzaW9uTGlzdF0gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xuICBjb25zdCBbc2VsZWN0ZWRTZXNzaW9uSWQsIHNldFNlbGVjdGVkU2Vzc2lvbklkXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFthbGxTZXNzaW9ucywgc2V0QWxsU2Vzc2lvbnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGVyZm9ybWFuY2VOYW1lTWFwLCBzZXRQZXJmb3JtYW5jZU5hbWVNYXBdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgc3RyaW5nPj4oe30pO1xuICBjb25zdCBbbXVzaWNEdXJhdGlvbiwgc2V0TXVzaWNEdXJhdGlvbl0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgYXVkaW9DbGVhbnVwUmVmID0gdXNlUmVmPCgoKSA9PiB2b2lkKSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBhdWRpb1JlZiA9IHVzZVJlZjxIVE1MQXVkaW9FbGVtZW50PihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBhdWRpb0NsZWFudXBSZWYuY3VycmVudD8uKCk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUF1ZGlvUmVhZHkgPSAoYXVkaW86IEhUTUxBdWRpb0VsZW1lbnQgfCBudWxsKSA9PiB7XG4gICAgaWYgKGF1ZGlvQ2xlYW51cFJlZi5jdXJyZW50KSBhdWRpb0NsZWFudXBSZWYuY3VycmVudCgpO1xuICAgIGlmICghYXVkaW8pIHtcbiAgICAgIHNldE11c2ljRHVyYXRpb24obnVsbCk7XG4gICAgICBhdWRpb0NsZWFudXBSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gTnVtYmVyLmlzRmluaXRlKGF1ZGlvLmR1cmF0aW9uKSA/IGF1ZGlvLmR1cmF0aW9uIDogbnVsbDtcbiAgICAgIHNldE11c2ljRHVyYXRpb24oZHVyYXRpb24pO1xuICAgIH07XG4gICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlZG1ldGFkYXRhXCIsIHVwZGF0ZSk7XG4gICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcihcImR1cmF0aW9uY2hhbmdlXCIsIHVwZGF0ZSk7XG4gICAgdXBkYXRlKCk7XG4gICAgYXVkaW9DbGVhbnVwUmVmLmN1cnJlbnQgPSAoKSA9PiB7XG4gICAgICBhdWRpby5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZGVkbWV0YWRhdGFcIiwgdXBkYXRlKTtcbiAgICAgIGF1ZGlvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkdXJhdGlvbmNoYW5nZVwiLCB1cGRhdGUpO1xuICAgIH07XG4gIH07XG5cbiAgY29uc3QgYXNzaWduZWRNYXJrQ291bnRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgY291bnRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gICAgT2JqZWN0LnZhbHVlcyhhc3NpZ25tZW50cykuZm9yRWFjaCgodmFsdWUpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY291bnRzW3ZhbHVlXSA9IChjb3VudHNbdmFsdWVdIHx8IDApICsgMTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWU/Lm1hcmtJZCkge1xuICAgICAgICBjb3VudHNbdmFsdWUubWFya0lkXSA9IChjb3VudHNbdmFsdWUubWFya0lkXSB8fCAwKSArIDE7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNvdW50cztcbiAgfSwgW2Fzc2lnbm1lbnRzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocm93cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IGZpcnN0Um93ID0geyBpZDogdXVpZCgpLCBsYWJlbDogXCJSb3cgMVwiLCBub3RlOiBcIlwiLCBtYXJrczogW10gfTtcbiAgICAgIHNldFJvd3MoW2ZpcnN0Um93XSk7XG4gICAgICBzZXRBY3RpdmVSb3dJZChmaXJzdFJvdy5pZCk7XG4gICAgfVxuICB9LCBbcm93cy5sZW5ndGhdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjdXN0b21UaXRsZSkgcmV0dXJuO1xuICAgIGNvbnN0IHRpdGxlID0gYCR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpfSDDgsK3ICR7cGVyZm9ybWFuY2VUaXRsZSB8fCBcIlBlcmZvcm1hbmNlXCJ9YDtcbiAgICBzZXRTZXNzaW9uVGl0bGUodGl0bGUpO1xuICB9LCBbcGVyZm9ybWFuY2VUaXRsZSwgY3VzdG9tVGl0bGVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcGVyZm9ybWFuY2VJZCkgcmV0dXJuO1xuICAgIGNvbnN0IGZldGNoU3VicGFydHMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlbnRyaWVzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIHBhcnRzLm1hcChhc3luYyAocGFydCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL3N1YnBhcnRzP3BhcnRJZD0ke3BhcnQuaWR9YCk7XG4gICAgICAgICAgaWYgKCFyZXMub2spIHJldHVybiBbcGFydC5pZCwgW11dIGFzIGNvbnN0O1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgIHJldHVybiBbcGFydC5pZCwgZGF0YSB8fCBbXV0gYXMgY29uc3Q7XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgY29uc3QgbWFwOiBSZWNvcmQ8c3RyaW5nLCBTdWJwYXJ0SXRlbVtdPiA9IHt9O1xuICAgICAgZW50cmllcy5mb3JFYWNoKChbcGFydElkLCBsaXN0XSkgPT4ge1xuICAgICAgICBtYXBbcGFydElkXSA9IGxpc3Q7XG4gICAgICB9KTtcbiAgICAgIHNldFN1YnBhcnRzQnlQYXJ0KG1hcCk7XG4gICAgfTtcbiAgICBmZXRjaFN1YnBhcnRzKCk7XG4gIH0sIFtwZXJmb3JtYW5jZUlkLCBwYXJ0c10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFwZXJmb3JtYW5jZUlkKSByZXR1cm47XG4gICAgY29uc3QgZmV0Y2hTZXNzaW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFxuICAgICAgICBhbGxTZXNzaW9ucyA/IFwiL2FwaS9tYXJraW5nLXNlc3Npb25zP2FsbD0xXCIgOiBgL2FwaS9tYXJraW5nLXNlc3Npb25zP3BlcmZvcm1hbmNlSWQ9JHtwZXJmb3JtYW5jZUlkfWBcbiAgICAgICk7XG4gICAgICBpZiAoIXJlcy5vaykgcmV0dXJuO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICBzZXRTZXNzaW9uTGlzdChkYXRhIHx8IFtdKTtcbiAgICB9O1xuICAgIGZldGNoU2Vzc2lvbnMoKTtcbiAgfSwgW3BlcmZvcm1hbmNlSWQsIGFsbFNlc3Npb25zXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaFBlcmZvcm1hbmNlTmFtZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcIi9hcGkvcGVyZm9ybWFuY2VzXCIpO1xuICAgICAgaWYgKCFyZXMub2spIHJldHVybjtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgY29uc3QgbWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgICAoZGF0YSB8fCBbXSkuZm9yRWFjaCgocGVyZjogYW55KSA9PiB7XG4gICAgICAgIG1hcFtwZXJmLmlkXSA9IHBlcmYudGl0bGUgfHwgXCJQZXJmb3JtYW5jZVwiO1xuICAgICAgfSk7XG4gICAgICBzZXRQZXJmb3JtYW5jZU5hbWVNYXAobWFwKTtcbiAgICB9O1xuICAgIGZldGNoUGVyZm9ybWFuY2VOYW1lcygpO1xuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBjb25zdCB0YWcgPSB0YXJnZXQ/LnRhZ05hbWU/LnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodGFnID09PSBcImlucHV0XCIgfHwgdGFnID09PSBcInRleHRhcmVhXCIgfHwgdGFnID09PSBcInNlbGVjdFwiKSByZXR1cm47XG5cbiAgICAgIGlmIChldmVudC5jb2RlID09PSBcIlNwYWNlXCIpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3Qgcm93SWQgPSBhY3RpdmVSb3dJZCB8fCByb3dzWzBdPy5pZDtcbiAgICAgICAgaWYgKCFyb3dJZCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBtYXJrOiBNYXJrID0ge1xuICAgICAgICAgIGlkOiB1dWlkKCksXG4gICAgICAgICAgdGltZTogY3VycmVudFRpbWUsXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH07XG4gICAgICAgIHNldFJvd3MoKHByZXYpID0+XG4gICAgICAgICAgcHJldi5tYXAoKHJvdykgPT5cbiAgICAgICAgICAgIHJvdy5pZCA9PT0gcm93SWQgPyB7IC4uLnJvdywgbWFya3M6IFsuLi5yb3cubWFya3MsIG1hcmtdIH0gOiByb3dcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC5rZXkgPT09IFwiZVwiIHx8IGV2ZW50LmtleSA9PT0gXCJFXCIpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gcm93cy5sZW5ndGggKyAxO1xuICAgICAgICBjb25zdCBuZXdSb3c6IE1hcmtSb3cgPSB7XG4gICAgICAgICAgaWQ6IHV1aWQoKSxcbiAgICAgICAgICBsYWJlbDogYFJvdyAke25leHRJbmRleH1gLFxuICAgICAgICAgIG5vdGU6IFwiXCIsXG4gICAgICAgICAgbWFya3M6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBzZXRSb3dzKChwcmV2KSA9PiB7XG4gICAgICAgICAgY29uc3QgaWR4ID0gYWN0aXZlUm93SWQgPyBwcmV2LmZpbmRJbmRleCgocikgPT4gci5pZCA9PT0gYWN0aXZlUm93SWQpIDogcHJldi5sZW5ndGggLSAxO1xuICAgICAgICAgIGlmIChpZHggPT09IC0xKSByZXR1cm4gWy4uLnByZXYsIG5ld1Jvd107XG4gICAgICAgICAgY29uc3QgbmV4dCA9IFsuLi5wcmV2XTtcbiAgICAgICAgICBuZXh0LnNwbGljZShpZHggKyAxLCAwLCBuZXdSb3cpO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0QWN0aXZlUm93SWQobmV3Um93LmlkKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XG4gIH0sIFthY3RpdmVSb3dJZCwgY3VycmVudFRpbWUsIHJvd3NdKTtcblxuICBjb25zdCBoYW5kbGVEcm9wVG9Sb3cgPSAocm93SWQ6IHN0cmluZywgbWFya0lkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRSb3dzKChwcmV2KSA9PiB7XG4gICAgICBsZXQgbW92ZWQ6IE1hcmsgfCBudWxsID0gbnVsbDtcbiAgICAgIGNvbnN0IHJlbW92ZWQgPSBwcmV2Lm1hcCgocm93KSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHRNYXJrcyA9IHJvdy5tYXJrcy5maWx0ZXIoKG0pID0+IHtcbiAgICAgICAgICBpZiAobS5pZCA9PT0gbWFya0lkKSB7XG4gICAgICAgICAgICBtb3ZlZCA9IG07XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucm93LCBtYXJrczogbmV4dE1hcmtzIH07XG4gICAgICB9KTtcbiAgICAgIGlmICghbW92ZWQpIHJldHVybiBwcmV2O1xuICAgICAgcmV0dXJuIHJlbW92ZWQubWFwKChyb3cpID0+XG4gICAgICAgIHJvdy5pZCA9PT0gcm93SWQgPyB7IC4uLnJvdywgbWFya3M6IFsuLi5yb3cubWFya3MsIG1vdmVkIV0gfSA6IHJvd1xuICAgICAgKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVSZW1vdmVNYXJrID0gKHJvd0lkOiBzdHJpbmcsIG1hcmtJZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0Um93cygocHJldikgPT5cbiAgICAgIHByZXYubWFwKChyb3cpID0+XG4gICAgICAgIHJvdy5pZCA9PT0gcm93SWQgPyB7IC4uLnJvdywgbWFya3M6IHJvdy5tYXJrcy5maWx0ZXIoKG0pID0+IG0uaWQgIT09IG1hcmtJZCkgfSA6IHJvd1xuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgY29uc3Qgbm9ybWFsaXplQXNzaWdubWVudHMgPSAocm93c1NuYXBzaG90OiBNYXJrUm93W10sIHJhdzogUmVjb3JkPHN0cmluZywgQXNzaWdubWVudFZhbHVlPikgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQ6IFJlY29yZDxzdHJpbmcsIEFzc2lnbm1lbnRWYWx1ZT4gPSB7fTtcbiAgICBPYmplY3QuZW50cmllcyhyYXcgfHwge30pLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb25zdCBtYXJrID0gcm93c1NuYXBzaG90LmZsYXRNYXAoKHIpID0+IHIubWFya3MpLmZpbmQoKG0pID0+IG0uaWQgPT09IHZhbHVlKTtcbiAgICAgICAgaWYgKG1hcmspIHtcbiAgICAgICAgICBub3JtYWxpemVkW2tleV0gPSB7IG1hcmtJZDogdmFsdWUsIHRpbWU6IG1hcmsudGltZSB9O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBub3JtYWxpemVkW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgfTtcblxuICBjb25zdCBnZXRBc3NpZ25lZFRpbWUgPSAodGFyZ2V0S2V5OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGFzc2lnbm1lbnRzW3RhcmdldEtleV07XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuIG51bGw7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgZm9yIChjb25zdCByb3cgb2Ygcm93cykge1xuICAgICAgICBjb25zdCBtYXJrID0gcm93Lm1hcmtzLmZpbmQoKG0pID0+IG0uaWQgPT09IHZhbHVlKTtcbiAgICAgICAgaWYgKG1hcmspIHJldHVybiBtYXJrLnRpbWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLnRpbWUgPz8gbnVsbDtcbiAgfTtcblxuICBjb25zdCBnZXRFeGlzdGluZ1RpbWUgPSAodHlwZTogXCJwYXJ0XCIgfCBcInN1YnBhcnRcIiwgaWQ6IHN0cmluZywgZmllbGQ6IFwic3RhcnRcIiB8IFwiZW5kXCIpID0+IHtcbiAgICBpZiAodHlwZSA9PT0gXCJwYXJ0XCIpIHtcbiAgICAgIGNvbnN0IHBhcnQgPSBwYXJ0cy5maW5kKChwKSA9PiBwLmlkID09PSBpZCk7XG4gICAgICBpZiAoIXBhcnQpIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIGZpZWxkID09PSBcInN0YXJ0XCIgPyBwYXJ0LnRpbWVwb2ludF9zZWNvbmRzID8/IG51bGwgOiBwYXJ0LnRpbWVwb2ludF9lbmRfc2Vjb25kcyA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBzdWIgPSBPYmplY3QudmFsdWVzKHN1YnBhcnRzQnlQYXJ0KS5mbGF0KCkuZmluZCgocykgPT4gcy5pZCA9PT0gaWQpO1xuICAgIGlmICghc3ViKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gZmllbGQgPT09IFwic3RhcnRcIiA/IHN1Yi50aW1lcG9pbnRfc2Vjb25kcyA/PyBudWxsIDogc3ViLnRpbWVwb2ludF9lbmRfc2Vjb25kcyA/PyBudWxsO1xuICB9O1xuXG4gIGNvbnN0IGFzc2lnbk1hcmtUb1RhcmdldCA9ICh0YXJnZXRLZXk6IHN0cmluZywgbWFya0lkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBbdHlwZSwgaWQsIGZpZWxkXSA9IHRhcmdldEtleS5zcGxpdChcIjpcIikgYXMgW1wicGFydFwiIHwgXCJzdWJwYXJ0XCIsIHN0cmluZywgXCJzdGFydFwiIHwgXCJlbmRcIl07XG4gICAgY29uc3QgbWFya1RpbWUgPSByb3dzLmZsYXRNYXAoKHIpID0+IHIubWFya3MpLmZpbmQoKG0pID0+IG0uaWQgPT09IG1hcmtJZCk/LnRpbWU7XG4gICAgaWYgKG1hcmtUaW1lID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgIGNvbnN0IG9wcG9zaXRlRmllbGQ6IFwic3RhcnRcIiB8IFwiZW5kXCIgPSBmaWVsZCA9PT0gXCJzdGFydFwiID8gXCJlbmRcIiA6IFwic3RhcnRcIjtcbiAgICBjb25zdCBhc3NpZ25lZE9wcG9zaXRlID0gZ2V0QXNzaWduZWRUaW1lKGAke3R5cGV9OiR7aWR9OiR7b3Bwb3NpdGVGaWVsZH1gKTtcbiAgICBjb25zdCBleGlzdGluZ09wcG9zaXRlID0gZ2V0RXhpc3RpbmdUaW1lKHR5cGUsIGlkLCBvcHBvc2l0ZUZpZWxkKTtcbiAgICBjb25zdCBvcHBvc2l0ZVRpbWUgPSBhc3NpZ25lZE9wcG9zaXRlID8/IGV4aXN0aW5nT3Bwb3NpdGU7XG5cbiAgICBpZiAoZmllbGQgPT09IFwiZW5kXCIgJiYgb3Bwb3NpdGVUaW1lICE9PSBudWxsICYmIG1hcmtUaW1lIDwgb3Bwb3NpdGVUaW1lKSB7XG4gICAgICBhbGVydChcIkVuZCB0aW1lIGNhbm5vdCBiZSBiZWZvcmUgc3RhcnQgdGltZS5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChmaWVsZCA9PT0gXCJzdGFydFwiICYmIG9wcG9zaXRlVGltZSAhPT0gbnVsbCAmJiBtYXJrVGltZSA+IG9wcG9zaXRlVGltZSkge1xuICAgICAgYWxlcnQoXCJTdGFydCB0aW1lIGNhbm5vdCBiZSBhZnRlciBlbmQgdGltZS5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0QXNzaWdubWVudHMoKHByZXYpID0+ICh7IC4uLnByZXYsIFt0YXJnZXRLZXldOiB7IG1hcmtJZCwgdGltZTogbWFya1RpbWUgfSB9KSk7XG4gIH07XG5cbiAgY29uc3QgY2xlYXJBc3NpZ25tZW50ID0gKHRhcmdldEtleTogc3RyaW5nKSA9PiB7XG4gICAgc2V0QXNzaWdubWVudHMoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IG5leHQgPSB7IC4uLnByZXYgfTtcbiAgICAgIGRlbGV0ZSBuZXh0W3RhcmdldEtleV07XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJUaW1lVGFyZ2V0ID0gKHR5cGU6IFwicGFydFwiIHwgXCJzdWJwYXJ0XCIsIGlkOiBzdHJpbmcsIGZpZWxkOiBcInN0YXJ0XCIgfCBcImVuZFwiKSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0S2V5ID0gYCR7dHlwZX06JHtpZH06JHtmaWVsZH1gO1xuICAgIGNvbnN0IGFzc2lnbmVkVmFsdWUgPSBhc3NpZ25tZW50c1t0YXJnZXRLZXldO1xuICAgIGNvbnN0IGFzc2lnbmVkTWFya0lkID0gdHlwZW9mIGFzc2lnbmVkVmFsdWUgPT09IFwic3RyaW5nXCIgPyBhc3NpZ25lZFZhbHVlIDogYXNzaWduZWRWYWx1ZT8ubWFya0lkO1xuICAgIGNvbnN0IGFzc2lnbmVkVGltZSA9IGdldEFzc2lnbmVkVGltZSh0YXJnZXRLZXkpO1xuICAgIGNvbnN0IGV4aXN0aW5nVGltZSA9IGdldEV4aXN0aW5nVGltZSh0eXBlLCBpZCwgZmllbGQpO1xuICAgIGNvbnN0IHNob3dUaW1lID0gYXNzaWduZWRUaW1lICE9PSBudWxsID8gYXNzaWduZWRUaW1lIDogZXhpc3RpbmdUaW1lO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtgYm9yZGVyIGJvcmRlci1kYXNoZWQgcm91bmRlZCBweC0yIHB5LTEgdGV4dC14cyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiAke1xuICAgICAgICAgIGFzc2lnbmVkTWFya0lkID8gXCJib3JkZXItZW1lcmFsZC00MDAgYmctZW1lcmFsZC01MFwiIDogXCJib3JkZXItZ3JheS0zMDAgYmctd2hpdGVcIlxuICAgICAgICB9YH1cbiAgICAgICAgb25EcmFnT3Zlcj17KGUpID0+IGUucHJldmVudERlZmF1bHQoKX1cbiAgICAgICAgb25Ecm9wPXsoZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IG1hcmtJZCA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJtYXJrSWRcIik7XG4gICAgICAgICAgaWYgKCFtYXJrSWQpIHJldHVybjtcbiAgICAgICAgICBhc3NpZ25NYXJrVG9UYXJnZXQodGFyZ2V0S2V5LCBtYXJrSWQpO1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHVwcGVyY2FzZVwiPntmaWVsZH08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMFwiPlxuICAgICAgICAgIHtzaG93VGltZSAhPT0gbnVsbCA/IGZvcm1hdFRpbWUoc2hvd1RpbWUpIDogXCItLTotLVwifVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIHthc3NpZ25lZE1hcmtJZCAmJiAoXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMSBweC0yIHB5LTAuNSByb3VuZGVkLWZ1bGwgdGV4dC1bMTBweF0gYmctZW1lcmFsZC02MDAgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgQ2hpcFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKX1cbiAgICAgICAge2Fzc2lnbmVkTWFya0lkICYmIChcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBjbGVhckFzc2lnbm1lbnQodGFyZ2V0S2V5KX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLWF1dG8gdGV4dC1yZWQtNjAwIGhvdmVyOnRleHQtcmVkLTgwMFwiXG4gICAgICAgICAgICB0aXRsZT1cIlJlbW92ZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgw4PigJRcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2F2ZVNlc3Npb24gPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgIHBlcmZvcm1hbmNlX2lkOiBwZXJmb3JtYW5jZUlkLFxuICAgICAgdGl0bGU6IHNlc3Npb25UaXRsZSB8fCBcIk1hcmtpbmcgU2Vzc2lvblwiLFxuICAgICAgcm93cyxcbiAgICAgIGFzc2lnbm1lbnRzLFxuICAgIH07XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL21hcmtpbmctc2Vzc2lvbnNcIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgIH0pO1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIGNvbnN0IGNyZWF0ZWQgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgc2V0U2Vzc2lvbkxpc3QoKHByZXYpID0+IFtjcmVhdGVkLCAuLi5wcmV2XSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUFwcGx5ID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldFNhdmluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXBkYXRlc0J5UGFydDogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgY29uc3QgdXBkYXRlc0J5U3VicGFydDogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICBPYmplY3QuZW50cmllcyhhc3NpZ25tZW50cykuZm9yRWFjaCgoW2tleSwgbWFya0lkXSkgPT4ge1xuICAgICAgICBjb25zdCBbdHlwZSwgaWQsIGZpZWxkXSA9IGtleS5zcGxpdChcIjpcIikgYXMgW1wicGFydFwiIHwgXCJzdWJwYXJ0XCIsIHN0cmluZywgXCJzdGFydFwiIHwgXCJlbmRcIl07XG4gICAgICAgIGNvbnN0IG1hcmsgPSByb3dzLmZsYXRNYXAoKHIpID0+IHIubWFya3MpLmZpbmQoKG0pID0+IG0uaWQgPT09IG1hcmtJZCk7XG4gICAgICAgIGlmICghbWFyaykgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZSA9PT0gXCJwYXJ0XCIpIHtcbiAgICAgICAgICB1cGRhdGVzQnlQYXJ0W2lkXSA9IHVwZGF0ZXNCeVBhcnRbaWRdIHx8IHt9O1xuICAgICAgICAgIHVwZGF0ZXNCeVBhcnRbaWRdW2ZpZWxkID09PSBcInN0YXJ0XCIgPyBcInRpbWVwb2ludF9zZWNvbmRzXCIgOiBcInRpbWVwb2ludF9lbmRfc2Vjb25kc1wiXSA9IG1hcmsudGltZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGRhdGVzQnlTdWJwYXJ0W2lkXSA9IHVwZGF0ZXNCeVN1YnBhcnRbaWRdIHx8IHt9O1xuICAgICAgICAgIHVwZGF0ZXNCeVN1YnBhcnRbaWRdW2ZpZWxkID09PSBcInN0YXJ0XCIgPyBcInRpbWVwb2ludF9zZWNvbmRzXCIgOiBcInRpbWVwb2ludF9lbmRfc2Vjb25kc1wiXSA9IG1hcmsudGltZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRQYXJ0czogUGFydEl0ZW1bXSA9IFtdO1xuICAgICAgY29uc3QgdXBkYXRlZFN1YnBhcnRzOiBTdWJwYXJ0SXRlbVtdID0gW107XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgT2JqZWN0LmVudHJpZXModXBkYXRlc0J5UGFydCkubWFwKGFzeW5jIChbcGFydElkLCBwYXlsb2FkXSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL3BhcnRzLyR7cGFydElkfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgICAgdXBkYXRlZFBhcnRzLnB1c2godXBkYXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHVwZGF0ZXNCeVN1YnBhcnQpLm1hcChhc3luYyAoW3N1YnBhcnRJZCwgcGF5bG9hZF0pID0+IHtcbiAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9zdWJwYXJ0cy8ke3N1YnBhcnRJZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgICAgIGlmICh1cGRhdGVkKSB1cGRhdGVkU3VicGFydHMucHVzaCh1cGRhdGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBpZiAodXBkYXRlZFBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgb25QYXJ0c1VwZGF0ZWQoXG4gICAgICAgICAgcGFydHMubWFwKChwYXJ0KSA9PiB1cGRhdGVkUGFydHMuZmluZCgodSkgPT4gdS5pZCA9PT0gcGFydC5pZCkgfHwgcGFydClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh1cGRhdGVkU3VicGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICBzZXRTdWJwYXJ0c0J5UGFydCgocHJldikgPT4ge1xuICAgICAgICAgIGNvbnN0IG5leHQgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICB1cGRhdGVkU3VicGFydHMuZm9yRWFjaCgoc3ViKSA9PiB7XG4gICAgICAgICAgICBuZXh0W3N1Yi5wYXJ0X2lkXSA9IChuZXh0W3N1Yi5wYXJ0X2lkXSB8fCBbXSkubWFwKChzKSA9PlxuICAgICAgICAgICAgICBzLmlkID09PSBzdWIuaWQgPyB7IC4uLnMsIC4uLnN1YiB9IDogc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFNhdmluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIHhsOmdyaWQtY29scy1bMzIwcHhfMWZyXSBnYXAtNlwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+UGFydHMgJiBTdWJwYXJ0czwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBtYi00XCI+XG4gICAgICAgICAgRHJvcCB0aW1lIGNoaXBzIG9udG8gU3RhcnQvRW5kLiBPbmx5IGRyb3BwZWQgY2hpcHMgY2hhbmdlIHRpbWVwb2ludHMgd2hlbiBzYXZlZC5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAge3BhcnRzLm1hcCgocGFydCkgPT4gKFxuICAgICAgICAgICAgPGRpdiBrZXk9e3BhcnQuaWR9IGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1sZyBwLTNcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgbWItMlwiPntwYXJ0Lm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMiBtYi0yXCI+XG4gICAgICAgICAgICAgICAge3JlbmRlclRpbWVUYXJnZXQoXCJwYXJ0XCIsIHBhcnQuaWQsIFwic3RhcnRcIil9XG4gICAgICAgICAgICAgICAge3JlbmRlclRpbWVUYXJnZXQoXCJwYXJ0XCIsIHBhcnQuaWQsIFwiZW5kXCIpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgeyhzdWJwYXJ0c0J5UGFydFtwYXJ0LmlkXSB8fCBbXSkubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgeyhzdWJwYXJ0c0J5UGFydFtwYXJ0LmlkXSB8fCBbXSkubWFwKChzdWIpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e3N1Yi5pZH0gY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTEwMCByb3VuZGVkIHAtMiBiZy1ncmF5LTUwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMFwiPntzdWIudGl0bGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yIG10LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJUaW1lVGFyZ2V0KFwic3VicGFydFwiLCBzdWIuaWQsIFwic3RhcnRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyVGltZVRhcmdldChcInN1YnBhcnRcIiwgc3ViLmlkLCBcImVuZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3U3VicGFydFRpdGxlW3BhcnQuaWRdIHx8IFwiXCJ9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgIHNldE5ld1N1YnBhcnRUaXRsZSgocHJldikgPT4gKHsgLi4ucHJldiwgW3BhcnQuaWRdOiBlLnRhcmdldC52YWx1ZSB9KSlcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQWRkIHN1YnBhcnRcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHB4LTIgcHktMSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgdGV4dC14c1wiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gKG5ld1N1YnBhcnRUaXRsZVtwYXJ0LmlkXSB8fCBcIlwiKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGl0bGUpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL3N1YnBhcnRzXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHBhcnRfaWQ6IHBhcnQuaWQsIHRpdGxlIH0pLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNyZWF0ZWQgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFN1YnBhcnRzQnlQYXJ0KChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgIFtwYXJ0LmlkXTogWy4uLihwcmV2W3BhcnQuaWRdIHx8IFtdKSwgY3JlYXRlZF0sXG4gICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldE5ld1N1YnBhcnRUaXRsZSgocHJldikgPT4gKHsgLi4ucHJldiwgW3BhcnQuaWRdOiBcIlwiIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgdGV4dC14c1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQWRkXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIHAtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDBcIj5NYXJraW5nIFNlc3Npb248L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtYXV0byBmbGV4IGdhcC0yIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB2YWx1ZT17c2Vzc2lvblRpdGxlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0U2Vzc2lvblRpdGxlKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIHNldEN1c3RvbVRpdGxlKHRydWUpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZCB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlc3Npb24gdGl0bGVcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2F2ZVNlc3Npb259XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJnLWdyYXktOTAwIHRleHQtd2hpdGUgcm91bmRlZCB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNhdmUgU2Vzc2lvblxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFwcGx5fVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmd9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcm91bmRlZCB0ZXh0LXNtIGRpc2FibGVkOmJnLWdyYXktNDAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtzYXZpbmcgPyBcIlNhdmluZy4uLlwiIDogXCJBcHBseSBUaW1lcG9pbnRzXCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbXQtMlwiPlxuICAgICAgICAgICAgSG90a2V5czogU3BhY2UgPSBtYXJrIHRpbWUsIEUgPSBuZXcgcm93LiBXb3JrcyB3aGlsZSBtdXNpYyBpcyBwbGF5aW5nIG9yIHBhdXNlZC5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBtdC0xXCI+XG4gICAgICAgICAgICBNdXNpYyBsZW5ndGg6IHttdXNpY0R1cmF0aW9uID8gZm9ybWF0VGltZShtdXNpY0R1cmF0aW9uKSA6IFwi4oCUXCJ9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIGJnLWdyYXktNTAgYm9yZGVyIGJvcmRlci1kYXNoZWQgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgcC0zIHRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgV2F2ZWZvcm0gdmlldzogbm90IGF2YWlsYWJsZSB5ZXQuIFdlIGNhbiBhZGQgYSB3YXZlZm9ybSBwcmV2aWV3IGluIGEgZm9sbG93LXVwLlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyBmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkU2Vzc2lvbklkfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17YXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkU2Vzc2lvbklkKGlkKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvbWFya2luZy1zZXNzaW9ucy8ke2lkfWApO1xuICAgICAgICAgICAgICAgIGlmICghcmVzLm9rKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgICAgICAgICAgc2V0U2Vzc2lvblRpdGxlKGRhdGEudGl0bGUgfHwgXCJNYXJraW5nIFNlc3Npb25cIik7XG4gICAgICAgICAgICAgICAgc2V0Q3VzdG9tVGl0bGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFJvd3MgPSAoZGF0YS5yb3dzIHx8IFtdKS5tYXAoKHJvdzogTWFya1JvdykgPT4gKHtcbiAgICAgICAgICAgICAgICAgIC4uLnJvdyxcbiAgICAgICAgICAgICAgICAgIG5vdGU6IHJvdy5ub3RlIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHNldFJvd3MobmV4dFJvd3MpO1xuICAgICAgICAgICAgICAgIHNldEFzc2lnbm1lbnRzKG5vcm1hbGl6ZUFzc2lnbm1lbnRzKG5leHRSb3dzLCBkYXRhLmFzc2lnbm1lbnRzIHx8IHt9KSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgdGV4dC1zbVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5Mb2FkIHNhdmVkIHNlc3Npb24uLi48L29wdGlvbj5cbiAgICAgICAgICAgICAge3Nlc3Npb25MaXN0Lm1hcCgoc2VzcykgPT4gKFxuICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtzZXNzLmlkfSB2YWx1ZT17c2Vzcy5pZH0+XG4gICAgICAgICAgICAgICAgICB7c2Vzcy50aXRsZSB8fCBcIlVudGl0bGVkXCJ9IMK3IHtwZXJmb3JtYW5jZU5hbWVNYXBbc2Vzcy5wZXJmb3JtYW5jZV9pZF0gfHwgXCJQZXJmb3JtYW5jZVwifSDCtyB7bmV3IERhdGUoc2Vzcy5jcmVhdGVkX2F0KS50b0xvY2FsZVN0cmluZygpfVxuICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2FsbFNlc3Npb25zfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QWxsU2Vzc2lvbnMoZS50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC00IHctNFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIFNob3cgc2Vzc2lvbnMgZnJvbSBhbGwgcGVyZm9ybWFuY2VzXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RSb3cgPSB7IGlkOiB1dWlkKCksIGxhYmVsOiBcIlJvdyAxXCIsIG5vdGU6IFwiXCIsIG1hcmtzOiBbXSB9O1xuICAgICAgICAgICAgICAgIHNldFJvd3MoW2ZpcnN0Um93XSk7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlUm93SWQoZmlyc3RSb3cuaWQpO1xuICAgICAgICAgICAgICAgIHNldEFzc2lnbm1lbnRzKHt9KTtcbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFNlc3Npb25JZChcIlwiKTtcbiAgICAgICAgICAgICAgICBzZXRDdXN0b21UaXRsZShmYWxzZSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgdGV4dC1zbVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIE5ldyBTZXNzaW9uXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0zXCI+TWFyayBDaGlwczwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICB7cm93cy5tYXAoKHJvdykgPT4gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5PXtyb3cuaWR9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlUm93SWQocm93LmlkKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bib3JkZXIgcm91bmRlZC1sZyBwLTMgY3Vyc29yLXBvaW50ZXIgJHtcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZVJvd0lkID09PSByb3cuaWQgPyBcImJvcmRlci1ibHVlLTQwMCBiZy1ibHVlLTUwXCIgOiBcImJvcmRlci1ncmF5LTIwMFwiXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlUm93SWQocm93LmlkKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMiBweS0xIHJvdW5kZWQgdGV4dC14cyBmb250LXNlbWlib2xkICR7XG4gICAgICAgICAgICAgICAgICAgICAgYWN0aXZlUm93SWQgPT09IHJvdy5pZCA/IFwiYmctYmx1ZS02MDAgdGV4dC13aGl0ZVwiIDogXCJiZy1ncmF5LTEwMCB0ZXh0LWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtyb3cubGFiZWx9XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPkRyb3AgY2hpcHMgaW50byB0aGUgZW1wdHkgc2xvdCB0byBvcmdhbml6ZS48L3NwYW4+XG4gICAgICAgICAgICAgICAgICB7cm93cy5sZW5ndGggPiAxICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um93cygocHJldikgPT4gcHJldi5maWx0ZXIoKHIpID0+IHIuaWQgIT09IHJvdy5pZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZVJvd0lkID09PSByb3cuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmFsbGJhY2sgPSByb3dzLmZpbmQoKHIpID0+IHIuaWQgIT09IHJvdy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZVJvd0lkKGZhbGxiYWNrID8gZmFsbGJhY2suaWQgOiBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLWF1dG8gdGV4dC14cyB0ZXh0LXJlZC02MDAgaG92ZXI6dGV4dC1yZWQtODAwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIERlbGV0ZSBSb3dcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3Jvdy5ub3RlIHx8IFwiXCJ9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgIHNldFJvd3MoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgcHJldi5tYXAoKHIpID0+IChyLmlkID09PSByb3cuaWQgPyB7IC4uLnIsIG5vdGU6IGUudGFyZ2V0LnZhbHVlIH0gOiByKSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJSb3cgbm90ZXMuLi5cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTIgcHktMSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQgdGV4dC14cyBtYi0yXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIHtyb3cubWFya3MubWFwKChtYXJrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzYWdlID0gYXNzaWduZWRNYXJrQ291bnRzW21hcmsuaWRdIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yQ2xhc3MgPVxuICAgICAgICAgICAgICAgICAgICAgIHVzYWdlID49IDJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy1ncmF5LTIwMCB0ZXh0LWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdXNhZ2UgPT09IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJnLXllbGxvdy0yMDAgdGV4dC15ZWxsb3ctOTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJnLWluZGlnby0xMDAgdGV4dC1pbmRpZ28tODAwXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e21hcmsuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwibWFya0lkXCIsIG1hcmsuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMiBweS0xIHJvdW5kZWQgdGV4dC14cyBjdXJzb3ItbW92ZSAke2NvbG9yQ2xhc3N9YH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntmb3JtYXRUaW1lKG1hcmsudGltZSl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVSZW1vdmVNYXJrKHJvdy5pZCwgbWFyay5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtZ3JheS02MDAgaG92ZXI6dGV4dC1ncmF5LTgwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiUmVtb3ZlIGNoaXBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICDDl1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSBib3JkZXIgYm9yZGVyLWRhc2hlZCBib3JkZXItZ3JheS0zMDAgcm91bmRlZCB0ZXh0LXhzIHRleHQtZ3JheS01MDBcIlxuICAgICAgICAgICAgICAgICAgICBvbkRyYWdPdmVyPXsoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpfVxuICAgICAgICAgICAgICAgICAgICBvbkRyb3A9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFya0lkID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcIm1hcmtJZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hcmtJZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZURyb3BUb1Jvdyhyb3cuaWQsIG1hcmtJZCk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEVtcHR5IHNsb3RcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LVsxMXB4XSB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICBUaW1lczp7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICB7cm93Lm1hcmtzLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICA/IFwi4oCUXCJcbiAgICAgICAgICAgICAgICAgICAgOiByb3cubWFya3MubWFwKChtKSA9PiBmb3JtYXRUaW1lKG0udGltZSkpLmpvaW4oXCIsIFwiKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgPE11c2ljUGxheWVyXG4gICAgICAgICAgICBtdXNpY1VybD17bXVzaWNVcmwgfHwgdW5kZWZpbmVkfVxuICAgICAgICAgICAgb25UaW1lVXBkYXRlPXsodCkgPT4gc2V0Q3VycmVudFRpbWUodCl9XG4gICAgICAgICAgICBvbkF1ZGlvUmVhZHk9e2hhbmRsZUF1ZGlvUmVhZHl9XG4gICAgICAgICAgICBhdWRpb1JlZj17YXVkaW9SZWZ9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIk11c2ljUGxheWVyIiwiZm9ybWF0VGltZSIsInNlY29uZHMiLCJ0b3RhbCIsIk1hdGgiLCJtYXgiLCJmbG9vciIsIm1pbnMiLCJzZWNzIiwidG9TdHJpbmciLCJwYWRTdGFydCIsInV1aWQiLCJyYW5kb20iLCJzbGljZSIsIkRhdGUiLCJub3ciLCJNYXJraW5nUGFuZWwiLCJwZXJmb3JtYW5jZUlkIiwicGFydHMiLCJtdXNpY1VybCIsInBlcmZvcm1hbmNlVGl0bGUiLCJvblBhcnRzVXBkYXRlZCIsInJvd3MiLCJzZXRSb3dzIiwiYWN0aXZlUm93SWQiLCJzZXRBY3RpdmVSb3dJZCIsImN1cnJlbnRUaW1lIiwic2V0Q3VycmVudFRpbWUiLCJhc3NpZ25tZW50cyIsInNldEFzc2lnbm1lbnRzIiwic3VicGFydHNCeVBhcnQiLCJzZXRTdWJwYXJ0c0J5UGFydCIsIm5ld1N1YnBhcnRUaXRsZSIsInNldE5ld1N1YnBhcnRUaXRsZSIsInNhdmluZyIsInNldFNhdmluZyIsInNlc3Npb25UaXRsZSIsInNldFNlc3Npb25UaXRsZSIsImN1c3RvbVRpdGxlIiwic2V0Q3VzdG9tVGl0bGUiLCJzZXNzaW9uTGlzdCIsInNldFNlc3Npb25MaXN0Iiwic2VsZWN0ZWRTZXNzaW9uSWQiLCJzZXRTZWxlY3RlZFNlc3Npb25JZCIsImFsbFNlc3Npb25zIiwic2V0QWxsU2Vzc2lvbnMiLCJwZXJmb3JtYW5jZU5hbWVNYXAiLCJzZXRQZXJmb3JtYW5jZU5hbWVNYXAiLCJtdXNpY0R1cmF0aW9uIiwic2V0TXVzaWNEdXJhdGlvbiIsImF1ZGlvQ2xlYW51cFJlZiIsImF1ZGlvUmVmIiwiY3VycmVudCIsImhhbmRsZUF1ZGlvUmVhZHkiLCJhdWRpbyIsInVwZGF0ZSIsImR1cmF0aW9uIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFzc2lnbmVkTWFya0NvdW50cyIsImNvdW50cyIsIk9iamVjdCIsInZhbHVlcyIsImZvckVhY2giLCJ2YWx1ZSIsIm1hcmtJZCIsImxlbmd0aCIsImZpcnN0Um93IiwiaWQiLCJsYWJlbCIsIm5vdGUiLCJtYXJrcyIsInRpdGxlIiwidG9Mb2NhbGVTdHJpbmciLCJmZXRjaFN1YnBhcnRzIiwiZW50cmllcyIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJwYXJ0IiwicmVzIiwiZmV0Y2giLCJvayIsImRhdGEiLCJqc29uIiwicGFydElkIiwibGlzdCIsImZldGNoU2Vzc2lvbnMiLCJmZXRjaFBlcmZvcm1hbmNlTmFtZXMiLCJwZXJmIiwiaGFuZGxlS2V5RG93biIsImV2ZW50IiwidGFyZ2V0IiwidGFnIiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwiY29kZSIsInByZXZlbnREZWZhdWx0Iiwicm93SWQiLCJtYXJrIiwidGltZSIsImNyZWF0ZWRBdCIsInRvSVNPU3RyaW5nIiwicHJldiIsInJvdyIsImtleSIsIm5leHRJbmRleCIsIm5ld1JvdyIsImlkeCIsImZpbmRJbmRleCIsInIiLCJuZXh0Iiwic3BsaWNlIiwid2luZG93IiwiaGFuZGxlRHJvcFRvUm93IiwibW92ZWQiLCJyZW1vdmVkIiwibmV4dE1hcmtzIiwiZmlsdGVyIiwibSIsImhhbmRsZVJlbW92ZU1hcmsiLCJub3JtYWxpemVBc3NpZ25tZW50cyIsInJvd3NTbmFwc2hvdCIsInJhdyIsIm5vcm1hbGl6ZWQiLCJmbGF0TWFwIiwiZmluZCIsImdldEFzc2lnbmVkVGltZSIsInRhcmdldEtleSIsImdldEV4aXN0aW5nVGltZSIsInR5cGUiLCJmaWVsZCIsInAiLCJ0aW1lcG9pbnRfc2Vjb25kcyIsInRpbWVwb2ludF9lbmRfc2Vjb25kcyIsInN1YiIsImZsYXQiLCJzIiwiYXNzaWduTWFya1RvVGFyZ2V0Iiwic3BsaXQiLCJtYXJrVGltZSIsInVuZGVmaW5lZCIsIm9wcG9zaXRlRmllbGQiLCJhc3NpZ25lZE9wcG9zaXRlIiwiZXhpc3RpbmdPcHBvc2l0ZSIsIm9wcG9zaXRlVGltZSIsImFsZXJ0IiwiY2xlYXJBc3NpZ25tZW50IiwicmVuZGVyVGltZVRhcmdldCIsImFzc2lnbmVkVmFsdWUiLCJhc3NpZ25lZE1hcmtJZCIsImFzc2lnbmVkVGltZSIsImV4aXN0aW5nVGltZSIsInNob3dUaW1lIiwiZGl2IiwiY2xhc3NOYW1lIiwib25EcmFnT3ZlciIsImUiLCJvbkRyb3AiLCJkYXRhVHJhbnNmZXIiLCJnZXREYXRhIiwic3BhbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJoYW5kbGVTYXZlU2Vzc2lvbiIsInBheWxvYWQiLCJwZXJmb3JtYW5jZV9pZCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNyZWF0ZWQiLCJoYW5kbGVBcHBseSIsInVwZGF0ZXNCeVBhcnQiLCJ1cGRhdGVzQnlTdWJwYXJ0IiwidXBkYXRlZFBhcnRzIiwidXBkYXRlZFN1YnBhcnRzIiwidXBkYXRlZCIsInB1c2giLCJzdWJwYXJ0SWQiLCJ1IiwicGFydF9pZCIsIm5hbWUiLCJpbnB1dCIsIm9uQ2hhbmdlIiwicGxhY2Vob2xkZXIiLCJ0cmltIiwiZGlzYWJsZWQiLCJzZWxlY3QiLCJuZXh0Um93cyIsIm9wdGlvbiIsInNlc3MiLCJjcmVhdGVkX2F0IiwiY2hlY2tlZCIsInN0b3BQcm9wYWdhdGlvbiIsImZhbGxiYWNrIiwidXNhZ2UiLCJjb2xvckNsYXNzIiwiZHJhZ2dhYmxlIiwib25EcmFnU3RhcnQiLCJzZXREYXRhIiwiam9pbiIsIm9uVGltZVVwZGF0ZSIsInQiLCJvbkF1ZGlvUmVhZHkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/MarkingPanel.tsx\n"));

/***/ })

});