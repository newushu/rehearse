"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/admin/performances/[id]/page",{

/***/ "(app-pages-browser)/./src/components/PositioningPanel.tsx":
/*!*********************************************!*\
  !*** ./src/components/PositioningPanel.tsx ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PositioningPanel: () => (/* binding */ PositioningPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_AppLogo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/AppLogo */ \"(app-pages-browser)/./src/components/AppLogo.tsx\");\n/* __next_internal_client_entry_do_not_use__ PositioningPanel auto */ \nvar _s = $RefreshSig$();\n\n\nconst GRID_COLS = 12;\nconst GRID_ROWS = 9;\nconst CELL_SIZE = 64;\n// Generate initials with conflict detection\nfunction generateInitials(name, allNames) {\n    if (!name || name.length === 0) return \"?\";\n    const firstLetter = name.charAt(0).toUpperCase();\n    // Check if any other name starts with the same letter\n    const conflicts = allNames.filter((n)=>n !== name && n.charAt(0).toUpperCase() === firstLetter);\n    if (conflicts.length > 0) {\n        // Use first 2 letters if conflicts exist\n        return name.slice(0, 2).toUpperCase();\n    }\n    return firstLetter;\n}\nfunction PositioningPanel(param) {\n    let { performanceId, partId, partName = null, partDescription = null, partTimepointSeconds = null, partTimepointEndSeconds = null, isGroup = true, onSavePositions } = param;\n    _s();\n    const [roster, setRoster] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [positions, setPositions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [draggedStudent, setDraggedStudent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [draggedFromGrid, setDraggedFromGrid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [frontDirection, setFrontDirection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"bottom\");\n    const [lastSavedTime, setLastSavedTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(Date.now());\n    const gridWrapRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [gridScale, setGridScale] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const baseWidth = GRID_COLS * CELL_SIZE;\n    const baseHeight = GRID_ROWS * CELL_SIZE;\n    const autoSaveIntervalRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n    const hasChangesRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(false);\n    const [subparts, setSubparts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedSubpartId, setSelectedSubpartId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [subpartPositions, setSubpartPositions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [subpartOrder, setSubpartOrder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [draggingOrderId, setDraggingOrderId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [draggingSubpartId, setDraggingSubpartId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editingPartName, setEditingPartName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [partNameDraft, setPartNameDraft] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(partName || \"\");\n    const [partNameSaving, setPartNameSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [editingPartNotes, setEditingPartNotes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [partNotesDraft, setPartNotesDraft] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(partDescription || \"\");\n    const [partNotesSaving, setPartNotesSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [editingPartTime, setEditingPartTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [partStartMin, setPartStartMin] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [partStartSec, setPartStartSec] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [partEndMin, setPartEndMin] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [partEndSec, setPartEndSec] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [partTimeSaving, setPartTimeSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [partTimeOverride, setPartTimeOverride] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [sourceOptions, setSourceOptions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedSourceKey, setSelectedSourceKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [flipHorizontal, setFlipHorizontal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [applyingQuick, setApplyingQuick] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const fetchSubparts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PositioningPanel.useCallback[fetchSubparts]\": async ()=>{\n            try {\n                const subRes = await fetch(\"/api/subparts?partId=\".concat(partId));\n                if (subRes.ok) {\n                    const subData = await subRes.json();\n                    setSubparts(subData || []);\n                    const ids = new Set((subData || []).map({\n                        \"PositioningPanel.useCallback[fetchSubparts]\": (s)=>s.id\n                    }[\"PositioningPanel.useCallback[fetchSubparts]\"]));\n                    if ((subData || []).length === 0 || selectedSubpartId && !ids.has(selectedSubpartId)) {\n                        setSelectedSubpartId(null);\n                    }\n                }\n            } catch (err) {\n                console.error(\"Error fetching subparts:\", err);\n            }\n        }\n    }[\"PositioningPanel.useCallback[fetchSubparts]\"], [\n        partId,\n        selectedSubpartId\n    ]);\n    const fetchRosterOnly = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PositioningPanel.useCallback[fetchRosterOnly]\": async ()=>{\n            try {\n                const rosterRes = await fetch(\"/api/performances/\".concat(performanceId, \"/roster\"));\n                if (!rosterRes.ok) throw new Error(\"Failed to fetch roster\");\n                const rosterData = await rosterRes.json();\n                const partRoster = rosterData.filter({\n                    \"PositioningPanel.useCallback[fetchRosterOnly].partRoster\": (s)=>s.part_id === partId || !s.part_id\n                }[\"PositioningPanel.useCallback[fetchRosterOnly].partRoster\"]);\n                setRoster(partRoster);\n            } catch (err) {\n                console.error(\"Error fetching roster:\", err);\n            }\n        }\n    }[\"PositioningPanel.useCallback[fetchRosterOnly]\"], [\n        performanceId,\n        partId\n    ]);\n    // Fetch roster, existing positions, and performance orientation\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PositioningPanel.useEffect\": ()=>{\n            async function fetchData() {\n                try {\n                    // Fetch performance orientation\n                    const perfRes = await fetch(\"/api/performances/\".concat(performanceId));\n                    if (perfRes.ok) {\n                        const perf = await perfRes.json();\n                        if (perf.stage_orientation) {\n                            setFrontDirection(perf.stage_orientation === \"top\" ? \"top\" : \"bottom\");\n                        }\n                    }\n                    // Fetch roster\n                    await fetchRosterOnly();\n                    // Fetch subparts\n                    await fetchSubparts();\n                    // Fetch existing positions\n                    const posRes = await fetch(\"/api/stage-positions?partId=\".concat(partId));\n                    if (!posRes.ok) throw new Error(\"Failed to fetch positions\");\n                    const posData = await posRes.json();\n                    setPositions(posData.map({\n                        \"PositioningPanel.useEffect.fetchData\": (p)=>({\n                                student_id: p.student_id || \"\",\n                                name: p.student_name || \"Unknown\",\n                                x: p.x,\n                                y: p.y,\n                                id: p.id\n                            })\n                    }[\"PositioningPanel.useEffect.fetchData\"]));\n                } catch (err) {\n                    setError(err instanceof Error ? err.message : \"Failed to load data\");\n                } finally{\n                    setLoading(false);\n                }\n            }\n            fetchData();\n        }\n    }[\"PositioningPanel.useEffect\"], [\n        performanceId,\n        partId,\n        isGroup,\n        fetchSubparts,\n        fetchRosterOnly\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PositioningPanel.useEffect\": ()=>{\n            const interval = setInterval({\n                \"PositioningPanel.useEffect.interval\": ()=>{\n                    if (document.hidden) return;\n                    fetchRosterOnly();\n                }\n            }[\"PositioningPanel.useEffect.interval\"], 5000);\n            return ({\n                \"PositioningPanel.useEffect\": ()=>clearInterval(interval)\n            })[\"PositioningPanel.useEffect\"];\n        }\n    }[\"PositioningPanel.useEffect\"], [\n        fetchRosterOnly\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PositioningPanel.useEffect\": ()=>{\n            const el = gridWrapRef.current;\n            if (!el) return;\n            const updateScale = {\n                \"PositioningPanel.useEffect.updateScale\": ()=>{\n                    const width = el.clientWidth;\n                    if (!width) return;\n                    setGridScale(Math.min(1, width / baseWidth));\n                }\n            }[\"PositioningPanel.useEffect.updateScale\"];\n            updateScale();\n            const observer = new ResizeObserver(updateScale);\n            observer.observe(el);\n            return ({\n                \"PositioningPanel.useEffect\": ()=>observer.disconnect()\n            })[\"PositioningPanel.useEffect\"];\n        }\n    }[\"PositioningPanel.useEffect\"], [\n        baseWidth\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PositioningPanel.useEffect\": ()=>{\n            setPartNameDraft(partName || \"\");\n        }\n    }[\"PositioningPanel.useEffect\"], [\n        partName\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PositioningPanel.useEffect\": ()=>{\n            setPartNotesDraft(partDescription || \"\");\n        }\n    }[\"PositioningPanel.useEffect\"], [\n        partDescription\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PositioningPanel.useEffect\": ()=>{\n            setPartTimeOverride({\n                start: typeof partTimepointSeconds === \"number\" ? partTimepointSeconds : null,\n                end: typeof partTimepointEndSeconds === \"number\" ? partTimepointEndSeconds : null\n            });\n            const startSplit = splitTime(partTimepointSeconds !== null && partTimepointSeconds !== void 0 ? partTimepointSeconds : null);\n            const endSplit = splitTime(partTimepointEndSeconds !== null && partTimepointEndSeconds !== void 0 ? partTimepointEndSeconds : null);\n            setPartStartMin(startSplit.min);\n            setPartStartSec(startSplit.sec);\n            setPartEndMin(endSplit.min);\n            setPartEndSec(endSplit.sec);\n        }\n    }[\"PositioningPanel.useEffect\"], [\n        partTimepointSeconds,\n        partTimepointEndSeconds\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PositioningPanel.useEffect\": ()=>{\n            setSelectedSubpartId(null);\n        }\n    }[\"PositioningPanel.useEffect\"], [\n        partId\n    ]);\n    const loadSources = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PositioningPanel.useCallback[loadSources]\": async ()=>{\n            try {\n                const res = await fetch(\"/api/parts?performanceId=\".concat(performanceId));\n                if (!res.ok) return;\n                const partsData = await res.json();\n                const partOptions = (partsData || []).map({\n                    \"PositioningPanel.useCallback[loadSources].partOptions\": (p)=>({\n                            key: \"part:\".concat(p.id),\n                            label: \"Part: \".concat(p.name)\n                        })\n                }[\"PositioningPanel.useCallback[loadSources].partOptions\"]);\n                const subpartsEntries = await Promise.all((partsData || []).map({\n                    \"PositioningPanel.useCallback[loadSources]\": async (p)=>{\n                        const subRes = await fetch(\"/api/subparts?partId=\".concat(p.id));\n                        if (!subRes.ok) return [];\n                        const subData = await subRes.json();\n                        return (subData || []).map({\n                            \"PositioningPanel.useCallback[loadSources]\": (s)=>({\n                                    key: \"subpart:\".concat(s.id),\n                                    label: \"Subpart: \".concat(p.name, \" - \").concat(s.title)\n                                })\n                        }[\"PositioningPanel.useCallback[loadSources]\"]);\n                    }\n                }[\"PositioningPanel.useCallback[loadSources]\"]));\n                const subpartOptions = subpartsEntries.flat();\n                setSourceOptions([\n                    ...partOptions,\n                    ...subpartOptions\n                ]);\n            } catch (err) {\n                console.error(\"Error loading position sources:\", err);\n            }\n        }\n    }[\"PositioningPanel.useCallback[loadSources]\"], [\n        performanceId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PositioningPanel.useEffect\": ()=>{\n            loadSources();\n        }\n    }[\"PositioningPanel.useEffect\"], [\n        loadSources\n    ]);\n    const refreshSubpartsAndSources = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PositioningPanel.useCallback[refreshSubpartsAndSources]\": async ()=>{\n            await fetchSubparts();\n            await loadSources();\n        }\n    }[\"PositioningPanel.useCallback[refreshSubpartsAndSources]\"], [\n        fetchSubparts,\n        loadSources\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PositioningPanel.useEffect\": ()=>{\n            const handleFocus = {\n                \"PositioningPanel.useEffect.handleFocus\": ()=>{\n                    refreshSubpartsAndSources();\n                }\n            }[\"PositioningPanel.useEffect.handleFocus\"];\n            const handleVisibility = {\n                \"PositioningPanel.useEffect.handleVisibility\": ()=>{\n                    if (document.visibilityState === \"visible\") refreshSubpartsAndSources();\n                }\n            }[\"PositioningPanel.useEffect.handleVisibility\"];\n            window.addEventListener(\"focus\", handleFocus);\n            document.addEventListener(\"visibilitychange\", handleVisibility);\n            return ({\n                \"PositioningPanel.useEffect\": ()=>{\n                    window.removeEventListener(\"focus\", handleFocus);\n                    document.removeEventListener(\"visibilitychange\", handleVisibility);\n                }\n            })[\"PositioningPanel.useEffect\"];\n        }\n    }[\"PositioningPanel.useEffect\"], [\n        refreshSubpartsAndSources\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PositioningPanel.useEffect\": ()=>{\n            const intervalId = window.setInterval({\n                \"PositioningPanel.useEffect.intervalId\": ()=>{\n                    refreshSubpartsAndSources();\n                }\n            }[\"PositioningPanel.useEffect.intervalId\"], 3000);\n            return ({\n                \"PositioningPanel.useEffect\": ()=>window.clearInterval(intervalId)\n            })[\"PositioningPanel.useEffect\"];\n        }\n    }[\"PositioningPanel.useEffect\"], [\n        refreshSubpartsAndSources\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PositioningPanel.useEffect\": ()=>{\n            if (!selectedSubpartId) return;\n            const fetchSubpartData = {\n                \"PositioningPanel.useEffect.fetchSubpartData\": async ()=>{\n                    try {\n                        const [posRes, orderRes] = await Promise.all([\n                            fetch(\"/api/subpart-positions?subpartId=\".concat(selectedSubpartId)),\n                            fetch(\"/api/subpart-order?subpartId=\".concat(selectedSubpartId))\n                        ]);\n                        if (posRes.ok) {\n                            const data = await posRes.json();\n                            setSubpartPositions({\n                                \"PositioningPanel.useEffect.fetchSubpartData\": (prev)=>({\n                                        ...prev,\n                                        [selectedSubpartId]: (data || []).map({\n                                            \"PositioningPanel.useEffect.fetchSubpartData\": (p)=>({\n                                                    student_id: p.student_id || \"\",\n                                                    name: p.student_name || \"Unknown\",\n                                                    x: p.x,\n                                                    y: p.y,\n                                                    id: p.id\n                                                })\n                                        }[\"PositioningPanel.useEffect.fetchSubpartData\"])\n                                    })\n                            }[\"PositioningPanel.useEffect.fetchSubpartData\"]);\n                        }\n                        if (orderRes.ok) {\n                            const data = await orderRes.json();\n                            setSubpartOrder({\n                                \"PositioningPanel.useEffect.fetchSubpartData\": (prev)=>({\n                                        ...prev,\n                                        [selectedSubpartId]: (data || []).map({\n                                            \"PositioningPanel.useEffect.fetchSubpartData\": (item)=>({\n                                                    id: item.id,\n                                                    student_id: item.student_id,\n                                                    student_name: item.student_name || \"Unknown\"\n                                                })\n                                        }[\"PositioningPanel.useEffect.fetchSubpartData\"])\n                                    })\n                            }[\"PositioningPanel.useEffect.fetchSubpartData\"]);\n                        }\n                    } catch (err) {\n                        console.error(\"Error fetching subpart data:\", err);\n                    }\n                }\n            }[\"PositioningPanel.useEffect.fetchSubpartData\"];\n            fetchSubpartData();\n        }\n    }[\"PositioningPanel.useEffect\"], [\n        selectedSubpartId\n    ]);\n    // Auto-save effect\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PositioningPanel.useEffect\": ()=>{\n            const autoSave = {\n                \"PositioningPanel.useEffect.autoSave\": async ()=>{\n                    if (!hasChangesRef.current) return;\n                    try {\n                        setSaving(true);\n                        if (selectedSubpartId && subparts.length > 0) {\n                            const payload = (subpartPositions[selectedSubpartId] || []).map({\n                                \"PositioningPanel.useEffect.autoSave.payload\": (p)=>({\n                                        subpart_id: selectedSubpartId,\n                                        student_id: p.student_id,\n                                        x: p.x,\n                                        y: p.y\n                                    })\n                            }[\"PositioningPanel.useEffect.autoSave.payload\"]);\n                            await fetch(\"/api/subpart-positions\", {\n                                method: \"POST\",\n                                headers: {\n                                    \"Content-Type\": \"application/json\"\n                                },\n                                body: JSON.stringify({\n                                    subpart_id: selectedSubpartId,\n                                    positions: payload\n                                })\n                            });\n                        } else {\n                            await onSavePositions(positions);\n                        }\n                        await fetch(\"/api/performances/\".concat(performanceId), {\n                            method: \"PUT\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify({\n                                stage_orientation: frontDirection\n                            })\n                        });\n                        hasChangesRef.current = false;\n                        setLastSavedTime(Date.now());\n                        setError(null);\n                    } catch (err) {\n                        console.error(\"Auto-save error:\", err);\n                    } finally{\n                        setSaving(false);\n                    }\n                }\n            }[\"PositioningPanel.useEffect.autoSave\"];\n            // Set up auto-save interval\n            autoSaveIntervalRef.current = setInterval(autoSave, 6000);\n            return ({\n                \"PositioningPanel.useEffect\": ()=>{\n                    if (autoSaveIntervalRef.current) {\n                        clearInterval(autoSaveIntervalRef.current);\n                    }\n                }\n            })[\"PositioningPanel.useEffect\"];\n        }\n    }[\"PositioningPanel.useEffect\"], [\n        positions,\n        frontDirection,\n        performanceId,\n        onSavePositions,\n        selectedSubpartId,\n        subparts,\n        subpartPositions\n    ]);\n    const handleDragStart = function(studentId) {\n        let fromGrid = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n        setDraggedStudent(studentId);\n        setDraggedFromGrid(fromGrid);\n        setDraggingOrderId(null);\n    };\n    const handleGridDragOver = (e)=>{\n        e.preventDefault();\n        e.dataTransfer.dropEffect = \"move\";\n    };\n    const toLogicalY = (displayY)=>frontDirection === \"top\" ? GRID_ROWS - 1 - displayY : displayY;\n    const toDisplayY = (logicalY)=>frontDirection === \"top\" ? GRID_ROWS - 1 - logicalY : logicalY;\n    const toLogicalX = (displayX)=>frontDirection === \"top\" ? GRID_COLS - 1 - displayX : displayX;\n    const toDisplayX = (logicalX)=>frontDirection === \"top\" ? GRID_COLS - 1 - logicalX : logicalX;\n    const clampToGrid = (value, max)=>{\n        if (Number.isNaN(value)) return 0;\n        if (value < 0) return 0;\n        if (value > max) return max;\n        return value;\n    };\n    const formatDuration = (start, end)=>{\n        if (typeof start !== \"number\" || typeof end !== \"number\") return \"\";\n        if (!Number.isFinite(start) || !Number.isFinite(end)) return \"\";\n        const total = Math.max(0, end - start);\n        const mins = Math.floor(total / 60);\n        const secs = Math.round(total % 60);\n        return \"\".concat(mins, \"m \").concat(secs, \"s\");\n    };\n    const formatTime = (value)=>{\n        if (value === null || value === undefined || Number.isNaN(value)) return \"--:--\";\n        const total = Math.max(0, Math.floor(value));\n        const mins = Math.floor(total / 60);\n        const secs = total % 60;\n        return \"\".concat(mins, \":\").concat(secs.toString().padStart(2, \"0\"));\n    };\n    const splitTime = (value)=>{\n        if (value === null || value === undefined || Number.isNaN(value)) return {\n            min: \"\",\n            sec: \"\"\n        };\n        const total = Math.max(0, Math.floor(value));\n        return {\n            min: String(Math.floor(total / 60)),\n            sec: String(total % 60)\n        };\n    };\n    const composeSeconds = (minStr, secStr)=>{\n        if (!minStr && !secStr) return null;\n        const mins = minStr ? parseInt(minStr, 10) : 0;\n        const secs = secStr ? parseFloat(secStr) : 0;\n        if (Number.isNaN(mins) || Number.isNaN(secs)) return null;\n        return mins * 60 + secs;\n    };\n    const handleGridDrop = async (e, x, y)=>{\n        e.preventDefault();\n        if (!draggedStudent) return;\n        if (subparts.length > 0 && !canPosition) return;\n        let student = roster.find((s)=>s.student_id === draggedStudent);\n        // If dragging from grid, get name from positions\n        if (draggedFromGrid && !student) {\n            const pos = positions.find((p)=>p.student_id === draggedStudent);\n            if (pos) {\n                student = {\n                    student_id: draggedStudent,\n                    name: pos.name,\n                    part_name: null\n                };\n            }\n        }\n        if (!student) return;\n        const activePositions = selectedSubpartId && subparts.length > 0 ? subpartPositions[selectedSubpartId] || [] : positions;\n        // Always remove old position first (whether from roster or grid)\n        const filtered = activePositions.filter((p)=>p.student_id !== draggedStudent);\n        // Add at new position\n        const newPositions = [\n            ...filtered,\n            {\n                student_id: draggedStudent,\n                name: student.name,\n                x: toLogicalX(x),\n                y: toLogicalY(y)\n            }\n        ];\n        if (selectedSubpartId && subparts.length > 0) {\n            setSubpartPositions((prev)=>({\n                    ...prev,\n                    [selectedSubpartId]: newPositions\n                }));\n            await addMissingAssignedFromPositions(newPositions, subpartOrder[selectedSubpartId] || []);\n        } else {\n            setPositions(newPositions);\n        }\n        hasChangesRef.current = true;\n        setDraggedStudent(null);\n        setDraggedFromGrid(false);\n    };\n    const removeFromStage = (studentId)=>{\n        const persistPositions = async (nextPositions)=>{\n            try {\n                if (selectedSubpartId && subparts.length > 0) {\n                    await fetch(\"/api/subpart-positions\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            subpart_id: selectedSubpartId,\n                            positions: nextPositions.map((p)=>({\n                                    subpart_id: selectedSubpartId,\n                                    student_id: p.student_id,\n                                    x: p.x,\n                                    y: p.y\n                                }))\n                        })\n                    });\n                } else {\n                    await onSavePositions(nextPositions);\n                }\n                hasChangesRef.current = false;\n                setLastSavedTime(Date.now());\n            } catch (err) {\n                setError(err instanceof Error ? err.message : \"Failed to save positions\");\n                hasChangesRef.current = true;\n            }\n        };\n        if (selectedSubpartId && subparts.length > 0) {\n            const current = subpartPositions[selectedSubpartId] || [];\n            const nextPositions = current.filter((p)=>p.student_id !== studentId);\n            setSubpartPositions((prev)=>({\n                    ...prev,\n                    [selectedSubpartId]: nextPositions\n                }));\n            persistPositions(nextPositions);\n        } else {\n            const nextPositions = positions.filter((p)=>p.student_id !== studentId);\n            setPositions(nextPositions);\n            persistPositions(nextPositions);\n        }\n        hasChangesRef.current = true;\n    };\n    const resetPositions = ()=>{\n        if (selectedSubpartId && subparts.length > 0) {\n            setSubpartPositions((prev)=>({\n                    ...prev,\n                    [selectedSubpartId]: []\n                }));\n        } else {\n            setPositions([]);\n        }\n        hasChangesRef.current = true;\n    };\n    const handleSave = async ()=>{\n        try {\n            setSaving(true);\n            // Save positions\n            if (selectedSubpartId && subparts.length > 0) {\n                const payload = (subpartPositions[selectedSubpartId] || []).map((p)=>({\n                        subpart_id: selectedSubpartId,\n                        student_id: p.student_id,\n                        x: p.x,\n                        y: p.y\n                    }));\n                await fetch(\"/api/subpart-positions\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        subpart_id: selectedSubpartId,\n                        positions: payload\n                    })\n                });\n            } else {\n                await onSavePositions(positions);\n            }\n            // Save stage orientation at performance level\n            await fetch(\"/api/performances/\".concat(performanceId), {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    stage_orientation: frontDirection\n                })\n            });\n            setError(null);\n        } catch (err) {\n            setError(err instanceof Error ? err.message : \"Failed to save positions\");\n        } finally{\n            setSaving(false);\n        }\n    };\n    const persistOrder = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PositioningPanel.useCallback[persistOrder]\": async (items)=>{\n            if (!selectedSubpartId) return;\n            setSubpartOrder({\n                \"PositioningPanel.useCallback[persistOrder]\": (prev)=>({\n                        ...prev,\n                        [selectedSubpartId]: items\n                    })\n            }[\"PositioningPanel.useCallback[persistOrder]\"]);\n            await fetch(\"/api/subpart-order\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(items.map({\n                    \"PositioningPanel.useCallback[persistOrder]\": (item, idx)=>({\n                            subpart_id: selectedSubpartId,\n                            student_id: item.student_id,\n                            order: idx + 1\n                        })\n                }[\"PositioningPanel.useCallback[persistOrder]\"]))\n            });\n        }\n    }[\"PositioningPanel.useCallback[persistOrder]\"], [\n        selectedSubpartId\n    ]);\n    const addToOrder = async (studentId, studentName)=>{\n        if (!selectedSubpartId) return;\n        const next = [\n            ...orderItems,\n            {\n                id: \"temp-\".concat(Date.now()),\n                student_id: studentId,\n                student_name: studentName\n            }\n        ];\n        await persistOrder(next);\n    };\n    const addMissingAssignedFromPositions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PositioningPanel.useCallback[addMissingAssignedFromPositions]\": async (positionsList, currentItems)=>{\n            if (!selectedSubpartId) return;\n            const existing = new Set(currentItems.map({\n                \"PositioningPanel.useCallback[addMissingAssignedFromPositions]\": (item)=>item.student_id\n            }[\"PositioningPanel.useCallback[addMissingAssignedFromPositions]\"]));\n            const missing = positionsList.filter({\n                \"PositioningPanel.useCallback[addMissingAssignedFromPositions].missing\": (pos)=>pos.student_id && !existing.has(pos.student_id)\n            }[\"PositioningPanel.useCallback[addMissingAssignedFromPositions].missing\"]).map({\n                \"PositioningPanel.useCallback[addMissingAssignedFromPositions].missing\": (pos)=>({\n                        id: \"temp-\".concat(Date.now(), \"-\").concat(pos.student_id),\n                        student_id: pos.student_id,\n                        student_name: pos.name\n                    })\n            }[\"PositioningPanel.useCallback[addMissingAssignedFromPositions].missing\"]);\n            if (missing.length === 0) return;\n            const next = [\n                ...currentItems,\n                ...missing\n            ];\n            await persistOrder(next);\n        }\n    }[\"PositioningPanel.useCallback[addMissingAssignedFromPositions]\"], [\n        persistOrder,\n        selectedSubpartId\n    ]);\n    const handleReorderSubparts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PositioningPanel.useCallback[handleReorderSubparts]\": async (fromIndex, toIndex)=>{\n            if (toIndex < 0 || toIndex >= subparts.length) return;\n            const next = [\n                ...subparts\n            ];\n            const [moved] = next.splice(fromIndex, 1);\n            next.splice(toIndex, 0, moved);\n            setSubparts(next);\n            try {\n                await Promise.all(next.map({\n                    \"PositioningPanel.useCallback[handleReorderSubparts]\": (sub, idx)=>fetch(\"/api/subparts/\".concat(sub.id), {\n                            method: \"PUT\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify({\n                                order: idx + 1\n                            })\n                        })\n                }[\"PositioningPanel.useCallback[handleReorderSubparts]\"]));\n            } catch (err) {\n                console.error(\"Error reordering subparts:\", err);\n                await fetchSubparts();\n            }\n        }\n    }[\"PositioningPanel.useCallback[handleReorderSubparts]\"], [\n        subparts,\n        fetchSubparts\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PositioningPanel.useEffect\": ()=>{\n            if (!selectedSubpartId) return;\n            const positionsList = subpartPositions[selectedSubpartId] || [];\n            const items = subpartOrder[selectedSubpartId] || [];\n            if (positionsList.length === 0) return;\n            addMissingAssignedFromPositions(positionsList, items);\n        }\n    }[\"PositioningPanel.useEffect\"], [\n        selectedSubpartId,\n        subpartPositions,\n        subpartOrder,\n        addMissingAssignedFromPositions\n    ]);\n    const loadSourcePositions = async ()=>{\n        if (!selectedSourceKey) return [];\n        const [type, id] = selectedSourceKey.split(\":\");\n        if (!id) return [];\n        const url = type === \"subpart\" ? \"/api/subpart-positions?subpartId=\".concat(id) : \"/api/stage-positions?partId=\".concat(id);\n        const res = await fetch(url);\n        if (!res.ok) {\n            const text = await res.text();\n            throw new Error(text || \"Failed to fetch source positions\");\n        }\n        const data = await res.json();\n        return (data || []).map((p)=>({\n                student_id: p.student_id || \"\",\n                name: p.student_name || \"Unknown\",\n                x: p.x,\n                y: p.y\n            }));\n    };\n    const applyQuickPositions = async ()=>{\n        if (!selectedSourceKey) return;\n        setApplyingQuick(true);\n        try {\n            const sourcePositions = await loadSourcePositions();\n            const mapped = sourcePositions.map((p)=>{\n                const flippedX = flipHorizontal ? GRID_COLS - 1 - p.x : p.x;\n                return {\n                    ...p,\n                    x: clampToGrid(flippedX, GRID_COLS - 1),\n                    y: clampToGrid(p.y, GRID_ROWS - 1)\n                };\n            });\n            if (selectedSubpartId && subparts.length > 0) {\n                setSubpartPositions((prev)=>({\n                        ...prev,\n                        [selectedSubpartId]: mapped\n                    }));\n                await addMissingAssignedFromPositions(mapped, subpartOrder[selectedSubpartId] || []);\n                await fetch(\"/api/subpart-positions\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        subpart_id: selectedSubpartId,\n                        positions: mapped.map((p)=>({\n                                subpart_id: selectedSubpartId,\n                                student_id: p.student_id,\n                                x: p.x,\n                                y: p.y\n                            }))\n                    })\n                });\n            } else {\n                setPositions(mapped);\n                await onSavePositions(mapped);\n            }\n            hasChangesRef.current = false;\n            setLastSavedTime(Date.now());\n            setError(null);\n        } catch (err) {\n            setError(err instanceof Error ? err.message : \"Failed to apply positions\");\n        } finally{\n            setApplyingQuick(false);\n        }\n    };\n    const activeSubpart = subparts.find((s)=>s.id === selectedSubpartId);\n    const orderedSubparts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"PositioningPanel.useMemo[orderedSubparts]\": ()=>{\n            const list = [\n                ...subparts\n            ];\n            return list.sort({\n                \"PositioningPanel.useMemo[orderedSubparts]\": (a, b)=>{\n                    const aStart = typeof a.timepoint_seconds === \"number\" ? a.timepoint_seconds : Number.POSITIVE_INFINITY;\n                    const bStart = typeof b.timepoint_seconds === \"number\" ? b.timepoint_seconds : Number.POSITIVE_INFINITY;\n                    if (aStart !== bStart) return aStart - bStart;\n                    return (a.title || \"\").localeCompare(b.title || \"\");\n                }\n            }[\"PositioningPanel.useMemo[orderedSubparts]\"]);\n        }\n    }[\"PositioningPanel.useMemo[orderedSubparts]\"], [\n        subparts\n    ]);\n    const subpartDuration = activeSubpart ? formatDuration(activeSubpart.timepoint_seconds, activeSubpart.timepoint_end_seconds) : \"\";\n    var _partTimeOverride_start, _ref;\n    const effectivePartStart = (_ref = (_partTimeOverride_start = partTimeOverride === null || partTimeOverride === void 0 ? void 0 : partTimeOverride.start) !== null && _partTimeOverride_start !== void 0 ? _partTimeOverride_start : partTimepointSeconds) !== null && _ref !== void 0 ? _ref : null;\n    var _partTimeOverride_end, _ref1;\n    const effectivePartEnd = (_ref1 = (_partTimeOverride_end = partTimeOverride === null || partTimeOverride === void 0 ? void 0 : partTimeOverride.end) !== null && _partTimeOverride_end !== void 0 ? _partTimeOverride_end : partTimepointEndSeconds) !== null && _ref1 !== void 0 ? _ref1 : null;\n    const partDuration = formatDuration(effectivePartStart, effectivePartEnd);\n    const subpartMode = (activeSubpart === null || activeSubpart === void 0 ? void 0 : activeSubpart.mode) || \"position\";\n    const canPosition = subparts.length === 0 || subpartMode !== \"order\";\n    const canOrder = subparts.length > 0;\n    const orderItems = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"PositioningPanel.useMemo[orderItems]\": ()=>selectedSubpartId ? subpartOrder[selectedSubpartId] || [] : []\n    }[\"PositioningPanel.useMemo[orderItems]\"], [\n        selectedSubpartId,\n        subpartOrder\n    ]);\n    const orderIndexByStudentId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"PositioningPanel.useMemo[orderIndexByStudentId]\": ()=>{\n            const map = {};\n            orderItems.forEach({\n                \"PositioningPanel.useMemo[orderIndexByStudentId]\": (item, idx)=>{\n                    if (item.student_id) map[item.student_id] = idx + 1;\n                }\n            }[\"PositioningPanel.useMemo[orderIndexByStudentId]\"]);\n            return map;\n        }\n    }[\"PositioningPanel.useMemo[orderIndexByStudentId]\"], [\n        orderItems\n    ]);\n    const activePositions = selectedSubpartId && subparts.length > 0 ? subpartPositions[selectedSubpartId] || [] : positions;\n    const positionedStudents = new Set(activePositions.map((p)=>p.student_id));\n    const availableStudents = roster;\n    // Generate legend with initials (deduplicated)\n    const uniqueStudents = new Map();\n    activePositions.forEach((pos)=>{\n        if (!uniqueStudents.has(pos.student_id)) {\n            uniqueStudents.set(pos.student_id, pos);\n        }\n    });\n    const legendData = Array.from(uniqueStudents.values()).map((pos)=>({\n            student_id: pos.student_id,\n            name: pos.name,\n            initials: generateInitials(pos.name, Array.from(uniqueStudents.values()).map((p)=>p.name))\n        }));\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"text-center py-8\",\n            children: \"Loading...\"\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n            lineNumber: 776,\n            columnNumber: 12\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-6\",\n        children: [\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\",\n                children: error\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                lineNumber: 782,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid grid-cols-1 lg:grid-cols-[220px_1fr] gap-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gray-50 p-4 rounded-lg border border-gray-200 hidden lg:block\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold text-gray-900 mb-2\",\n                                children: [\n                                    \"Students (\",\n                                    availableStudents.length,\n                                    \")\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                lineNumber: 790,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-[11px] text-gray-500 mb-3\",\n                                children: \"Positioned students stay here so you can assign them to subparts.\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                lineNumber: 793,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-2 max-h-96 overflow-y-auto\",\n                                children: availableStudents.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-500 text-sm\",\n                                    children: \"No students yet.\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                    lineNumber: 798,\n                                    columnNumber: 15\n                                }, this) : availableStudents.map((student)=>{\n                                    const isPositioned = positionedStudents.has(student.student_id);\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        draggable: true,\n                                        onDragStart: ()=>handleDragStart(student.student_id, false),\n                                        className: \"p-3 rounded border cursor-move hover:shadow-md transition-all \".concat(isPositioned ? \"bg-emerald-50 border-emerald-200 hover:border-emerald-300\" : \"bg-white border-blue-200 hover:border-blue-400\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"font-medium text-sm text-gray-900\",\n                                                        children: student.name\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                        lineNumber: 814,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    isPositioned && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-[10px] px-2 py-0.5 rounded bg-emerald-100 text-emerald-700 font-semibold\",\n                                                        children: \"Positioned\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                        lineNumber: 818,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                lineNumber: 813,\n                                                columnNumber: 21\n                                            }, this),\n                                            student.part_name && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-gray-600\",\n                                                children: student.part_name\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                lineNumber: 824,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, student.student_id, true, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                        lineNumber: 803,\n                                        columnNumber: 19\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                lineNumber: 796,\n                                columnNumber: 11\n                            }, this),\n                            canOrder && selectedSubpartId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 border-t border-gray-200 pt-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                        className: \"font-medium text-gray-900 mb-2 text-sm\",\n                                        children: \"Assigned Students\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                        lineNumber: 834,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-[11px] text-gray-500 mb-2\",\n                                        children: \"Drag students here to assign them to this subpart.\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                        lineNumber: 837,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-white p-2 rounded border border-gray-200\",\n                                        onDragOver: (e)=>e.preventDefault(),\n                                        onDrop: async ()=>{\n                                            if (draggingOrderId) return;\n                                            if (!draggedStudent) return;\n                                            if (orderItems.some((item)=>item.student_id === draggedStudent)) return;\n                                            const student = roster.find((s)=>s.student_id === draggedStudent);\n                                            if (!student) return;\n                                            await addToOrder(student.student_id, student.name);\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-2\",\n                                            children: orderItems.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-gray-500 border border-dashed border-gray-300 rounded p-2 text-center\",\n                                                children: \"Drop students here\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                lineNumber: 854,\n                                                columnNumber: 21\n                                            }, this) : orderItems.map((item, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    draggable: true,\n                                                    onDragStart: ()=>{\n                                                        setDraggingOrderId(item.id);\n                                                        setDraggedStudent(null);\n                                                        setDraggedFromGrid(false);\n                                                    },\n                                                    onDragOver: (e)=>e.preventDefault(),\n                                                    onDrop: async ()=>{\n                                                        if (!draggingOrderId) return;\n                                                        const fromIdx = orderItems.findIndex((i)=>i.id === draggingOrderId);\n                                                        const toIdx = orderItems.findIndex((i)=>i.id === item.id);\n                                                        if (fromIdx < 0 || toIdx < 0) return;\n                                                        const next = [\n                                                            ...orderItems\n                                                        ];\n                                                        const [moved] = next.splice(fromIdx, 1);\n                                                        next.splice(toIdx, 0, moved);\n                                                        await persistOrder(next);\n                                                        setDraggingOrderId(null);\n                                                    },\n                                                    className: \"flex items-center justify-between bg-gray-50 border border-gray-200 rounded px-2 py-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-gray-900\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-gray-500 mr-1\",\n                                                                    children: [\n                                                                        idx + 1,\n                                                                        \".\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 882,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                item.student_name\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 881,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: async ()=>{\n                                                                const next = orderItems.filter((i)=>i.id !== item.id);\n                                                                await persistOrder(next);\n                                                            },\n                                                            className: \"text-[10px] text-red-600 hover:text-red-800\",\n                                                            children: \"Remove\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 885,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, item.id, true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 859,\n                                                    columnNumber: 23\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 852,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                        lineNumber: 840,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                lineNumber: 833,\n                                columnNumber: 13\n                            }, this),\n                            !selectedSubpartId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 border-t border-gray-200 pt-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                        className: \"font-medium text-gray-900 mb-2 text-sm\",\n                                        children: \"Assigned Students (Part)\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                        lineNumber: 904,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-white p-2 rounded border border-gray-200\",\n                                        children: positions.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs text-gray-500 text-center\",\n                                            children: \"No positioned students\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 909,\n                                            columnNumber: 19\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-2\",\n                                            children: positions.map((pos, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between bg-gray-50 border border-gray-200 rounded px-2 py-1\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-gray-900\",\n                                                        children: pos.name\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                        lineNumber: 917,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, pos.id || \"\".concat(pos.student_id, \"-\").concat(idx), false, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 913,\n                                                    columnNumber: 23\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 911,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                        lineNumber: 907,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                lineNumber: 903,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                        lineNumber: 789,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-wrap items-start justify-between gap-3 mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLogo__WEBPACK_IMPORTED_MODULE_2__.AppLogo, {\n                                                            size: 24,\n                                                            className: \"border border-gray-200 bg-white text-gray-400\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 933,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                            className: \"font-semibold text-gray-900\",\n                                                            children: \"Stage Layout\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 934,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        editingPartName ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center gap-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"text\",\n                                                                    value: partNameDraft,\n                                                                    onChange: (e)=>setPartNameDraft(e.target.value),\n                                                                    className: \"px-2 py-1 border border-gray-300 rounded text-sm\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 937,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    onClick: async ()=>{\n                                                                        if (!partId) return;\n                                                                        const nextName = partNameDraft.trim();\n                                                                        if (!nextName) return;\n                                                                        setPartNameSaving(true);\n                                                                        try {\n                                                                            const res = await fetch(\"/api/parts/\".concat(partId), {\n                                                                                method: \"PUT\",\n                                                                                headers: {\n                                                                                    \"Content-Type\": \"application/json\"\n                                                                                },\n                                                                                body: JSON.stringify({\n                                                                                    name: nextName\n                                                                                })\n                                                                            });\n                                                                            if (!res.ok) throw new Error(\"Failed to update part name\");\n                                                                            setEditingPartName(false);\n                                                                        } catch (err) {\n                                                                            alert(err instanceof Error ? err.message : \"Failed to update part name\");\n                                                                        } finally{\n                                                                            setPartNameSaving(false);\n                                                                        }\n                                                                    },\n                                                                    disabled: partNameSaving,\n                                                                    className: \"px-2 py-1 bg-green-600 text-white rounded text-xs disabled:bg-gray-400\",\n                                                                    children: partNameSaving ? \"Saving...\" : \"Save\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 943,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    onClick: ()=>{\n                                                                        setEditingPartName(false);\n                                                                        setPartNameDraft(partName || \"\");\n                                                                    },\n                                                                    className: \"px-2 py-1 bg-gray-300 text-gray-800 rounded text-xs\",\n                                                                    children: \"Cancel\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 972,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 936,\n                                                            columnNumber: 21\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-xl font-semibold text-gray-900\",\n                                                                    children: partName ? partName : \"\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 984,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    onClick: ()=>setEditingPartName(true),\n                                                                    className: \"text-xs text-blue-600 hover:text-blue-800\",\n                                                                    children: \"Edit name\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 987,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 932,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-2\",\n                                                    children: [\n                                                        editingPartNotes ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"space-y-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                                    value: partNotesDraft,\n                                                                    onChange: (e)=>setPartNotesDraft(e.target.value),\n                                                                    rows: 2,\n                                                                    placeholder: \"Add part notes...\",\n                                                                    className: \"w-full px-2 py-1 border border-gray-300 rounded text-sm\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 999,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: async ()=>{\n                                                                                if (!partId) return;\n                                                                                setPartNotesSaving(true);\n                                                                                try {\n                                                                                    const res = await fetch(\"/api/parts/\".concat(partId), {\n                                                                                        method: \"PUT\",\n                                                                                        headers: {\n                                                                                            \"Content-Type\": \"application/json\"\n                                                                                        },\n                                                                                        body: JSON.stringify({\n                                                                                            description: partNotesDraft || null\n                                                                                        })\n                                                                                    });\n                                                                                    if (!res.ok) throw new Error(\"Failed to update part notes\");\n                                                                                    setEditingPartNotes(false);\n                                                                                } catch (err) {\n                                                                                    alert(err instanceof Error ? err.message : \"Failed to update part notes\");\n                                                                                } finally{\n                                                                                    setPartNotesSaving(false);\n                                                                                }\n                                                                            },\n                                                                            disabled: partNotesSaving,\n                                                                            className: \"px-2 py-1 bg-green-600 text-white rounded text-xs disabled:bg-gray-400\",\n                                                                            children: partNotesSaving ? \"Saving...\" : \"Save notes\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                            lineNumber: 1007,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>{\n                                                                                setEditingPartNotes(false);\n                                                                                setPartNotesDraft(partDescription || \"\");\n                                                                            },\n                                                                            className: \"px-2 py-1 bg-gray-300 text-gray-800 rounded text-xs\",\n                                                                            children: \"Cancel\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                            lineNumber: 1034,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 1006,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 998,\n                                                            columnNumber: 21\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-start gap-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-sm text-gray-600\",\n                                                                    children: partDescription ? partDescription : \"No notes yet.\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 1047,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    onClick: ()=>setEditingPartNotes(true),\n                                                                    className: \"text-xs text-blue-600 hover:text-blue-800\",\n                                                                    children: \"Edit notes\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 1050,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 1046,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        partDuration && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-1 text-xs text-gray-500\",\n                                                            children: [\n                                                                \"Duration: \",\n                                                                partDuration\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 1059,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-3\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center justify-between\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-xs font-semibold text-gray-600\",\n                                                                            children: \"Timepoint\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                            lineNumber: 1065,\n                                                                            columnNumber: 23\n                                                                        }, this),\n                                                                        !editingPartTime && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>setEditingPartTime(true),\n                                                                            className: \"text-xs text-blue-600 hover:text-blue-800\",\n                                                                            children: \"Edit time\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                            lineNumber: 1067,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 1064,\n                                                                    columnNumber: 21\n                                                                }, this),\n                                                                editingPartTime ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"mt-2 space-y-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"grid grid-cols-2 gap-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"text-[10px] text-gray-500\",\n                                                                                            children: \"Start (m / s)\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                                            lineNumber: 1079,\n                                                                                            columnNumber: 29\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"grid grid-cols-2 gap-2\",\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                                    type: \"number\",\n                                                                                                    min: \"0\",\n                                                                                                    value: partStartMin,\n                                                                                                    onChange: (e)=>setPartStartMin(e.target.value),\n                                                                                                    className: \"w-full px-2 py-1 border border-gray-300 rounded text-xs\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                                                    lineNumber: 1081,\n                                                                                                    columnNumber: 31\n                                                                                                }, this),\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                                    type: \"number\",\n                                                                                                    step: \"0.1\",\n                                                                                                    min: \"0\",\n                                                                                                    value: partStartSec,\n                                                                                                    onChange: (e)=>setPartStartSec(e.target.value),\n                                                                                                    className: \"w-full px-2 py-1 border border-gray-300 rounded text-xs\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                                                    lineNumber: 1088,\n                                                                                                    columnNumber: 31\n                                                                                                }, this)\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                                            lineNumber: 1080,\n                                                                                            columnNumber: 29\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                                    lineNumber: 1078,\n                                                                                    columnNumber: 27\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"text-[10px] text-gray-500\",\n                                                                                            children: \"End (m / s)\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                                            lineNumber: 1099,\n                                                                                            columnNumber: 29\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"grid grid-cols-2 gap-2\",\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                                    type: \"number\",\n                                                                                                    min: \"0\",\n                                                                                                    value: partEndMin,\n                                                                                                    onChange: (e)=>setPartEndMin(e.target.value),\n                                                                                                    className: \"w-full px-2 py-1 border border-gray-300 rounded text-xs\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                                                    lineNumber: 1101,\n                                                                                                    columnNumber: 31\n                                                                                                }, this),\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                                    type: \"number\",\n                                                                                                    step: \"0.1\",\n                                                                                                    min: \"0\",\n                                                                                                    value: partEndSec,\n                                                                                                    onChange: (e)=>setPartEndSec(e.target.value),\n                                                                                                    className: \"w-full px-2 py-1 border border-gray-300 rounded text-xs\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                                                    lineNumber: 1108,\n                                                                                                    columnNumber: 31\n                                                                                                }, this)\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                                            lineNumber: 1100,\n                                                                                            columnNumber: 29\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                                    lineNumber: 1098,\n                                                                                    columnNumber: 27\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                            lineNumber: 1077,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex gap-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                    onClick: async ()=>{\n                                                                                        const start = composeSeconds(partStartMin, partStartSec);\n                                                                                        const end = composeSeconds(partEndMin, partEndSec);\n                                                                                        if (start !== null && end !== null && end < start) {\n                                                                                            alert(\"End time must be after start time.\");\n                                                                                            return;\n                                                                                        }\n                                                                                        setPartTimeSaving(true);\n                                                                                        try {\n                                                                                            const res = await fetch(\"/api/parts/\".concat(partId), {\n                                                                                                method: \"PUT\",\n                                                                                                headers: {\n                                                                                                    \"Content-Type\": \"application/json\"\n                                                                                                },\n                                                                                                body: JSON.stringify({\n                                                                                                    timepoint_seconds: start,\n                                                                                                    timepoint_end_seconds: end\n                                                                                                })\n                                                                                            });\n                                                                                            if (!res.ok) throw new Error(\"Failed to update timepoint\");\n                                                                                            setPartTimeOverride({\n                                                                                                start,\n                                                                                                end\n                                                                                            });\n                                                                                            setEditingPartTime(false);\n                                                                                        } catch (err) {\n                                                                                            alert(err instanceof Error ? err.message : \"Failed to update timepoint\");\n                                                                                        } finally{\n                                                                                            setPartTimeSaving(false);\n                                                                                        }\n                                                                                    },\n                                                                                    disabled: partTimeSaving,\n                                                                                    className: \"px-2 py-1 bg-emerald-600 text-white rounded text-xs disabled:bg-gray-400\",\n                                                                                    children: partTimeSaving ? \"Saving...\" : \"Save\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                                    lineNumber: 1120,\n                                                                                    columnNumber: 27\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                    onClick: ()=>{\n                                                                                        const startSplit = splitTime(effectivePartStart);\n                                                                                        const endSplit = splitTime(effectivePartEnd);\n                                                                                        setPartStartMin(startSplit.min);\n                                                                                        setPartStartSec(startSplit.sec);\n                                                                                        setPartEndMin(endSplit.min);\n                                                                                        setPartEndSec(endSplit.sec);\n                                                                                        setEditingPartTime(false);\n                                                                                    },\n                                                                                    className: \"px-2 py-1 bg-gray-300 text-gray-800 rounded text-xs\",\n                                                                                    children: \"Cancel\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                                    lineNumber: 1152,\n                                                                                    columnNumber: 27\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                            lineNumber: 1119,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 1076,\n                                                                    columnNumber: 23\n                                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"mt-1 text-xs text-gray-600\",\n                                                                    children: [\n                                                                        formatTime(effectivePartStart),\n                                                                        \" - \",\n                                                                        formatTime(effectivePartEnd)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 1169,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 1063,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 996,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-600 mt-1\",\n                                                    children: [\n                                                        \"Front of stage: \",\n                                                        frontDirection === \"bottom\" ? \"Bottom\" : \"Top\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 1175,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 931,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-gray-600\",\n                                                    children: \"Subpart\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 1180,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                    value: selectedSubpartId || \"\",\n                                                    onChange: (e)=>setSelectedSubpartId(e.target.value),\n                                                    className: \"px-2 py-1 border border-gray-300 rounded text-xs\",\n                                                    disabled: subparts.length === 0,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"\",\n                                                            children: \"Part positions\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 1187,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        subparts.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"\",\n                                                            disabled: true,\n                                                            children: \"No subparts yet\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 1189,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        orderedSubparts.map((sub)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: sub.id,\n                                                                children: sub.title\n                                                            }, sub.id, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                lineNumber: 1194,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 1181,\n                                                    columnNumber: 17\n                                                }, this),\n                                                (activeSubpart === null || activeSubpart === void 0 ? void 0 : activeSubpart.description) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-[10px] text-gray-500\",\n                                                    children: activeSubpart.description\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 1200,\n                                                    columnNumber: 19\n                                                }, this),\n                                                subpartDuration && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-[10px] text-gray-500\",\n                                                    children: [\n                                                        \"Duration: \",\n                                                        subpartDuration\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 1205,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 1179,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex flex-col items-end gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-3 text-xs\",\n                                                    children: [\n                                                        saving && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-blue-600 font-semibold\",\n                                                            children: \"Auto-saving...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 1213,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        !saving && hasChangesRef.current && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-orange-600 font-semibold\",\n                                                            children: \"Unsaved changes (auto-saves in 6s)\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 1216,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 1211,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                            value: frontDirection,\n                                                            onChange: (e)=>setFrontDirection(e.target.value),\n                                                            className: \"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                    value: \"bottom\",\n                                                                    children: \"Front - Bottom\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 1227,\n                                                                    columnNumber: 21\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                    value: \"top\",\n                                                                    children: \"Front - Top\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 1228,\n                                                                    columnNumber: 21\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 1222,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: resetPositions,\n                                                            className: \"px-4 py-2 bg-gray-300 text-gray-900 rounded-lg hover:bg-gray-400 font-medium text-sm\",\n                                                            children: \"Reset All\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 1230,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: handleSave,\n                                                            disabled: saving,\n                                                            className: \"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 font-medium text-sm\",\n                                                            children: saving ? \"Saving...\" : \"Save Positions\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 1236,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 1221,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 1210,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                    lineNumber: 930,\n                                    columnNumber: 13\n                                }, this),\n                                subparts.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-gray-50 border border-gray-200 rounded-lg p-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs font-semibold text-gray-700 mb-2\",\n                                            children: \"Subparts\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 1249,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex flex-wrap gap-2\",\n                                            children: orderedSubparts.map((sub, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    draggable: true,\n                                                    onDragStart: ()=>setDraggingSubpartId(sub.id),\n                                                    onDragOver: (e)=>e.preventDefault(),\n                                                    onDrop: ()=>{\n                                                        if (!draggingSubpartId) return;\n                                                        const fromIdx = subparts.findIndex((s)=>s.id === draggingSubpartId);\n                                                        const toIdx = subparts.findIndex((s)=>s.id === sub.id);\n                                                        if (fromIdx < 0 || toIdx < 0) return;\n                                                        handleReorderSubparts(fromIdx, toIdx);\n                                                        setDraggingSubpartId(null);\n                                                    },\n                                                    onClick: ()=>setSelectedSubpartId(sub.id),\n                                                    className: \"px-3 py-1 rounded-full text-xs font-semibold border transition-colors \".concat(selectedSubpartId === sub.id ? \"bg-blue-600 text-white border-blue-700\" : \"bg-white text-gray-700 border-gray-300 hover:bg-gray-100\"),\n                                                    title: \"Drag to reorder\",\n                                                    children: [\n                                                        idx + 1,\n                                                        \". \",\n                                                        sub.title\n                                                    ]\n                                                }, sub.id, true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 1252,\n                                                    columnNumber: 21\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 1250,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                    lineNumber: 1248,\n                                    columnNumber: 15\n                                }, this),\n                                activePositions.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-blue-50 p-3 rounded-lg border border-blue-200\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                            className: \"font-medium text-gray-900 mb-2 text-sm\",\n                                            children: \"Legend\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 1283,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2\",\n                                            children: legendData.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2 text-sm\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold\",\n                                                            children: item.initials\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 1287,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-gray-700 truncate\",\n                                                            children: item.name\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 1290,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, item.student_id, true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 1286,\n                                                    columnNumber: 21\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 1284,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                    lineNumber: 1282,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-white p-3 rounded-lg border border-gray-200\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"font-medium text-gray-900 text-sm mb-2\",\n                                            children: \"Quick Position\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 1298,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-1 md:grid-cols-[1fr_auto] gap-2 items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                    value: selectedSourceKey,\n                                                    onChange: (e)=>setSelectedSourceKey(e.target.value),\n                                                    className: \"px-2 py-1 border border-gray-300 rounded text-sm\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"\",\n                                                            children: \"Select a part or subpart...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 1305,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        sourceOptions.map((opt)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: opt.key,\n                                                                children: opt.label\n                                                            }, opt.key, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                lineNumber: 1307,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 1300,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: applyQuickPositions,\n                                                    disabled: !selectedSourceKey || applyingQuick,\n                                                    className: \"px-3 py-1 bg-blue-600 text-white rounded text-sm disabled:bg-gray-400\",\n                                                    children: applyingQuick ? \"Applying...\" : \"Apply\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 1312,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 1299,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"mt-2 flex items-center gap-2 text-xs text-gray-700\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"checkbox\",\n                                                    checked: flipHorizontal,\n                                                    onChange: (e)=>setFlipHorizontal(e.target.checked),\n                                                    className: \"h-4 w-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 1321,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Horizontal flip before applying\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 1320,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                    lineNumber: 1297,\n                                    columnNumber: 13\n                                }, this),\n                                subparts.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm text-gray-700 font-medium text-center\",\n                                    children: (activeSubpart === null || activeSubpart === void 0 ? void 0 : activeSubpart.title) || \"Subpart\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                    lineNumber: 1332,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-center gap-3\",\n                                    children: [\n                                        orderedSubparts.length > 0 && canPosition && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                const idx = orderedSubparts.findIndex((s)=>s.id === selectedSubpartId);\n                                                if (idx > 0) setSelectedSubpartId(orderedSubparts[idx - 1].id);\n                                            },\n                                            disabled: !selectedSubpartId || orderedSubparts.findIndex((s)=>s.id === selectedSubpartId) === 0,\n                                            className: \"px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 disabled:opacity-50 text-xs\",\n                                            children: \"Prev\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 1340,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            ref: gridWrapRef,\n                                            className: \"w-full overflow-hidden\",\n                                            style: {\n                                                height: baseHeight * gridScale\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"border-2 border-gray-400 bg-gradient-to-b from-amber-100 to-amber-50 relative mx-auto\",\n                                                style: {\n                                                    width: baseWidth,\n                                                    height: baseHeight,\n                                                    backgroundImage: \"\\n                  linear-gradient(rgba(0,0,0,.1) 1px, transparent 1px),\\n                  linear-gradient(90deg, rgba(0,0,0,.1) 1px, transparent 1px)\\n                \",\n                                                    backgroundSize: \"\".concat(CELL_SIZE, \"px \").concat(CELL_SIZE, \"px\"),\n                                                    transform: \"scale(\".concat(gridScale, \")\"),\n                                                    transformOrigin: \"top left\"\n                                                },\n                                                onDragOver: handleGridDragOver,\n                                                children: [\n                                                    frontDirection === \"bottom\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"absolute bottom-0 left-0 right-0 h-1 bg-red-500\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                        lineNumber: 1373,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    frontDirection === \"top\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"absolute top-0 left-0 right-0 h-1 bg-red-500\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                        lineNumber: 1376,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"absolute text-red-600 font-bold text-xs bg-white bg-opacity-80 px-2 py-1 rounded\",\n                                                        style: {\n                                                            ...frontDirection === \"bottom\" && {\n                                                                bottom: 5,\n                                                                left: \"50%\",\n                                                                transform: \"translateX(-50%)\"\n                                                            },\n                                                            ...frontDirection === \"top\" && {\n                                                                top: 5,\n                                                                left: \"50%\",\n                                                                transform: \"translateX(-50%)\"\n                                                            }\n                                                        },\n                                                        children: \"FRONT\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                        lineNumber: 1380,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    selectedSubpartId && subparts.length > 0 && activePositions.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"absolute top-8 left-0 right-0 text-center text-2xl font-bold text-gray-500\",\n                                                        children: (activeSubpart === null || activeSubpart === void 0 ? void 0 : activeSubpart.title) || \"Subpart\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                        lineNumber: 1391,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    Array.from({\n                                                        length: GRID_ROWS\n                                                    }).map((_, y)=>Array.from({\n                                                            length: GRID_COLS\n                                                        }).map((_, x)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                onDrop: (e)=>handleGridDrop(e, x, y),\n                                                                onDragOver: handleGridDragOver,\n                                                                className: \"absolute cursor-cell hover:bg-blue-100 hover:bg-opacity-30 transition-colors\",\n                                                                style: {\n                                                                    left: x * CELL_SIZE,\n                                                                    top: y * CELL_SIZE,\n                                                                    width: CELL_SIZE,\n                                                                    height: CELL_SIZE\n                                                                }\n                                                            }, \"\".concat(x, \"-\").concat(y), false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                lineNumber: 1399,\n                                                                columnNumber: 23\n                                                            }, this))),\n                                                    activePositions.map((pos, idx)=>{\n                                                        const initials = generateInitials(pos.name, activePositions.map((p)=>p.name));\n                                                        const orderIndex = orderIndexByStudentId[pos.student_id];\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            draggable: true,\n                                                            onDragStart: ()=>handleDragStart(pos.student_id, true),\n                                                            className: \"absolute flex items-center justify-center group cursor-move\",\n                                                            style: {\n                                                                left: toDisplayX(pos.x) * CELL_SIZE,\n                                                                top: toDisplayY(pos.y) * CELL_SIZE,\n                                                                width: CELL_SIZE,\n                                                                height: CELL_SIZE\n                                                            },\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"relative w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg group-hover:bg-blue-600 transition-colors\",\n                                                                    children: [\n                                                                        initials,\n                                                                        orderIndex ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"absolute -top-2 -left-2 w-5 h-5 rounded-full bg-amber-500 text-[10px] font-bold text-white flex items-center justify-center shadow\",\n                                                                            children: orderIndex\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                            lineNumber: 1434,\n                                                                            columnNumber: 29\n                                                                        }, this) : null,\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>removeFromStage(pos.student_id),\n                                                                            className: \"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600\",\n                                                                            title: \"Remove from stage\",\n                                                                            children: \"x\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                            lineNumber: 1438,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 1431,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"absolute bottom-full mb-1 whitespace-nowrap bg-gray-900 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none\",\n                                                                    children: pos.name\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                                    lineNumber: 1446,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, pos.id || \"\".concat(pos.student_id, \"-\").concat(pos.x, \"-\").concat(pos.y, \"-\").concat(idx), true, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 1419,\n                                                            columnNumber: 23\n                                                        }, this);\n                                                    })\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                lineNumber: 1356,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 1351,\n                                            columnNumber: 15\n                                        }, this),\n                                        orderedSubparts.length > 0 && canPosition && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                const idx = orderedSubparts.findIndex((s)=>s.id === selectedSubpartId);\n                                                if (idx >= 0 && idx < orderedSubparts.length - 1) setSelectedSubpartId(orderedSubparts[idx + 1].id);\n                                            },\n                                            disabled: !selectedSubpartId || orderedSubparts.findIndex((s)=>s.id === selectedSubpartId) === orderedSubparts.length - 1,\n                                            className: \"px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 disabled:opacity-50 text-xs\",\n                                            children: \"Next\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 1455,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                    lineNumber: 1338,\n                                    columnNumber: 13\n                                }, this),\n                                canOrder && selectedSubpartId && null,\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-gray-50 p-4 rounded-lg border border-gray-200\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                            className: \"font-medium text-gray-900 mb-3\",\n                                            children: [\n                                                \"Positioned (\",\n                                                activePositions.length,\n                                                \")\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 1472,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-2 sm:grid-cols-3 gap-2\",\n                                            children: activePositions.map((pos, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"bg-white p-2 rounded border border-green-200 text-sm\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"font-medium text-gray-900\",\n                                                            children: pos.name\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 1481,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs text-gray-600\",\n                                                            children: [\n                                                                \"(\",\n                                                                pos.x,\n                                                                \", \",\n                                                                pos.y,\n                                                                \")\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                            lineNumber: 1482,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, pos.id || \"\".concat(pos.student_id, \"-\").concat(pos.x, \"-\").concat(pos.y, \"-\").concat(idx), true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                                    lineNumber: 1477,\n                                                    columnNumber: 19\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                            lineNumber: 1475,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                                    lineNumber: 1471,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                            lineNumber: 929,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                        lineNumber: 928,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n                lineNumber: 787,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\PositioningPanel.tsx\",\n        lineNumber: 780,\n        columnNumber: 5\n    }, this);\n}\n_s(PositioningPanel, \"gdz2hi26L+YBAvpNDcg+0dyzDf4=\");\n_c = PositioningPanel;\nvar _c;\n$RefreshReg$(_c, \"PositioningPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1Bvc2l0aW9uaW5nUGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFaUY7QUFDbEM7QUEyQi9DLE1BQU1PLFlBQVk7QUFDbEIsTUFBTUMsWUFBWTtBQUNsQixNQUFNQyxZQUFZO0FBSWxCLDRDQUE0QztBQUM1QyxTQUFTQyxpQkFBaUJDLElBQVksRUFBRUMsUUFBa0I7SUFDeEQsSUFBSSxDQUFDRCxRQUFRQSxLQUFLRSxNQUFNLEtBQUssR0FBRyxPQUFPO0lBRXZDLE1BQU1DLGNBQWNILEtBQUtJLE1BQU0sQ0FBQyxHQUFHQyxXQUFXO0lBRTlDLHNEQUFzRDtJQUN0RCxNQUFNQyxZQUFZTCxTQUFTTSxNQUFNLENBQy9CLENBQUNDLElBQU1BLE1BQU1SLFFBQVFRLEVBQUVKLE1BQU0sQ0FBQyxHQUFHQyxXQUFXLE9BQU9GO0lBR3JELElBQUlHLFVBQVVKLE1BQU0sR0FBRyxHQUFHO1FBQ3hCLHlDQUF5QztRQUN6QyxPQUFPRixLQUFLUyxLQUFLLENBQUMsR0FBRyxHQUFHSixXQUFXO0lBQ3JDO0lBRUEsT0FBT0Y7QUFDVDtBQUVPLFNBQVNPLGlCQUFpQixLQVNUO1FBVFMsRUFDL0JDLGFBQWEsRUFDYkMsTUFBTSxFQUNOQyxXQUFXLElBQUksRUFDZkMsa0JBQWtCLElBQUksRUFDdEJDLHVCQUF1QixJQUFJLEVBQzNCQywwQkFBMEIsSUFBSSxFQUM5QkMsVUFBVSxJQUFJLEVBQ2RDLGVBQWUsRUFDTyxHQVRTOztJQVUvQixNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBRzlCLCtDQUFRQSxDQUFrQixFQUFFO0lBQ3hELE1BQU0sQ0FBQytCLFdBQVdDLGFBQWEsR0FBR2hDLCtDQUFRQSxDQUFrQixFQUFFO0lBQzlELE1BQU0sQ0FBQ2lDLGdCQUFnQkMsa0JBQWtCLEdBQUdsQywrQ0FBUUEsQ0FBZ0I7SUFDcEUsTUFBTSxDQUFDbUMsaUJBQWlCQyxtQkFBbUIsR0FBR3BDLCtDQUFRQSxDQUFV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LEtBQU8sT0FBSmdIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQjFFO0dBOTVDZ0JoTztLQUFBQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxjYWx2aVxcRGVza3RvcFxcUGVyZlRvb2xcXHNyY1xcY29tcG9uZW50c1xcUG9zaXRpb25pbmdQYW5lbC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQXBwTG9nbyB9IGZyb20gXCJAL2NvbXBvbmVudHMvQXBwTG9nb1wiO1xyXG5cclxuaW50ZXJmYWNlIFJvc3RlclN0dWRlbnQge1xyXG4gIHN0dWRlbnRfaWQ6IHN0cmluZztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgcGFydF9uYW1lOiBzdHJpbmcgfCBudWxsO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUG9zaXRpb25FbnRyeSB7XHJcbiAgc3R1ZGVudF9pZDogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG4gIGlkPzogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUG9zaXRpb25pbmdQYW5lbFByb3BzIHtcbiAgcGVyZm9ybWFuY2VJZDogc3RyaW5nO1xuICBwYXJ0SWQ6IHN0cmluZztcbiAgcGFydE5hbWU/OiBzdHJpbmcgfCBudWxsO1xuICBwYXJ0RGVzY3JpcHRpb24/OiBzdHJpbmcgfCBudWxsO1xuICBwYXJ0VGltZXBvaW50U2Vjb25kcz86IG51bWJlciB8IG51bGw7XG4gIHBhcnRUaW1lcG9pbnRFbmRTZWNvbmRzPzogbnVtYmVyIHwgbnVsbDtcbiAgaXNHcm91cD86IGJvb2xlYW47XG4gIG9uU2F2ZVBvc2l0aW9uczogKHBvc2l0aW9uczogUG9zaXRpb25FbnRyeVtdKSA9PiBQcm9taXNlPHZvaWQ+O1xufVxuXHJcbmNvbnN0IEdSSURfQ09MUyA9IDEyO1xyXG5jb25zdCBHUklEX1JPV1MgPSA5O1xyXG5jb25zdCBDRUxMX1NJWkUgPSA2NDtcclxuXHJcbnR5cGUgRnJvbnREaXJlY3Rpb24gPSBcImJvdHRvbVwiIHwgXCJ0b3BcIjtcclxuXHJcbi8vIEdlbmVyYXRlIGluaXRpYWxzIHdpdGggY29uZmxpY3QgZGV0ZWN0aW9uXHJcbmZ1bmN0aW9uIGdlbmVyYXRlSW5pdGlhbHMobmFtZTogc3RyaW5nLCBhbGxOYW1lczogc3RyaW5nW10pOiBzdHJpbmcge1xyXG4gIGlmICghbmFtZSB8fCBuYW1lLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFwiP1wiO1xyXG4gIFxyXG4gIGNvbnN0IGZpcnN0TGV0dGVyID0gbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKTtcclxuICBcclxuICAvLyBDaGVjayBpZiBhbnkgb3RoZXIgbmFtZSBzdGFydHMgd2l0aCB0aGUgc2FtZSBsZXR0ZXJcclxuICBjb25zdCBjb25mbGljdHMgPSBhbGxOYW1lcy5maWx0ZXIoXHJcbiAgICAobikgPT4gbiAhPT0gbmFtZSAmJiBuLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpID09PSBmaXJzdExldHRlclxyXG4gICk7XHJcbiAgXHJcbiAgaWYgKGNvbmZsaWN0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAvLyBVc2UgZmlyc3QgMiBsZXR0ZXJzIGlmIGNvbmZsaWN0cyBleGlzdFxyXG4gICAgcmV0dXJuIG5hbWUuc2xpY2UoMCwgMikudG9VcHBlckNhc2UoKTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIGZpcnN0TGV0dGVyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUG9zaXRpb25pbmdQYW5lbCh7XG4gIHBlcmZvcm1hbmNlSWQsXG4gIHBhcnRJZCxcbiAgcGFydE5hbWUgPSBudWxsLFxuICBwYXJ0RGVzY3JpcHRpb24gPSBudWxsLFxuICBwYXJ0VGltZXBvaW50U2Vjb25kcyA9IG51bGwsXG4gIHBhcnRUaW1lcG9pbnRFbmRTZWNvbmRzID0gbnVsbCxcbiAgaXNHcm91cCA9IHRydWUsXG4gIG9uU2F2ZVBvc2l0aW9ucyxcbn06IFBvc2l0aW9uaW5nUGFuZWxQcm9wcykge1xuICBjb25zdCBbcm9zdGVyLCBzZXRSb3N0ZXJdID0gdXNlU3RhdGU8Um9zdGVyU3R1ZGVudFtdPihbXSk7XHJcbiAgY29uc3QgW3Bvc2l0aW9ucywgc2V0UG9zaXRpb25zXSA9IHVzZVN0YXRlPFBvc2l0aW9uRW50cnlbXT4oW10pO1xyXG4gIGNvbnN0IFtkcmFnZ2VkU3R1ZGVudCwgc2V0RHJhZ2dlZFN0dWRlbnRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2RyYWdnZWRGcm9tR3JpZCwgc2V0RHJhZ2dlZEZyb21HcmlkXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbc2F2aW5nLCBzZXRTYXZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2Zyb250RGlyZWN0aW9uLCBzZXRGcm9udERpcmVjdGlvbl0gPSB1c2VTdGF0ZTxGcm9udERpcmVjdGlvbj4oXCJib3R0b21cIik7XG4gIGNvbnN0IFtsYXN0U2F2ZWRUaW1lLCBzZXRMYXN0U2F2ZWRUaW1lXSA9IHVzZVN0YXRlPG51bWJlcj4oRGF0ZS5ub3coKSk7XG4gIGNvbnN0IGdyaWRXcmFwUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW2dyaWRTY2FsZSwgc2V0R3JpZFNjYWxlXSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBiYXNlV2lkdGggPSBHUklEX0NPTFMgKiBDRUxMX1NJWkU7XG4gIGNvbnN0IGJhc2VIZWlnaHQgPSBHUklEX1JPV1MgKiBDRUxMX1NJWkU7XG4gIGNvbnN0IGF1dG9TYXZlSW50ZXJ2YWxSZWYgPSBSZWFjdC51c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgaGFzQ2hhbmdlc1JlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XHJcbiAgY29uc3QgW3N1YnBhcnRzLCBzZXRTdWJwYXJ0c10gPSB1c2VTdGF0ZTxBcnJheTx7IGlkOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmc7IGRlc2NyaXB0aW9uPzogc3RyaW5nIHwgbnVsbDsgbW9kZT86IHN0cmluZzsgdGltZXBvaW50X3NlY29uZHM/OiBudW1iZXIgfCBudWxsOyB0aW1lcG9pbnRfZW5kX3NlY29uZHM/OiBudW1iZXIgfCBudWxsIH0+PihbXSk7XG4gIGNvbnN0IFtzZWxlY3RlZFN1YnBhcnRJZCwgc2V0U2VsZWN0ZWRTdWJwYXJ0SWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW3N1YnBhcnRQb3NpdGlvbnMsIHNldFN1YnBhcnRQb3NpdGlvbnNdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgUG9zaXRpb25FbnRyeVtdPj4oe30pO1xyXG4gIGNvbnN0IFtzdWJwYXJ0T3JkZXIsIHNldFN1YnBhcnRPcmRlcl0gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBBcnJheTx7IGlkOiBzdHJpbmc7IHN0dWRlbnRfaWQ6IHN0cmluZzsgc3R1ZGVudF9uYW1lOiBzdHJpbmcgfT4+Pih7fSk7XG4gIGNvbnN0IFtkcmFnZ2luZ09yZGVySWQsIHNldERyYWdnaW5nT3JkZXJJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2RyYWdnaW5nU3VicGFydElkLCBzZXREcmFnZ2luZ1N1YnBhcnRJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2VkaXRpbmdQYXJ0TmFtZSwgc2V0RWRpdGluZ1BhcnROYW1lXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbcGFydE5hbWVEcmFmdCwgc2V0UGFydE5hbWVEcmFmdF0gPSB1c2VTdGF0ZShwYXJ0TmFtZSB8fCBcIlwiKTtcclxuICBjb25zdCBbcGFydE5hbWVTYXZpbmcsIHNldFBhcnROYW1lU2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZWRpdGluZ1BhcnROb3Rlcywgc2V0RWRpdGluZ1BhcnROb3Rlc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwYXJ0Tm90ZXNEcmFmdCwgc2V0UGFydE5vdGVzRHJhZnRdID0gdXNlU3RhdGUocGFydERlc2NyaXB0aW9uIHx8IFwiXCIpO1xuICBjb25zdCBbcGFydE5vdGVzU2F2aW5nLCBzZXRQYXJ0Tm90ZXNTYXZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZWRpdGluZ1BhcnRUaW1lLCBzZXRFZGl0aW5nUGFydFRpbWVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGFydFN0YXJ0TWluLCBzZXRQYXJ0U3RhcnRNaW5dID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwYXJ0U3RhcnRTZWMsIHNldFBhcnRTdGFydFNlY10gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BhcnRFbmRNaW4sIHNldFBhcnRFbmRNaW5dID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwYXJ0RW5kU2VjLCBzZXRQYXJ0RW5kU2VjXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbcGFydFRpbWVTYXZpbmcsIHNldFBhcnRUaW1lU2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3BhcnRUaW1lT3ZlcnJpZGUsIHNldFBhcnRUaW1lT3ZlcnJpZGVdID0gdXNlU3RhdGU8eyBzdGFydDogbnVtYmVyIHwgbnVsbDsgZW5kOiBudW1iZXIgfCBudWxsIH0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NvdXJjZU9wdGlvbnMsIHNldFNvdXJjZU9wdGlvbnNdID0gdXNlU3RhdGU8QXJyYXk8eyBrZXk6IHN0cmluZzsgbGFiZWw6IHN0cmluZyB9Pj4oW10pO1xuICBjb25zdCBbc2VsZWN0ZWRTb3VyY2VLZXksIHNldFNlbGVjdGVkU291cmNlS2V5XSA9IHVzZVN0YXRlKFwiXCIpO1xyXG4gIGNvbnN0IFtmbGlwSG9yaXpvbnRhbCwgc2V0RmxpcEhvcml6b250YWxdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFthcHBseWluZ1F1aWNrLCBzZXRBcHBseWluZ1F1aWNrXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgY29uc3QgZmV0Y2hTdWJwYXJ0cyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3ViUmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvc3VicGFydHM/cGFydElkPSR7cGFydElkfWApO1xuICAgICAgaWYgKHN1YlJlcy5vaykge1xuICAgICAgICBjb25zdCBzdWJEYXRhID0gYXdhaXQgc3ViUmVzLmpzb24oKTtcbiAgICAgICAgc2V0U3VicGFydHMoc3ViRGF0YSB8fCBbXSk7XG4gICAgICAgIGNvbnN0IGlkcyA9IG5ldyBTZXQoKHN1YkRhdGEgfHwgW10pLm1hcCgoczogYW55KSA9PiBzLmlkKSk7XG4gICAgICAgIGlmICgoc3ViRGF0YSB8fCBbXSkubGVuZ3RoID09PSAwIHx8IChzZWxlY3RlZFN1YnBhcnRJZCAmJiAhaWRzLmhhcyhzZWxlY3RlZFN1YnBhcnRJZCkpKSB7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRTdWJwYXJ0SWQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBzdWJwYXJ0czpcIiwgZXJyKTtcbiAgICB9XG4gIH0sIFtwYXJ0SWQsIHNlbGVjdGVkU3VicGFydElkXSk7XG5cbiAgY29uc3QgZmV0Y2hSb3N0ZXJPbmx5ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByb3N0ZXJSZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9wZXJmb3JtYW5jZXMvJHtwZXJmb3JtYW5jZUlkfS9yb3N0ZXJgKTtcbiAgICAgIGlmICghcm9zdGVyUmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggcm9zdGVyXCIpO1xuICAgICAgY29uc3Qgcm9zdGVyRGF0YSA9IGF3YWl0IHJvc3RlclJlcy5qc29uKCk7XG4gICAgICBjb25zdCBwYXJ0Um9zdGVyID0gcm9zdGVyRGF0YS5maWx0ZXIoXG4gICAgICAgIChzOiBhbnkpID0+IHMucGFydF9pZCA9PT0gcGFydElkIHx8ICFzLnBhcnRfaWRcbiAgICAgICk7XG4gICAgICBzZXRSb3N0ZXIocGFydFJvc3Rlcik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgcm9zdGVyOlwiLCBlcnIpO1xuICAgIH1cbiAgfSwgW3BlcmZvcm1hbmNlSWQsIHBhcnRJZF0pO1xuXG4gIC8vIEZldGNoIHJvc3RlciwgZXhpc3RpbmcgcG9zaXRpb25zLCBhbmQgcGVyZm9ybWFuY2Ugb3JpZW50YXRpb25cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBhc3luYyBmdW5jdGlvbiBmZXRjaERhdGEoKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBGZXRjaCBwZXJmb3JtYW5jZSBvcmllbnRhdGlvblxyXG4gICAgICAgIGNvbnN0IHBlcmZSZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9wZXJmb3JtYW5jZXMvJHtwZXJmb3JtYW5jZUlkfWApO1xyXG4gICAgICAgIGlmIChwZXJmUmVzLm9rKSB7XHJcbiAgICAgICAgICBjb25zdCBwZXJmID0gYXdhaXQgcGVyZlJlcy5qc29uKCk7XHJcbiAgICAgICAgICBpZiAocGVyZi5zdGFnZV9vcmllbnRhdGlvbikge1xyXG4gICAgICAgICAgICBzZXRGcm9udERpcmVjdGlvbihwZXJmLnN0YWdlX29yaWVudGF0aW9uID09PSBcInRvcFwiID8gXCJ0b3BcIiA6IFwiYm90dG9tXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRmV0Y2ggcm9zdGVyXHJcbiAgICAgICAgYXdhaXQgZmV0Y2hSb3N0ZXJPbmx5KCk7XG5cclxuICAgICAgICAvLyBGZXRjaCBzdWJwYXJ0c1xyXG4gICAgICAgIGF3YWl0IGZldGNoU3VicGFydHMoKTtcclxuXHJcbiAgICAgICAgLy8gRmV0Y2ggZXhpc3RpbmcgcG9zaXRpb25zXHJcbiAgICAgICAgY29uc3QgcG9zUmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvc3RhZ2UtcG9zaXRpb25zP3BhcnRJZD0ke3BhcnRJZH1gKTtcclxuICAgICAgICBpZiAoIXBvc1Jlcy5vaykgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIHBvc2l0aW9uc1wiKTtcclxuICAgICAgICBjb25zdCBwb3NEYXRhID0gYXdhaXQgcG9zUmVzLmpzb24oKTtcclxuICAgICAgICBzZXRQb3NpdGlvbnMoXHJcbiAgICAgICAgICBwb3NEYXRhLm1hcCgocDogYW55KSA9PiAoe1xyXG4gICAgICAgICAgICBzdHVkZW50X2lkOiBwLnN0dWRlbnRfaWQgfHwgXCJcIixcclxuICAgICAgICAgICAgbmFtZTogcC5zdHVkZW50X25hbWUgfHwgXCJVbmtub3duXCIsXHJcbiAgICAgICAgICAgIHg6IHAueCxcclxuICAgICAgICAgICAgeTogcC55LFxyXG4gICAgICAgICAgICBpZDogcC5pZCxcclxuICAgICAgICAgIH0pKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgXHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBsb2FkIGRhdGFcIik7XHJcbiAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmZXRjaERhdGEoKTtcbiAgfSwgW3BlcmZvcm1hbmNlSWQsIHBhcnRJZCwgaXNHcm91cCwgZmV0Y2hTdWJwYXJ0cywgZmV0Y2hSb3N0ZXJPbmx5XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHJldHVybjtcbiAgICAgIGZldGNoUm9zdGVyT25seSgpO1xuICAgIH0sIDUwMDApO1xuICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgfSwgW2ZldGNoUm9zdGVyT25seV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZWwgPSBncmlkV3JhcFJlZi5jdXJyZW50O1xuICAgIGlmICghZWwpIHJldHVybjtcbiAgICBjb25zdCB1cGRhdGVTY2FsZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHdpZHRoID0gZWwuY2xpZW50V2lkdGg7XG4gICAgICBpZiAoIXdpZHRoKSByZXR1cm47XG4gICAgICBzZXRHcmlkU2NhbGUoTWF0aC5taW4oMSwgd2lkdGggLyBiYXNlV2lkdGgpKTtcbiAgICB9O1xuICAgIHVwZGF0ZVNjYWxlKCk7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIodXBkYXRlU2NhbGUpO1xuICAgIG9ic2VydmVyLm9ic2VydmUoZWwpO1xuICAgIHJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH0sIFtiYXNlV2lkdGhdKTtcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBzZXRQYXJ0TmFtZURyYWZ0KHBhcnROYW1lIHx8IFwiXCIpO1xyXG4gIH0sIFtwYXJ0TmFtZV0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFBhcnROb3Rlc0RyYWZ0KHBhcnREZXNjcmlwdGlvbiB8fCBcIlwiKTtcbiAgfSwgW3BhcnREZXNjcmlwdGlvbl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0UGFydFRpbWVPdmVycmlkZSh7XG4gICAgICBzdGFydDogdHlwZW9mIHBhcnRUaW1lcG9pbnRTZWNvbmRzID09PSBcIm51bWJlclwiID8gcGFydFRpbWVwb2ludFNlY29uZHMgOiBudWxsLFxuICAgICAgZW5kOiB0eXBlb2YgcGFydFRpbWVwb2ludEVuZFNlY29uZHMgPT09IFwibnVtYmVyXCIgPyBwYXJ0VGltZXBvaW50RW5kU2Vjb25kcyA6IG51bGwsXG4gICAgfSk7XG4gICAgY29uc3Qgc3RhcnRTcGxpdCA9IHNwbGl0VGltZShwYXJ0VGltZXBvaW50U2Vjb25kcyA/PyBudWxsKTtcbiAgICBjb25zdCBlbmRTcGxpdCA9IHNwbGl0VGltZShwYXJ0VGltZXBvaW50RW5kU2Vjb25kcyA/PyBudWxsKTtcbiAgICBzZXRQYXJ0U3RhcnRNaW4oc3RhcnRTcGxpdC5taW4pO1xuICAgIHNldFBhcnRTdGFydFNlYyhzdGFydFNwbGl0LnNlYyk7XG4gICAgc2V0UGFydEVuZE1pbihlbmRTcGxpdC5taW4pO1xuICAgIHNldFBhcnRFbmRTZWMoZW5kU3BsaXQuc2VjKTtcbiAgfSwgW3BhcnRUaW1lcG9pbnRTZWNvbmRzLCBwYXJ0VGltZXBvaW50RW5kU2Vjb25kc10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRTdWJwYXJ0SWQobnVsbCk7XG4gIH0sIFtwYXJ0SWRdKTtcblxyXG4gIGNvbnN0IGxvYWRTb3VyY2VzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9wYXJ0cz9wZXJmb3JtYW5jZUlkPSR7cGVyZm9ybWFuY2VJZH1gKTtcbiAgICAgIGlmICghcmVzLm9rKSByZXR1cm47XG4gICAgICBjb25zdCBwYXJ0c0RhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgY29uc3QgcGFydE9wdGlvbnMgPSAocGFydHNEYXRhIHx8IFtdKS5tYXAoKHA6IGFueSkgPT4gKHtcbiAgICAgICAga2V5OiBgcGFydDoke3AuaWR9YCxcbiAgICAgICAgbGFiZWw6IGBQYXJ0OiAke3AubmFtZX1gLFxuICAgICAgfSkpO1xuXG4gICAgICBjb25zdCBzdWJwYXJ0c0VudHJpZXMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgKHBhcnRzRGF0YSB8fCBbXSkubWFwKGFzeW5jIChwOiBhbnkpID0+IHtcbiAgICAgICAgICBjb25zdCBzdWJSZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9zdWJwYXJ0cz9wYXJ0SWQ9JHtwLmlkfWApO1xuICAgICAgICAgIGlmICghc3ViUmVzLm9rKSByZXR1cm4gW107XG4gICAgICAgICAgY29uc3Qgc3ViRGF0YSA9IGF3YWl0IHN1YlJlcy5qc29uKCk7XG4gICAgICAgICAgcmV0dXJuIChzdWJEYXRhIHx8IFtdKS5tYXAoKHM6IGFueSkgPT4gKHtcbiAgICAgICAgICAgIGtleTogYHN1YnBhcnQ6JHtzLmlkfWAsXG4gICAgICAgICAgICBsYWJlbDogYFN1YnBhcnQ6ICR7cC5uYW1lfSAtICR7cy50aXRsZX1gLFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHN1YnBhcnRPcHRpb25zID0gc3VicGFydHNFbnRyaWVzLmZsYXQoKTtcbiAgICAgIHNldFNvdXJjZU9wdGlvbnMoWy4uLnBhcnRPcHRpb25zLCAuLi5zdWJwYXJ0T3B0aW9uc10pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgcG9zaXRpb24gc291cmNlczpcIiwgZXJyKTtcbiAgICB9XG4gIH0sIFtwZXJmb3JtYW5jZUlkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsb2FkU291cmNlcygpO1xuICB9LCBbbG9hZFNvdXJjZXNdKTtcblxuICBjb25zdCByZWZyZXNoU3VicGFydHNBbmRTb3VyY2VzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGZldGNoU3VicGFydHMoKTtcbiAgICBhd2FpdCBsb2FkU291cmNlcygpO1xuICB9LCBbZmV0Y2hTdWJwYXJ0cywgbG9hZFNvdXJjZXNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUZvY3VzID0gKCkgPT4ge1xuICAgICAgcmVmcmVzaFN1YnBhcnRzQW5kU291cmNlcygpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlVmlzaWJpbGl0eSA9ICgpID0+IHtcbiAgICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFwidmlzaWJsZVwiKSByZWZyZXNoU3VicGFydHNBbmRTb3VyY2VzKCk7XG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIGhhbmRsZUZvY3VzKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBoYW5kbGVWaXNpYmlsaXR5KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCBoYW5kbGVGb2N1cyk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBoYW5kbGVWaXNpYmlsaXR5KTtcbiAgICB9O1xuICB9LCBbcmVmcmVzaFN1YnBhcnRzQW5kU291cmNlc10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaW50ZXJ2YWxJZCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICByZWZyZXNoU3VicGFydHNBbmRTb3VyY2VzKCk7XG4gICAgfSwgMzAwMCk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5jbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICB9LCBbcmVmcmVzaFN1YnBhcnRzQW5kU291cmNlc10pO1xuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghc2VsZWN0ZWRTdWJwYXJ0SWQpIHJldHVybjtcclxuICAgIGNvbnN0IGZldGNoU3VicGFydERhdGEgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgW3Bvc1Jlcywgb3JkZXJSZXNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgICAgZmV0Y2goYC9hcGkvc3VicGFydC1wb3NpdGlvbnM/c3VicGFydElkPSR7c2VsZWN0ZWRTdWJwYXJ0SWR9YCksXHJcbiAgICAgICAgICBmZXRjaChgL2FwaS9zdWJwYXJ0LW9yZGVyP3N1YnBhcnRJZD0ke3NlbGVjdGVkU3VicGFydElkfWApLFxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIGlmIChwb3NSZXMub2spIHtcclxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwb3NSZXMuanNvbigpO1xyXG4gICAgICAgICAgc2V0U3VicGFydFBvc2l0aW9ucygocHJldikgPT4gKHtcclxuICAgICAgICAgICAgLi4ucHJldixcclxuICAgICAgICAgICAgW3NlbGVjdGVkU3VicGFydElkXTogKGRhdGEgfHwgW10pLm1hcCgocDogYW55KSA9PiAoe1xyXG4gICAgICAgICAgICAgIHN0dWRlbnRfaWQ6IHAuc3R1ZGVudF9pZCB8fCBcIlwiLFxyXG4gICAgICAgICAgICAgIG5hbWU6IHAuc3R1ZGVudF9uYW1lIHx8IFwiVW5rbm93blwiLFxyXG4gICAgICAgICAgICAgIHg6IHAueCxcclxuICAgICAgICAgICAgICB5OiBwLnksXHJcbiAgICAgICAgICAgICAgaWQ6IHAuaWQsXHJcbiAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9yZGVyUmVzLm9rKSB7XHJcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgb3JkZXJSZXMuanNvbigpO1xyXG4gICAgICAgICAgc2V0U3VicGFydE9yZGVyKChwcmV2KSA9PiAoe1xyXG4gICAgICAgICAgICAuLi5wcmV2LFxyXG4gICAgICAgICAgICBbc2VsZWN0ZWRTdWJwYXJ0SWRdOiAoZGF0YSB8fCBbXSkubWFwKChpdGVtOiBhbnkpID0+ICh7XHJcbiAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXHJcbiAgICAgICAgICAgICAgc3R1ZGVudF9pZDogaXRlbS5zdHVkZW50X2lkLFxyXG4gICAgICAgICAgICAgIHN0dWRlbnRfbmFtZTogaXRlbS5zdHVkZW50X25hbWUgfHwgXCJVbmtub3duXCIsXHJcbiAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBzdWJwYXJ0IGRhdGE6XCIsIGVycik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZmV0Y2hTdWJwYXJ0RGF0YSgpO1xyXG4gIH0sIFtzZWxlY3RlZFN1YnBhcnRJZF0pO1xyXG5cclxuICAvLyBBdXRvLXNhdmUgZWZmZWN0XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGF1dG9TYXZlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICBpZiAoIWhhc0NoYW5nZXNSZWYuY3VycmVudCkgcmV0dXJuO1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBzZXRTYXZpbmcodHJ1ZSk7XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkU3VicGFydElkICYmIHN1YnBhcnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSAoc3VicGFydFBvc2l0aW9uc1tzZWxlY3RlZFN1YnBhcnRJZF0gfHwgW10pLm1hcCgocCkgPT4gKHtcclxuICAgICAgICAgICAgc3VicGFydF9pZDogc2VsZWN0ZWRTdWJwYXJ0SWQsXHJcbiAgICAgICAgICAgIHN0dWRlbnRfaWQ6IHAuc3R1ZGVudF9pZCxcclxuICAgICAgICAgICAgeDogcC54LFxyXG4gICAgICAgICAgICB5OiBwLnksXHJcbiAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICBhd2FpdCBmZXRjaChcIi9hcGkvc3VicGFydC1wb3NpdGlvbnNcIiwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICBzdWJwYXJ0X2lkOiBzZWxlY3RlZFN1YnBhcnRJZCxcclxuICAgICAgICAgICAgICBwb3NpdGlvbnM6IHBheWxvYWQsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGF3YWl0IG9uU2F2ZVBvc2l0aW9ucyhwb3NpdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBhd2FpdCBmZXRjaChgL2FwaS9wZXJmb3JtYW5jZXMvJHtwZXJmb3JtYW5jZUlkfWAsIHtcclxuICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc3RhZ2Vfb3JpZW50YXRpb246IGZyb250RGlyZWN0aW9uIH0pLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGhhc0NoYW5nZXNSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgIHNldExhc3RTYXZlZFRpbWUoRGF0ZS5ub3coKSk7XHJcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBdXRvLXNhdmUgZXJyb3I6XCIsIGVycik7XHJcbiAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTZXQgdXAgYXV0by1zYXZlIGludGVydmFsXHJcbiAgICBhdXRvU2F2ZUludGVydmFsUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbChhdXRvU2F2ZSwgNjAwMCk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKGF1dG9TYXZlSW50ZXJ2YWxSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoYXV0b1NhdmVJbnRlcnZhbFJlZi5jdXJyZW50KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBbcG9zaXRpb25zLCBmcm9udERpcmVjdGlvbiwgcGVyZm9ybWFuY2VJZCwgb25TYXZlUG9zaXRpb25zLCBzZWxlY3RlZFN1YnBhcnRJZCwgc3VicGFydHMsIHN1YnBhcnRQb3NpdGlvbnNdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRHJhZ1N0YXJ0ID0gKHN0dWRlbnRJZDogc3RyaW5nLCBmcm9tR3JpZDogYm9vbGVhbiA9IGZhbHNlKSA9PiB7XG4gICAgc2V0RHJhZ2dlZFN0dWRlbnQoc3R1ZGVudElkKTtcbiAgICBzZXREcmFnZ2VkRnJvbUdyaWQoZnJvbUdyaWQpO1xuICAgIHNldERyYWdnaW5nT3JkZXJJZChudWxsKTtcbiAgfTtcblxyXG4gIGNvbnN0IGhhbmRsZUdyaWREcmFnT3ZlciA9IChlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSBcIm1vdmVcIjtcclxuICB9O1xyXG5cclxuICBjb25zdCB0b0xvZ2ljYWxZID0gKGRpc3BsYXlZOiBudW1iZXIpID0+XHJcbiAgICBmcm9udERpcmVjdGlvbiA9PT0gXCJ0b3BcIiA/IEdSSURfUk9XUyAtIDEgLSBkaXNwbGF5WSA6IGRpc3BsYXlZO1xyXG5cclxuICBjb25zdCB0b0Rpc3BsYXlZID0gKGxvZ2ljYWxZOiBudW1iZXIpID0+XHJcbiAgICBmcm9udERpcmVjdGlvbiA9PT0gXCJ0b3BcIiA/IEdSSURfUk9XUyAtIDEgLSBsb2dpY2FsWSA6IGxvZ2ljYWxZO1xyXG5cclxuICBjb25zdCB0b0xvZ2ljYWxYID0gKGRpc3BsYXlYOiBudW1iZXIpID0+XHJcbiAgICBmcm9udERpcmVjdGlvbiA9PT0gXCJ0b3BcIiA/IEdSSURfQ09MUyAtIDEgLSBkaXNwbGF5WCA6IGRpc3BsYXlYO1xyXG5cclxuICBjb25zdCB0b0Rpc3BsYXlYID0gKGxvZ2ljYWxYOiBudW1iZXIpID0+XHJcbiAgICBmcm9udERpcmVjdGlvbiA9PT0gXCJ0b3BcIiA/IEdSSURfQ09MUyAtIDEgLSBsb2dpY2FsWCA6IGxvZ2ljYWxYO1xyXG5cclxuICBjb25zdCBjbGFtcFRvR3JpZCA9ICh2YWx1ZTogbnVtYmVyLCBtYXg6IG51bWJlcikgPT4ge1xuICAgIGlmIChOdW1iZXIuaXNOYU4odmFsdWUpKSByZXR1cm4gMDtcbiAgICBpZiAodmFsdWUgPCAwKSByZXR1cm4gMDtcbiAgICBpZiAodmFsdWUgPiBtYXgpIHJldHVybiBtYXg7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIGNvbnN0IGZvcm1hdER1cmF0aW9uID0gKHN0YXJ0OiBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkLCBlbmQ6IG51bWJlciB8IG51bGwgfCB1bmRlZmluZWQpID0+IHtcbiAgICBpZiAodHlwZW9mIHN0YXJ0ICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBlbmQgIT09IFwibnVtYmVyXCIpIHJldHVybiBcIlwiO1xuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHN0YXJ0KSB8fCAhTnVtYmVyLmlzRmluaXRlKGVuZCkpIHJldHVybiBcIlwiO1xuICAgIGNvbnN0IHRvdGFsID0gTWF0aC5tYXgoMCwgZW5kIC0gc3RhcnQpO1xuICAgIGNvbnN0IG1pbnMgPSBNYXRoLmZsb29yKHRvdGFsIC8gNjApO1xuICAgIGNvbnN0IHNlY3MgPSBNYXRoLnJvdW5kKHRvdGFsICUgNjApO1xuICAgIHJldHVybiBgJHttaW5zfW0gJHtzZWNzfXNgO1xuICB9O1xuXG4gIGNvbnN0IGZvcm1hdFRpbWUgPSAodmFsdWU6IG51bWJlciB8IG51bGwgfCB1bmRlZmluZWQpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCBOdW1iZXIuaXNOYU4odmFsdWUpKSByZXR1cm4gXCItLTotLVwiO1xuICAgIGNvbnN0IHRvdGFsID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcih2YWx1ZSkpO1xuICAgIGNvbnN0IG1pbnMgPSBNYXRoLmZsb29yKHRvdGFsIC8gNjApO1xuICAgIGNvbnN0IHNlY3MgPSB0b3RhbCAlIDYwO1xuICAgIHJldHVybiBgJHttaW5zfToke3NlY3MudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9YDtcbiAgfTtcblxuICBjb25zdCBzcGxpdFRpbWUgPSAodmFsdWU6IG51bWJlciB8IG51bGwgfCB1bmRlZmluZWQpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCBOdW1iZXIuaXNOYU4odmFsdWUpKSByZXR1cm4geyBtaW46IFwiXCIsIHNlYzogXCJcIiB9O1xuICAgIGNvbnN0IHRvdGFsID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcih2YWx1ZSkpO1xuICAgIHJldHVybiB7IG1pbjogU3RyaW5nKE1hdGguZmxvb3IodG90YWwgLyA2MCkpLCBzZWM6IFN0cmluZyh0b3RhbCAlIDYwKSB9O1xuICB9O1xuXG4gIGNvbnN0IGNvbXBvc2VTZWNvbmRzID0gKG1pblN0cjogc3RyaW5nLCBzZWNTdHI6IHN0cmluZykgPT4ge1xuICAgIGlmICghbWluU3RyICYmICFzZWNTdHIpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IG1pbnMgPSBtaW5TdHIgPyBwYXJzZUludChtaW5TdHIsIDEwKSA6IDA7XG4gICAgY29uc3Qgc2VjcyA9IHNlY1N0ciA/IHBhcnNlRmxvYXQoc2VjU3RyKSA6IDA7XG4gICAgaWYgKE51bWJlci5pc05hTihtaW5zKSB8fCBOdW1iZXIuaXNOYU4oc2VjcykpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBtaW5zICogNjAgKyBzZWNzO1xuICB9O1xuXHJcbiAgY29uc3QgaGFuZGxlR3JpZERyb3AgPSBhc3luYyAoZTogUmVhY3QuRHJhZ0V2ZW50LCB4OiBudW1iZXIsIHk6IG51bWJlcikgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgaWYgKCFkcmFnZ2VkU3R1ZGVudCkgcmV0dXJuO1xyXG4gICAgaWYgKHN1YnBhcnRzLmxlbmd0aCA+IDAgJiYgIWNhblBvc2l0aW9uKSByZXR1cm47XHJcblxyXG4gICAgbGV0IHN0dWRlbnQgPSByb3N0ZXIuZmluZCgocykgPT4gcy5zdHVkZW50X2lkID09PSBkcmFnZ2VkU3R1ZGVudCk7XHJcbiAgICBcclxuICAgIC8vIElmIGRyYWdnaW5nIGZyb20gZ3JpZCwgZ2V0IG5hbWUgZnJvbSBwb3NpdGlvbnNcclxuICAgIGlmIChkcmFnZ2VkRnJvbUdyaWQgJiYgIXN0dWRlbnQpIHtcclxuICAgICAgY29uc3QgcG9zID0gcG9zaXRpb25zLmZpbmQoKHApID0+IHAuc3R1ZGVudF9pZCA9PT0gZHJhZ2dlZFN0dWRlbnQpO1xyXG4gICAgICBpZiAocG9zKSB7XHJcbiAgICAgICAgc3R1ZGVudCA9IHtcclxuICAgICAgICAgIHN0dWRlbnRfaWQ6IGRyYWdnZWRTdHVkZW50LFxyXG4gICAgICAgICAgbmFtZTogcG9zLm5hbWUsXHJcbiAgICAgICAgICBwYXJ0X25hbWU6IG51bGwsXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoIXN0dWRlbnQpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBhY3RpdmVQb3NpdGlvbnMgPVxyXG4gICAgICBzZWxlY3RlZFN1YnBhcnRJZCAmJiBzdWJwYXJ0cy5sZW5ndGggPiAwXHJcbiAgICAgICAgPyBzdWJwYXJ0UG9zaXRpb25zW3NlbGVjdGVkU3VicGFydElkXSB8fCBbXVxyXG4gICAgICAgIDogcG9zaXRpb25zO1xyXG5cclxuICAgIC8vIEFsd2F5cyByZW1vdmUgb2xkIHBvc2l0aW9uIGZpcnN0ICh3aGV0aGVyIGZyb20gcm9zdGVyIG9yIGdyaWQpXHJcbiAgICBjb25zdCBmaWx0ZXJlZCA9IGFjdGl2ZVBvc2l0aW9ucy5maWx0ZXIoKHApID0+IHAuc3R1ZGVudF9pZCAhPT0gZHJhZ2dlZFN0dWRlbnQpO1xyXG5cclxuICAgIC8vIEFkZCBhdCBuZXcgcG9zaXRpb25cclxuICAgIGNvbnN0IG5ld1Bvc2l0aW9ucyA9IFtcclxuICAgICAgLi4uZmlsdGVyZWQsXHJcbiAgICAgIHtcclxuICAgICAgICBzdHVkZW50X2lkOiBkcmFnZ2VkU3R1ZGVudCxcclxuICAgICAgICBuYW1lOiBzdHVkZW50Lm5hbWUsXHJcbiAgICAgICAgeDogdG9Mb2dpY2FsWCh4KSxcclxuICAgICAgICB5OiB0b0xvZ2ljYWxZKHkpLFxyXG4gICAgICB9LFxyXG4gICAgXTtcclxuICAgIGlmIChzZWxlY3RlZFN1YnBhcnRJZCAmJiBzdWJwYXJ0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHNldFN1YnBhcnRQb3NpdGlvbnMoKHByZXYpID0+ICh7IC4uLnByZXYsIFtzZWxlY3RlZFN1YnBhcnRJZF06IG5ld1Bvc2l0aW9ucyB9KSk7XHJcbiAgICAgIGF3YWl0IGFkZE1pc3NpbmdBc3NpZ25lZEZyb21Qb3NpdGlvbnMoXHJcbiAgICAgICAgbmV3UG9zaXRpb25zLFxyXG4gICAgICAgIHN1YnBhcnRPcmRlcltzZWxlY3RlZFN1YnBhcnRJZF0gfHwgW11cclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNldFBvc2l0aW9ucyhuZXdQb3NpdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgaGFzQ2hhbmdlc1JlZi5jdXJyZW50ID0gdHJ1ZTtcclxuXHJcbiAgICBzZXREcmFnZ2VkU3R1ZGVudChudWxsKTtcclxuICAgIHNldERyYWdnZWRGcm9tR3JpZChmYWxzZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVtb3ZlRnJvbVN0YWdlID0gKHN0dWRlbnRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCBwZXJzaXN0UG9zaXRpb25zID0gYXN5bmMgKG5leHRQb3NpdGlvbnM6IFBvc2l0aW9uRW50cnlbXSkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmIChzZWxlY3RlZFN1YnBhcnRJZCAmJiBzdWJwYXJ0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBhd2FpdCBmZXRjaChcIi9hcGkvc3VicGFydC1wb3NpdGlvbnNcIiwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICBzdWJwYXJ0X2lkOiBzZWxlY3RlZFN1YnBhcnRJZCxcclxuICAgICAgICAgICAgICBwb3NpdGlvbnM6IG5leHRQb3NpdGlvbnMubWFwKChwKSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgc3VicGFydF9pZDogc2VsZWN0ZWRTdWJwYXJ0SWQsXHJcbiAgICAgICAgICAgICAgICBzdHVkZW50X2lkOiBwLnN0dWRlbnRfaWQsXHJcbiAgICAgICAgICAgICAgICB4OiBwLngsXHJcbiAgICAgICAgICAgICAgICB5OiBwLnksXHJcbiAgICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhd2FpdCBvblNhdmVQb3NpdGlvbnMobmV4dFBvc2l0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhhc0NoYW5nZXNSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgIHNldExhc3RTYXZlZFRpbWUoRGF0ZS5ub3coKSk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBzYXZlIHBvc2l0aW9uc1wiKTtcclxuICAgICAgICBoYXNDaGFuZ2VzUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChzZWxlY3RlZFN1YnBhcnRJZCAmJiBzdWJwYXJ0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSBzdWJwYXJ0UG9zaXRpb25zW3NlbGVjdGVkU3VicGFydElkXSB8fCBbXTtcclxuICAgICAgY29uc3QgbmV4dFBvc2l0aW9ucyA9IGN1cnJlbnQuZmlsdGVyKChwKSA9PiBwLnN0dWRlbnRfaWQgIT09IHN0dWRlbnRJZCk7XHJcbiAgICAgIHNldFN1YnBhcnRQb3NpdGlvbnMoKHByZXYpID0+ICh7XHJcbiAgICAgICAgLi4ucHJldixcclxuICAgICAgICBbc2VsZWN0ZWRTdWJwYXJ0SWRdOiBuZXh0UG9zaXRpb25zLFxyXG4gICAgICB9KSk7XHJcbiAgICAgIHBlcnNpc3RQb3NpdGlvbnMobmV4dFBvc2l0aW9ucyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBuZXh0UG9zaXRpb25zID0gcG9zaXRpb25zLmZpbHRlcigocCkgPT4gcC5zdHVkZW50X2lkICE9PSBzdHVkZW50SWQpO1xyXG4gICAgICBzZXRQb3NpdGlvbnMobmV4dFBvc2l0aW9ucyk7XHJcbiAgICAgIHBlcnNpc3RQb3NpdGlvbnMobmV4dFBvc2l0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBoYXNDaGFuZ2VzUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlc2V0UG9zaXRpb25zID0gKCkgPT4ge1xyXG4gICAgaWYgKHNlbGVjdGVkU3VicGFydElkICYmIHN1YnBhcnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgc2V0U3VicGFydFBvc2l0aW9ucygocHJldikgPT4gKHsgLi4ucHJldiwgW3NlbGVjdGVkU3VicGFydElkXTogW10gfSkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2V0UG9zaXRpb25zKFtdKTtcclxuICAgIH1cclxuICAgIGhhc0NoYW5nZXNSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2F2ZSA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHNldFNhdmluZyh0cnVlKTtcclxuICAgICAgLy8gU2F2ZSBwb3NpdGlvbnNcclxuICAgIGlmIChzZWxlY3RlZFN1YnBhcnRJZCAmJiBzdWJwYXJ0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IChzdWJwYXJ0UG9zaXRpb25zW3NlbGVjdGVkU3VicGFydElkXSB8fCBbXSkubWFwKChwKSA9PiAoe1xyXG4gICAgICAgICAgc3VicGFydF9pZDogc2VsZWN0ZWRTdWJwYXJ0SWQsXHJcbiAgICAgICAgICBzdHVkZW50X2lkOiBwLnN0dWRlbnRfaWQsXHJcbiAgICAgICAgICB4OiBwLngsXHJcbiAgICAgICAgICB5OiBwLnksXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIGF3YWl0IGZldGNoKFwiL2FwaS9zdWJwYXJ0LXBvc2l0aW9uc1wiLCB7XHJcbiAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICBzdWJwYXJ0X2lkOiBzZWxlY3RlZFN1YnBhcnRJZCxcclxuICAgICAgICAgICAgcG9zaXRpb25zOiBwYXlsb2FkLFxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXdhaXQgb25TYXZlUG9zaXRpb25zKHBvc2l0aW9ucyk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFNhdmUgc3RhZ2Ugb3JpZW50YXRpb24gYXQgcGVyZm9ybWFuY2UgbGV2ZWxcclxuICAgICAgYXdhaXQgZmV0Y2goYC9hcGkvcGVyZm9ybWFuY2VzLyR7cGVyZm9ybWFuY2VJZH1gLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHN0YWdlX29yaWVudGF0aW9uOiBmcm9udERpcmVjdGlvbiB9KSxcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBzZXRFcnJvcihudWxsKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gc2F2ZSBwb3NpdGlvbnNcIik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRTYXZpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHBlcnNpc3RPcmRlciA9IHVzZUNhbGxiYWNrKGFzeW5jIChpdGVtczogQXJyYXk8eyBpZDogc3RyaW5nOyBzdHVkZW50X2lkOiBzdHJpbmc7IHN0dWRlbnRfbmFtZTogc3RyaW5nIH0+KSA9PiB7XHJcbiAgICBpZiAoIXNlbGVjdGVkU3VicGFydElkKSByZXR1cm47XHJcbiAgICBzZXRTdWJwYXJ0T3JkZXIoKHByZXYpID0+ICh7IC4uLnByZXYsIFtzZWxlY3RlZFN1YnBhcnRJZF06IGl0ZW1zIH0pKTtcclxuICAgIGF3YWl0IGZldGNoKFwiL2FwaS9zdWJwYXJ0LW9yZGVyXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShcclxuICAgICAgICBpdGVtcy5tYXAoKGl0ZW0sIGlkeCkgPT4gKHtcclxuICAgICAgICAgIHN1YnBhcnRfaWQ6IHNlbGVjdGVkU3VicGFydElkLFxyXG4gICAgICAgICAgc3R1ZGVudF9pZDogaXRlbS5zdHVkZW50X2lkLFxyXG4gICAgICAgICAgb3JkZXI6IGlkeCArIDEsXHJcbiAgICAgICAgfSkpXHJcbiAgICAgICksXHJcbiAgICB9KTtcclxuICB9LCBbc2VsZWN0ZWRTdWJwYXJ0SWRdKTtcclxuXHJcbiAgY29uc3QgYWRkVG9PcmRlciA9IGFzeW5jIChzdHVkZW50SWQ6IHN0cmluZywgc3R1ZGVudE5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgaWYgKCFzZWxlY3RlZFN1YnBhcnRJZCkgcmV0dXJuO1xyXG4gICAgY29uc3QgbmV4dCA9IFsuLi5vcmRlckl0ZW1zLCB7IGlkOiBgdGVtcC0ke0RhdGUubm93KCl9YCwgc3R1ZGVudF9pZDogc3R1ZGVudElkLCBzdHVkZW50X25hbWU6IHN0dWRlbnROYW1lIH1dO1xyXG4gICAgYXdhaXQgcGVyc2lzdE9yZGVyKG5leHQpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGFkZE1pc3NpbmdBc3NpZ25lZEZyb21Qb3NpdGlvbnMgPSB1c2VDYWxsYmFjayhhc3luYyAoXG4gICAgcG9zaXRpb25zTGlzdDogUG9zaXRpb25FbnRyeVtdLFxuICAgIGN1cnJlbnRJdGVtczogQXJyYXk8eyBpZDogc3RyaW5nOyBzdHVkZW50X2lkOiBzdHJpbmc7IHN0dWRlbnRfbmFtZTogc3RyaW5nIH0+XG4gICkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRTdWJwYXJ0SWQpIHJldHVybjtcclxuICAgIGNvbnN0IGV4aXN0aW5nID0gbmV3IFNldChjdXJyZW50SXRlbXMubWFwKChpdGVtKSA9PiBpdGVtLnN0dWRlbnRfaWQpKTtcclxuICAgIGNvbnN0IG1pc3NpbmcgPSBwb3NpdGlvbnNMaXN0XHJcbiAgICAgIC5maWx0ZXIoKHBvcykgPT4gcG9zLnN0dWRlbnRfaWQgJiYgIWV4aXN0aW5nLmhhcyhwb3Muc3R1ZGVudF9pZCkpXHJcbiAgICAgIC5tYXAoKHBvcykgPT4gKHtcclxuICAgICAgICBpZDogYHRlbXAtJHtEYXRlLm5vdygpfS0ke3Bvcy5zdHVkZW50X2lkfWAsXHJcbiAgICAgICAgc3R1ZGVudF9pZDogcG9zLnN0dWRlbnRfaWQsXHJcbiAgICAgICAgc3R1ZGVudF9uYW1lOiBwb3MubmFtZSxcclxuICAgICAgfSkpO1xyXG4gICAgaWYgKG1pc3NpbmcubGVuZ3RoID09PSAwKSByZXR1cm47XHJcbiAgICBjb25zdCBuZXh0ID0gWy4uLmN1cnJlbnRJdGVtcywgLi4ubWlzc2luZ107XHJcbiAgICBhd2FpdCBwZXJzaXN0T3JkZXIobmV4dCk7XHJcbiAgfSwgW3BlcnNpc3RPcmRlciwgc2VsZWN0ZWRTdWJwYXJ0SWRdKTtcblxuICBjb25zdCBoYW5kbGVSZW9yZGVyU3VicGFydHMgPSB1c2VDYWxsYmFjayhhc3luYyAoZnJvbUluZGV4OiBudW1iZXIsIHRvSW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGlmICh0b0luZGV4IDwgMCB8fCB0b0luZGV4ID49IHN1YnBhcnRzLmxlbmd0aCkgcmV0dXJuO1xuICAgIGNvbnN0IG5leHQgPSBbLi4uc3VicGFydHNdO1xuICAgIGNvbnN0IFttb3ZlZF0gPSBuZXh0LnNwbGljZShmcm9tSW5kZXgsIDEpO1xuICAgIG5leHQuc3BsaWNlKHRvSW5kZXgsIDAsIG1vdmVkKTtcbiAgICBzZXRTdWJwYXJ0cyhuZXh0KTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIG5leHQubWFwKChzdWIsIGlkeCkgPT5cbiAgICAgICAgICBmZXRjaChgL2FwaS9zdWJwYXJ0cy8ke3N1Yi5pZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG9yZGVyOiBpZHggKyAxIH0pLFxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVvcmRlcmluZyBzdWJwYXJ0czpcIiwgZXJyKTtcbiAgICAgIGF3YWl0IGZldGNoU3VicGFydHMoKTtcbiAgICB9XG4gIH0sIFtzdWJwYXJ0cywgZmV0Y2hTdWJwYXJ0c10pO1xuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghc2VsZWN0ZWRTdWJwYXJ0SWQpIHJldHVybjtcclxuICAgIGNvbnN0IHBvc2l0aW9uc0xpc3QgPSBzdWJwYXJ0UG9zaXRpb25zW3NlbGVjdGVkU3VicGFydElkXSB8fCBbXTtcclxuICAgIGNvbnN0IGl0ZW1zID0gc3VicGFydE9yZGVyW3NlbGVjdGVkU3VicGFydElkXSB8fCBbXTtcclxuICAgIGlmIChwb3NpdGlvbnNMaXN0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG4gICAgYWRkTWlzc2luZ0Fzc2lnbmVkRnJvbVBvc2l0aW9ucyhwb3NpdGlvbnNMaXN0LCBpdGVtcyk7XHJcbiAgfSwgW3NlbGVjdGVkU3VicGFydElkLCBzdWJwYXJ0UG9zaXRpb25zLCBzdWJwYXJ0T3JkZXIsIGFkZE1pc3NpbmdBc3NpZ25lZEZyb21Qb3NpdGlvbnNdKTtcclxuXHJcbiAgY29uc3QgbG9hZFNvdXJjZVBvc2l0aW9ucyA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghc2VsZWN0ZWRTb3VyY2VLZXkpIHJldHVybiBbXTtcclxuICAgIGNvbnN0IFt0eXBlLCBpZF0gPSBzZWxlY3RlZFNvdXJjZUtleS5zcGxpdChcIjpcIik7XHJcbiAgICBpZiAoIWlkKSByZXR1cm4gW107XHJcbiAgICBjb25zdCB1cmwgPVxyXG4gICAgICB0eXBlID09PSBcInN1YnBhcnRcIlxyXG4gICAgICAgID8gYC9hcGkvc3VicGFydC1wb3NpdGlvbnM/c3VicGFydElkPSR7aWR9YFxyXG4gICAgICAgIDogYC9hcGkvc3RhZ2UtcG9zaXRpb25zP3BhcnRJZD0ke2lkfWA7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwpO1xyXG4gICAgaWYgKCFyZXMub2spIHtcclxuICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlcy50ZXh0KCk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcih0ZXh0IHx8IFwiRmFpbGVkIHRvIGZldGNoIHNvdXJjZSBwb3NpdGlvbnNcIik7XHJcbiAgICB9XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgIHJldHVybiAoZGF0YSB8fCBbXSkubWFwKChwOiBhbnkpID0+ICh7XHJcbiAgICAgIHN0dWRlbnRfaWQ6IHAuc3R1ZGVudF9pZCB8fCBcIlwiLFxyXG4gICAgICBuYW1lOiBwLnN0dWRlbnRfbmFtZSB8fCBcIlVua25vd25cIixcclxuICAgICAgeDogcC54LFxyXG4gICAgICB5OiBwLnksXHJcbiAgICB9KSkgYXMgUG9zaXRpb25FbnRyeVtdO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGFwcGx5UXVpY2tQb3NpdGlvbnMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIXNlbGVjdGVkU291cmNlS2V5KSByZXR1cm47XHJcbiAgICBzZXRBcHBseWluZ1F1aWNrKHRydWUpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgc291cmNlUG9zaXRpb25zID0gYXdhaXQgbG9hZFNvdXJjZVBvc2l0aW9ucygpO1xyXG4gICAgICBjb25zdCBtYXBwZWQgPSBzb3VyY2VQb3NpdGlvbnMubWFwKChwKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZmxpcHBlZFggPSBmbGlwSG9yaXpvbnRhbCA/IEdSSURfQ09MUyAtIDEgLSBwLnggOiBwLng7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIC4uLnAsXHJcbiAgICAgICAgICB4OiBjbGFtcFRvR3JpZChmbGlwcGVkWCwgR1JJRF9DT0xTIC0gMSksXHJcbiAgICAgICAgICB5OiBjbGFtcFRvR3JpZChwLnksIEdSSURfUk9XUyAtIDEpLFxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHNlbGVjdGVkU3VicGFydElkICYmIHN1YnBhcnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBzZXRTdWJwYXJ0UG9zaXRpb25zKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBbc2VsZWN0ZWRTdWJwYXJ0SWRdOiBtYXBwZWQgfSkpO1xyXG4gICAgICAgIGF3YWl0IGFkZE1pc3NpbmdBc3NpZ25lZEZyb21Qb3NpdGlvbnMoXHJcbiAgICAgICAgICBtYXBwZWQsXHJcbiAgICAgICAgICBzdWJwYXJ0T3JkZXJbc2VsZWN0ZWRTdWJwYXJ0SWRdIHx8IFtdXHJcbiAgICAgICAgKTtcclxuICAgICAgICBhd2FpdCBmZXRjaChcIi9hcGkvc3VicGFydC1wb3NpdGlvbnNcIiwge1xyXG4gICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgc3VicGFydF9pZDogc2VsZWN0ZWRTdWJwYXJ0SWQsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uczogbWFwcGVkLm1hcCgocCkgPT4gKHtcclxuICAgICAgICAgICAgICBzdWJwYXJ0X2lkOiBzZWxlY3RlZFN1YnBhcnRJZCxcclxuICAgICAgICAgICAgICBzdHVkZW50X2lkOiBwLnN0dWRlbnRfaWQsXHJcbiAgICAgICAgICAgICAgeDogcC54LFxyXG4gICAgICAgICAgICAgIHk6IHAueSxcclxuICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0UG9zaXRpb25zKG1hcHBlZCk7XHJcbiAgICAgICAgYXdhaXQgb25TYXZlUG9zaXRpb25zKG1hcHBlZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGhhc0NoYW5nZXNSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICBzZXRMYXN0U2F2ZWRUaW1lKERhdGUubm93KCkpO1xyXG4gICAgICBzZXRFcnJvcihudWxsKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXBwbHkgcG9zaXRpb25zXCIpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0QXBwbHlpbmdRdWljayhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYWN0aXZlU3VicGFydCA9IHN1YnBhcnRzLmZpbmQoKHMpID0+IHMuaWQgPT09IHNlbGVjdGVkU3VicGFydElkKTtcbiAgY29uc3Qgb3JkZXJlZFN1YnBhcnRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgbGlzdCA9IFsuLi5zdWJwYXJ0c107XG4gICAgcmV0dXJuIGxpc3Quc29ydCgoYSwgYikgPT4ge1xuICAgICAgY29uc3QgYVN0YXJ0ID0gdHlwZW9mIGEudGltZXBvaW50X3NlY29uZHMgPT09IFwibnVtYmVyXCIgPyBhLnRpbWVwb2ludF9zZWNvbmRzIDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgY29uc3QgYlN0YXJ0ID0gdHlwZW9mIGIudGltZXBvaW50X3NlY29uZHMgPT09IFwibnVtYmVyXCIgPyBiLnRpbWVwb2ludF9zZWNvbmRzIDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgaWYgKGFTdGFydCAhPT0gYlN0YXJ0KSByZXR1cm4gYVN0YXJ0IC0gYlN0YXJ0O1xuICAgICAgcmV0dXJuIChhLnRpdGxlIHx8IFwiXCIpLmxvY2FsZUNvbXBhcmUoYi50aXRsZSB8fCBcIlwiKTtcbiAgICB9KTtcbiAgfSwgW3N1YnBhcnRzXSk7XG4gIGNvbnN0IHN1YnBhcnREdXJhdGlvbiA9IGFjdGl2ZVN1YnBhcnRcbiAgICA/IGZvcm1hdER1cmF0aW9uKGFjdGl2ZVN1YnBhcnQudGltZXBvaW50X3NlY29uZHMgYXMgYW55LCBhY3RpdmVTdWJwYXJ0LnRpbWVwb2ludF9lbmRfc2Vjb25kcyBhcyBhbnkpXG4gICAgOiBcIlwiO1xuICBjb25zdCBlZmZlY3RpdmVQYXJ0U3RhcnQgPSBwYXJ0VGltZU92ZXJyaWRlPy5zdGFydCA/PyBwYXJ0VGltZXBvaW50U2Vjb25kcyA/PyBudWxsO1xuICBjb25zdCBlZmZlY3RpdmVQYXJ0RW5kID0gcGFydFRpbWVPdmVycmlkZT8uZW5kID8/IHBhcnRUaW1lcG9pbnRFbmRTZWNvbmRzID8/IG51bGw7XG4gIGNvbnN0IHBhcnREdXJhdGlvbiA9IGZvcm1hdER1cmF0aW9uKGVmZmVjdGl2ZVBhcnRTdGFydCwgZWZmZWN0aXZlUGFydEVuZCk7XG4gIGNvbnN0IHN1YnBhcnRNb2RlID0gYWN0aXZlU3VicGFydD8ubW9kZSB8fCBcInBvc2l0aW9uXCI7XHJcbiAgY29uc3QgY2FuUG9zaXRpb24gPSBzdWJwYXJ0cy5sZW5ndGggPT09IDAgfHwgc3VicGFydE1vZGUgIT09IFwib3JkZXJcIjtcclxuICBjb25zdCBjYW5PcmRlciA9IHN1YnBhcnRzLmxlbmd0aCA+IDA7XG4gIGNvbnN0IG9yZGVySXRlbXMgPSB1c2VNZW1vKFxuICAgICgpID0+IChzZWxlY3RlZFN1YnBhcnRJZCA/IHN1YnBhcnRPcmRlcltzZWxlY3RlZFN1YnBhcnRJZF0gfHwgW10gOiBbXSksXG4gICAgW3NlbGVjdGVkU3VicGFydElkLCBzdWJwYXJ0T3JkZXJdXG4gICk7XG4gIGNvbnN0IG9yZGVySW5kZXhCeVN0dWRlbnRJZCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IG1hcDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuICAgIG9yZGVySXRlbXMuZm9yRWFjaCgoaXRlbSwgaWR4KSA9PiB7XG4gICAgICBpZiAoaXRlbS5zdHVkZW50X2lkKSBtYXBbaXRlbS5zdHVkZW50X2lkXSA9IGlkeCArIDE7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1hcDtcbiAgfSwgW29yZGVySXRlbXNdKTtcblxyXG4gIGNvbnN0IGFjdGl2ZVBvc2l0aW9ucyA9XHJcbiAgICBzZWxlY3RlZFN1YnBhcnRJZCAmJiBzdWJwYXJ0cy5sZW5ndGggPiAwXHJcbiAgICAgID8gc3VicGFydFBvc2l0aW9uc1tzZWxlY3RlZFN1YnBhcnRJZF0gfHwgW11cclxuICAgICAgOiBwb3NpdGlvbnM7XHJcbiAgY29uc3QgcG9zaXRpb25lZFN0dWRlbnRzID0gbmV3IFNldChhY3RpdmVQb3NpdGlvbnMubWFwKChwKSA9PiBwLnN0dWRlbnRfaWQpKTtcclxuICBjb25zdCBhdmFpbGFibGVTdHVkZW50cyA9IHJvc3RlcjtcclxuXHJcbiAgLy8gR2VuZXJhdGUgbGVnZW5kIHdpdGggaW5pdGlhbHMgKGRlZHVwbGljYXRlZClcclxuICBjb25zdCB1bmlxdWVTdHVkZW50cyA9IG5ldyBNYXA8c3RyaW5nLCB0eXBlb2YgcG9zaXRpb25zWzBdPigpO1xyXG4gIGFjdGl2ZVBvc2l0aW9ucy5mb3JFYWNoKChwb3MpID0+IHtcclxuICAgIGlmICghdW5pcXVlU3R1ZGVudHMuaGFzKHBvcy5zdHVkZW50X2lkKSkge1xyXG4gICAgICB1bmlxdWVTdHVkZW50cy5zZXQocG9zLnN0dWRlbnRfaWQsIHBvcyk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgXHJcbiAgY29uc3QgbGVnZW5kRGF0YSA9IEFycmF5LmZyb20odW5pcXVlU3R1ZGVudHMudmFsdWVzKCkpLm1hcCgocG9zKSA9PiAoe1xyXG4gICAgc3R1ZGVudF9pZDogcG9zLnN0dWRlbnRfaWQsXHJcbiAgICBuYW1lOiBwb3MubmFtZSxcclxuICAgIGluaXRpYWxzOiBnZW5lcmF0ZUluaXRpYWxzKHBvcy5uYW1lLCBBcnJheS5mcm9tKHVuaXF1ZVN0dWRlbnRzLnZhbHVlcygpKS5tYXAoKHApID0+IHAubmFtZSkpLFxyXG4gIH0pKTtcclxuXHJcbiAgaWYgKGxvYWRpbmcpIHtcclxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LThcIj5Mb2FkaW5nLi4uPC9kaXY+O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XHJcbiAgICAgIHtlcnJvciAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtMTAwIGJvcmRlciBib3JkZXItcmVkLTQwMCB0ZXh0LXJlZC03MDAgcHgtNCBweS0zIHJvdW5kZWRcIj5cclxuICAgICAgICAgIHtlcnJvcn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBsZzpncmlkLWNvbHMtWzIyMHB4XzFmcl0gZ2FwLTZcIj5cbiAgICAgICAgey8qIFJvc3RlciBMaXN0ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgcC00IHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBoaWRkZW4gbGc6YmxvY2tcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTJcIj5cclxuICAgICAgICAgICAgU3R1ZGVudHMgKHthdmFpbGFibGVTdHVkZW50cy5sZW5ndGh9KVxyXG4gICAgICAgICAgPC9oMz5cclxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzExcHhdIHRleHQtZ3JheS01MDAgbWItM1wiPlxyXG4gICAgICAgICAgICBQb3NpdGlvbmVkIHN0dWRlbnRzIHN0YXkgaGVyZSBzbyB5b3UgY2FuIGFzc2lnbiB0aGVtIHRvIHN1YnBhcnRzLlxyXG4gICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgbWF4LWgtOTYgb3ZlcmZsb3cteS1hdXRvXCI+XHJcbiAgICAgICAgICAgIHthdmFpbGFibGVTdHVkZW50cy5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCB0ZXh0LXNtXCI+Tm8gc3R1ZGVudHMgeWV0LjwvcD5cclxuICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICBhdmFpbGFibGVTdHVkZW50cy5tYXAoKHN0dWRlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzUG9zaXRpb25lZCA9IHBvc2l0aW9uZWRTdHVkZW50cy5oYXMoc3R1ZGVudC5zdHVkZW50X2lkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICBrZXk9e3N0dWRlbnQuc3R1ZGVudF9pZH1cclxuICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGVcclxuICAgICAgICAgICAgICAgICAgICBvbkRyYWdTdGFydD17KCkgPT4gaGFuZGxlRHJhZ1N0YXJ0KHN0dWRlbnQuc3R1ZGVudF9pZCwgZmFsc2UpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtMyByb3VuZGVkIGJvcmRlciBjdXJzb3ItbW92ZSBob3ZlcjpzaGFkb3ctbWQgdHJhbnNpdGlvbi1hbGwgJHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlzUG9zaXRpb25lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctZW1lcmFsZC01MCBib3JkZXItZW1lcmFsZC0yMDAgaG92ZXI6Ym9yZGVyLWVtZXJhbGQtMzAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJnLXdoaXRlIGJvcmRlci1ibHVlLTIwMCBob3Zlcjpib3JkZXItYmx1ZS00MDBcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtc20gdGV4dC1ncmF5LTkwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7c3R1ZGVudC5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAge2lzUG9zaXRpb25lZCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHB4LTIgcHktMC41IHJvdW5kZWQgYmctZW1lcmFsZC0xMDAgdGV4dC1lbWVyYWxkLTcwMCBmb250LXNlbWlib2xkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgUG9zaXRpb25lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIHtzdHVkZW50LnBhcnRfbmFtZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj57c3R1ZGVudC5wYXJ0X25hbWV9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAge2Nhbk9yZGVyICYmIHNlbGVjdGVkU3VicGFydElkICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBib3JkZXItdCBib3JkZXItZ3JheS0yMDAgcHQtNFwiPlxuICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBtYi0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICBBc3NpZ25lZCBTdHVkZW50c1xuICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVsxMXB4XSB0ZXh0LWdyYXktNTAwIG1iLTJcIj5cclxuICAgICAgICAgICAgICAgIERyYWcgc3R1ZGVudHMgaGVyZSB0byBhc3NpZ24gdGhlbSB0byB0aGlzIHN1YnBhcnQuXHJcbiAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTIgcm91bmRlZCBib3JkZXIgYm9yZGVyLWdyYXktMjAwXCJcbiAgICAgICAgICAgICAgICBvbkRyYWdPdmVyPXsoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpfVxuICAgICAgICAgICAgICAgIG9uRHJvcD17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGRyYWdnaW5nT3JkZXJJZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgaWYgKCFkcmFnZ2VkU3R1ZGVudCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgaWYgKG9yZGVySXRlbXMuc29tZSgoaXRlbSkgPT4gaXRlbS5zdHVkZW50X2lkID09PSBkcmFnZ2VkU3R1ZGVudCkpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHN0dWRlbnQgPSByb3N0ZXIuZmluZCgocykgPT4gcy5zdHVkZW50X2lkID09PSBkcmFnZ2VkU3R1ZGVudCk7XG4gICAgICAgICAgICAgICAgICBpZiAoIXN0dWRlbnQpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgIGF3YWl0IGFkZFRvT3JkZXIoc3R1ZGVudC5zdHVkZW50X2lkLCBzdHVkZW50Lm5hbWUpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxyXG4gICAgICAgICAgICAgICAgICB7b3JkZXJJdGVtcy5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgYm9yZGVyIGJvcmRlci1kYXNoZWQgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgcC0yIHRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICBEcm9wIHN0dWRlbnRzIGhlcmVcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICBvcmRlckl0ZW1zLm1hcCgoaXRlbSwgaWR4KSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l0ZW0uaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldERyYWdnaW5nT3JkZXJJZChpdGVtLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RHJhZ2dlZFN0dWRlbnQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldERyYWdnZWRGcm9tR3JpZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnT3Zlcj17KGUpID0+IGUucHJldmVudERlZmF1bHQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJvcD17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRyYWdnaW5nT3JkZXJJZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tSWR4ID0gb3JkZXJJdGVtcy5maW5kSW5kZXgoKGkpID0+IGkuaWQgPT09IGRyYWdnaW5nT3JkZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9JZHggPSBvcmRlckl0ZW1zLmZpbmRJbmRleCgoaSkgPT4gaS5pZCA9PT0gaXRlbS5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyb21JZHggPCAwIHx8IHRvSWR4IDwgMCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBbLi4ub3JkZXJJdGVtc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW21vdmVkXSA9IG5leHQuc3BsaWNlKGZyb21JZHgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQuc3BsaWNlKHRvSWR4LCAwLCBtb3ZlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGVyc2lzdE9yZGVyKG5leHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldERyYWdnaW5nT3JkZXJJZChudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGJnLWdyYXktNTAgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkIHB4LTIgcHktMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktOTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBtci0xXCI+e2lkeCArIDF9Ljwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5zdHVkZW50X25hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IG9yZGVySXRlbXMuZmlsdGVyKChpKSA9PiBpLmlkICE9PSBpdGVtLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHBlcnNpc3RPcmRlcihuZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtcmVkLTYwMCBob3Zlcjp0ZXh0LXJlZC04MDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVtb3ZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHshc2VsZWN0ZWRTdWJwYXJ0SWQgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGJvcmRlci10IGJvcmRlci1ncmF5LTIwMCBwdC00XCI+XG4gICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIG1iLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgIEFzc2lnbmVkIFN0dWRlbnRzIChQYXJ0KVxuICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtMiByb3VuZGVkIGJvcmRlciBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgICAgICAgICB7cG9zaXRpb25zLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIHRleHQtY2VudGVyXCI+Tm8gcG9zaXRpb25lZCBzdHVkZW50czwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICB7cG9zaXRpb25zLm1hcCgocG9zLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3Bvcy5pZCB8fCBgJHtwb3Muc3R1ZGVudF9pZH0tJHtpZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBiZy1ncmF5LTUwIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZCBweC0yIHB5LTFcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktOTAwXCI+e3Bvcy5uYW1lfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cclxuICAgICAgICB7LyogU3RhZ2UgR3JpZCAqL31cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTMgbWItNFwiPlxyXG4gICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxBcHBMb2dvIHNpemU9ezI0fSBjbGFzc05hbWU9XCJib3JkZXIgYm9yZGVyLWdyYXktMjAwIGJnLXdoaXRlIHRleHQtZ3JheS00MDBcIiAvPlxyXG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+U3RhZ2UgTGF5b3V0PC9oMz5cclxuICAgICAgICAgICAgICAgICAge2VkaXRpbmdQYXJ0TmFtZSA/IChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGFydE5hbWVEcmFmdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQYXJ0TmFtZURyYWZ0KGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZCB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcnRJZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHROYW1lID0gcGFydE5hbWVEcmFmdC50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0TmFtZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcnROYW1lU2F2aW5nKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9wYXJ0cy8ke3BhcnRJZH1gLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWU6IG5leHROYW1lIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHVwZGF0ZSBwYXJ0IG5hbWVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFZGl0aW5nUGFydE5hbWUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyciBpbnN0YW5jZW9mIEVycm9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBlcnIubWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJGYWlsZWQgdG8gdXBkYXRlIHBhcnQgbmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJ0TmFtZVNhdmluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cGFydE5hbWVTYXZpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSBiZy1ncmVlbi02MDAgdGV4dC13aGl0ZSByb3VuZGVkIHRleHQteHMgZGlzYWJsZWQ6YmctZ3JheS00MDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7cGFydE5hbWVTYXZpbmcgPyBcIlNhdmluZy4uLlwiIDogXCJTYXZlXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVkaXRpbmdQYXJ0TmFtZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFydE5hbWVEcmFmdChwYXJ0TmFtZSB8fCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIGJnLWdyYXktMzAwIHRleHQtZ3JheS04MDAgcm91bmRlZCB0ZXh0LXhzXCJcclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cGFydE5hbWUgPyBwYXJ0TmFtZSA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RWRpdGluZ1BhcnROYW1lKHRydWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtYmx1ZS02MDAgaG92ZXI6dGV4dC1ibHVlLTgwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVkaXQgbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMlwiPlxuICAgICAgICAgICAgICAgICAge2VkaXRpbmdQYXJ0Tm90ZXMgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwYXJ0Tm90ZXNEcmFmdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQYXJ0Tm90ZXNEcmFmdChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQWRkIHBhcnQgbm90ZXMuLi5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMiBweS0xIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZCB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcnRJZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFydE5vdGVzU2F2aW5nKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvcGFydHMvJHtwYXJ0SWR9YCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBkZXNjcmlwdGlvbjogcGFydE5vdGVzRHJhZnQgfHwgbnVsbCB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gdXBkYXRlIHBhcnQgbm90ZXNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVkaXRpbmdQYXJ0Tm90ZXMoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyciBpbnN0YW5jZW9mIEVycm9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGVyci5tZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiRmFpbGVkIHRvIHVwZGF0ZSBwYXJ0IG5vdGVzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcnROb3Rlc1NhdmluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cGFydE5vdGVzU2F2aW5nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSBiZy1ncmVlbi02MDAgdGV4dC13aGl0ZSByb3VuZGVkIHRleHQteHMgZGlzYWJsZWQ6YmctZ3JheS00MDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge3BhcnROb3Rlc1NhdmluZyA/IFwiU2F2aW5nLi4uXCIgOiBcIlNhdmUgbm90ZXNcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFZGl0aW5nUGFydE5vdGVzKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcnROb3Rlc0RyYWZ0KHBhcnREZXNjcmlwdGlvbiB8fCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSBiZy1ncmF5LTMwMCB0ZXh0LWdyYXktODAwIHJvdW5kZWQgdGV4dC14c1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cGFydERlc2NyaXB0aW9uID8gcGFydERlc2NyaXB0aW9uIDogXCJObyBub3RlcyB5ZXQuXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEVkaXRpbmdQYXJ0Tm90ZXModHJ1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtYmx1ZS02MDAgaG92ZXI6dGV4dC1ibHVlLTgwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgRWRpdCBub3Rlc1xuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICB7cGFydER1cmF0aW9uICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIHRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIER1cmF0aW9uOiB7cGFydER1cmF0aW9ufVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNjAwXCI+VGltZXBvaW50PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgeyFlZGl0aW5nUGFydFRpbWUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRFZGl0aW5nUGFydFRpbWUodHJ1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ibHVlLTYwMCBob3Zlcjp0ZXh0LWJsdWUtODAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgRWRpdCB0aW1lXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAge2VkaXRpbmdQYXJ0VGltZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgc3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtZ3JheS01MDBcIj5TdGFydCAobSAvIHMpPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGFydFN0YXJ0TWlufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFBhcnRTdGFydE1pbihlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0yIHB5LTEgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGFydFN0YXJ0U2VjfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFBhcnRTdGFydFNlYyhlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0yIHB5LTEgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LWdyYXktNTAwXCI+RW5kIChtIC8gcyk8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwYXJ0RW5kTWlufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFBhcnRFbmRNaW4oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMiBweS0xIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZCB0ZXh0LXhzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3BhcnRFbmRTZWN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UGFydEVuZFNlYyhlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0yIHB5LTEgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBjb21wb3NlU2Vjb25kcyhwYXJ0U3RhcnRNaW4sIHBhcnRTdGFydFNlYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBjb21wb3NlU2Vjb25kcyhwYXJ0RW5kTWluLCBwYXJ0RW5kU2VjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydCAhPT0gbnVsbCAmJiBlbmQgIT09IG51bGwgJiYgZW5kIDwgc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJFbmQgdGltZSBtdXN0IGJlIGFmdGVyIHN0YXJ0IHRpbWUuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJ0VGltZVNhdmluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL3BhcnRzLyR7cGFydElkfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVwb2ludF9zZWNvbmRzOiBzdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVwb2ludF9lbmRfc2Vjb25kczogZW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byB1cGRhdGUgdGltZXBvaW50XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJ0VGltZU92ZXJyaWRlKHsgc3RhcnQsIGVuZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RWRpdGluZ1BhcnRUaW1lKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVwb2ludFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcnRUaW1lU2F2aW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtwYXJ0VGltZVNhdmluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTEgYmctZW1lcmFsZC02MDAgdGV4dC13aGl0ZSByb3VuZGVkIHRleHQteHMgZGlzYWJsZWQ6YmctZ3JheS00MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3BhcnRUaW1lU2F2aW5nID8gXCJTYXZpbmcuLi5cIiA6IFwiU2F2ZVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0U3BsaXQgPSBzcGxpdFRpbWUoZWZmZWN0aXZlUGFydFN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZFNwbGl0ID0gc3BsaXRUaW1lKGVmZmVjdGl2ZVBhcnRFbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFydFN0YXJ0TWluKHN0YXJ0U3BsaXQubWluKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcnRTdGFydFNlYyhzdGFydFNwbGl0LnNlYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJ0RW5kTWluKGVuZFNwbGl0Lm1pbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJ0RW5kU2VjKGVuZFNwbGl0LnNlYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFZGl0aW5nUGFydFRpbWUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIGJnLWdyYXktMzAwIHRleHQtZ3JheS04MDAgcm91bmRlZCB0ZXh0LXhzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRUaW1lKGVmZmVjdGl2ZVBhcnRTdGFydCl9IC0ge2Zvcm1hdFRpbWUoZWZmZWN0aXZlUGFydEVuZCl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgRnJvbnQgb2Ygc3RhZ2U6IHtmcm9udERpcmVjdGlvbiA9PT0gXCJib3R0b21cIiA/IFwiQm90dG9tXCIgOiBcIlRvcFwifVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMFwiPlN1YnBhcnQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkU3VicGFydElkIHx8IFwiXCJ9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlbGVjdGVkU3VicGFydElkKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgdGV4dC14c1wiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c3VicGFydHMubGVuZ3RoID09PSAwfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5QYXJ0IHBvc2l0aW9uczwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAge3N1YnBhcnRzLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIiBkaXNhYmxlZD5cbiAgICAgICAgICAgICAgICAgICAgICBObyBzdWJwYXJ0cyB5ZXRcbiAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAge29yZGVyZWRTdWJwYXJ0cy5tYXAoKHN1YikgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17c3ViLmlkfSB2YWx1ZT17c3ViLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICB7c3ViLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIHthY3RpdmVTdWJwYXJ0Py5kZXNjcmlwdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgIHthY3RpdmVTdWJwYXJ0LmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge3N1YnBhcnREdXJhdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgIER1cmF0aW9uOiB7c3VicGFydER1cmF0aW9ufVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtZW5kIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICB7c2F2aW5nICYmIChcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBmb250LXNlbWlib2xkXCI+QXV0by1zYXZpbmcuLi48L3NwYW4+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgeyFzYXZpbmcgJiYgaGFzQ2hhbmdlc1JlZi5jdXJyZW50ICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LW9yYW5nZS02MDAgZm9udC1zZW1pYm9sZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgVW5zYXZlZCBjaGFuZ2VzIChhdXRvLXNhdmVzIGluIDZzKVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzZWxlY3RcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZnJvbnREaXJlY3Rpb259XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGcm9udERpcmVjdGlvbihlLnRhcmdldC52YWx1ZSBhcyBGcm9udERpcmVjdGlvbil9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyB0ZXh0LXNtIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYm90dG9tXCI+RnJvbnQgLSBCb3R0b208L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidG9wXCI+RnJvbnQgLSBUb3A8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtyZXNldFBvc2l0aW9uc31cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctZ3JheS0zMDAgdGV4dC1ncmF5LTkwMCByb3VuZGVkLWxnIGhvdmVyOmJnLWdyYXktNDAwIGZvbnQtbWVkaXVtIHRleHQtc21cIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgUmVzZXQgQWxsXHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2F2ZX1cclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ncmVlbi02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLWdyZWVuLTcwMCBkaXNhYmxlZDpiZy1ncmF5LTQwMCBmb250LW1lZGl1bSB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIHtzYXZpbmcgPyBcIlNhdmluZy4uLlwiIDogXCJTYXZlIFBvc2l0aW9uc1wifVxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHtzdWJwYXJ0cy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTUwIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1sZyBwLTNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNzAwIG1iLTJcIj5TdWJwYXJ0czwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIHtvcmRlcmVkU3VicGFydHMubWFwKChzdWIsIGlkeCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtzdWIuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9eygpID0+IHNldERyYWdnaW5nU3VicGFydElkKHN1Yi5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgb25EcmFnT3Zlcj17KGUpID0+IGUucHJldmVudERlZmF1bHQoKX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkRyb3A9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZHJhZ2dpbmdTdWJwYXJ0SWQpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb21JZHggPSBzdWJwYXJ0cy5maW5kSW5kZXgoKHMpID0+IHMuaWQgPT09IGRyYWdnaW5nU3VicGFydElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvSWR4ID0gc3VicGFydHMuZmluZEluZGV4KChzKSA9PiBzLmlkID09PSBzdWIuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyb21JZHggPCAwIHx8IHRvSWR4IDwgMCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlUmVvcmRlclN1YnBhcnRzKGZyb21JZHgsIHRvSWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldERyYWdnaW5nU3VicGFydElkKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRTdWJwYXJ0SWQoc3ViLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC0zIHB5LTEgcm91bmRlZC1mdWxsIHRleHQteHMgZm9udC1zZW1pYm9sZCBib3JkZXIgdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkU3VicGFydElkID09PSBzdWIuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJnLWJsdWUtNjAwIHRleHQtd2hpdGUgYm9yZGVyLWJsdWUtNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJnLXdoaXRlIHRleHQtZ3JheS03MDAgYm9yZGVyLWdyYXktMzAwIGhvdmVyOmJnLWdyYXktMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkRyYWcgdG8gcmVvcmRlclwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7aWR4ICsgMX0uIHtzdWIudGl0bGV9XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIExlZ2VuZCAqL31cbiAgICAgICAgICAgIHthY3RpdmVQb3NpdGlvbnMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmx1ZS01MCBwLTMgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWJsdWUtMjAwXCI+XG4gICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItMiB0ZXh0LXNtXCI+TGVnZW5kPC9oND5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgc206Z3JpZC1jb2xzLTMgbWQ6Z3JpZC1jb2xzLTQgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAge2xlZ2VuZERhdGEubWFwKChpdGVtKSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2l0ZW0uc3R1ZGVudF9pZH0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTYgaC02IGJnLWJsdWUtNTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXdoaXRlIHRleHQteHMgZm9udC1ib2xkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLmluaXRpYWxzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNzAwIHRydW5jYXRlXCI+e2l0ZW0ubmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtMyByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS0yMDBcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgdGV4dC1zbSBtYi0yXCI+UXVpY2sgUG9zaXRpb248L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLVsxZnJfYXV0b10gZ2FwLTIgaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8c2VsZWN0XHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZFNvdXJjZUtleX1cclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWxlY3RlZFNvdXJjZUtleShlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgdGV4dC1zbVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3QgYSBwYXJ0IG9yIHN1YnBhcnQuLi48L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAge3NvdXJjZU9wdGlvbnMubWFwKChvcHQpID0+IChcclxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17b3B0LmtleX0gdmFsdWU9e29wdC5rZXl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAge29wdC5sYWJlbH1cclxuICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17YXBwbHlRdWlja1Bvc2l0aW9uc31cclxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFzZWxlY3RlZFNvdXJjZUtleSB8fCBhcHBseWluZ1F1aWNrfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkIHRleHQtc20gZGlzYWJsZWQ6YmctZ3JheS00MDBcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICB7YXBwbHlpbmdRdWljayA/IFwiQXBwbHlpbmcuLi5cIiA6IFwiQXBwbHlcIn1cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJtdC0yIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQteHMgdGV4dC1ncmF5LTcwMFwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2ZsaXBIb3Jpem9udGFsfVxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZsaXBIb3Jpem9udGFsKGUudGFyZ2V0LmNoZWNrZWQpfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTQgdy00XCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICBIb3Jpem9udGFsIGZsaXAgYmVmb3JlIGFwcGx5aW5nXHJcbiAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7c3VicGFydHMubGVuZ3RoID4gMCAmJiAoXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS03MDAgZm9udC1tZWRpdW0gdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIHthY3RpdmVTdWJwYXJ0Py50aXRsZSB8fCBcIlN1YnBhcnRcIn1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgIHsvKiBHcmlkICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgIHtvcmRlcmVkU3VicGFydHMubGVuZ3RoID4gMCAmJiBjYW5Qb3NpdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHggPSBvcmRlcmVkU3VicGFydHMuZmluZEluZGV4KChzKSA9PiBzLmlkID09PSBzZWxlY3RlZFN1YnBhcnRJZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZHggPiAwKSBzZXRTZWxlY3RlZFN1YnBhcnRJZChvcmRlcmVkU3VicGFydHNbaWR4IC0gMV0uaWQpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshc2VsZWN0ZWRTdWJwYXJ0SWQgfHwgb3JkZXJlZFN1YnBhcnRzLmZpbmRJbmRleCgocykgPT4gcy5pZCA9PT0gc2VsZWN0ZWRTdWJwYXJ0SWQpID09PSAwfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIGJnLWdyYXktMjAwIHRleHQtZ3JheS03MDAgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTMwMCBkaXNhYmxlZDpvcGFjaXR5LTUwIHRleHQteHNcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFByZXZcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHJlZj17Z3JpZFdyYXBSZWZ9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIG92ZXJmbG93LWhpZGRlblwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiBiYXNlSGVpZ2h0ICogZ3JpZFNjYWxlIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJib3JkZXItMiBib3JkZXItZ3JheS00MDAgYmctZ3JhZGllbnQtdG8tYiBmcm9tLWFtYmVyLTEwMCB0by1hbWJlci01MCByZWxhdGl2ZSBteC1hdXRvXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBiYXNlV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogYmFzZUhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgXG4gICAgICAgICAgICAgICAgICBsaW5lYXItZ3JhZGllbnQocmdiYSgwLDAsMCwuMSkgMXB4LCB0cmFuc3BhcmVudCAxcHgpLFxuICAgICAgICAgICAgICAgICAgbGluZWFyLWdyYWRpZW50KDkwZGVnLCByZ2JhKDAsMCwwLC4xKSAxcHgsIHRyYW5zcGFyZW50IDFweClcbiAgICAgICAgICAgICAgICBgLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kU2l6ZTogYCR7Q0VMTF9TSVpFfXB4ICR7Q0VMTF9TSVpFfXB4YCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgc2NhbGUoJHtncmlkU2NhbGV9KWAsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogXCJ0b3AgbGVmdFwiLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9e2hhbmRsZUdyaWREcmFnT3Zlcn1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7LyogRnJvbnQgb2YgU3RhZ2UgSW5kaWNhdG9yICovfVxuICAgICAgICAgICAgICAgICAge2Zyb250RGlyZWN0aW9uID09PSBcImJvdHRvbVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCBoLTEgYmctcmVkLTUwMFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIHtmcm9udERpcmVjdGlvbiA9PT0gXCJ0b3BcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTAgbGVmdC0wIHJpZ2h0LTAgaC0xIGJnLXJlZC01MDBcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgIHsvKiBGcm9udCBMYWJlbCAqL31cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdGV4dC1yZWQtNjAwIGZvbnQtYm9sZCB0ZXh0LXhzIGJnLXdoaXRlIGJnLW9wYWNpdHktODAgcHgtMiBweS0xIHJvdW5kZWRcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIC4uLihmcm9udERpcmVjdGlvbiA9PT0gXCJib3R0b21cIiAmJiB7IGJvdHRvbTogNSwgbGVmdDogXCI1MCVcIiwgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZVgoLTUwJSlcIiB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAuLi4oZnJvbnREaXJlY3Rpb24gPT09IFwidG9wXCIgJiYgeyB0b3A6IDUsIGxlZnQ6IFwiNTAlXCIsIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVYKC01MCUpXCIgfSksXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEZST05UXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAge3NlbGVjdGVkU3VicGFydElkICYmIHN1YnBhcnRzLmxlbmd0aCA+IDAgJiYgYWN0aXZlUG9zaXRpb25zLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTggbGVmdC0wIHJpZ2h0LTAgdGV4dC1jZW50ZXIgdGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7YWN0aXZlU3VicGFydD8udGl0bGUgfHwgXCJTdWJwYXJ0XCJ9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgey8qIEdyaWQgQ2VsbHMgKi99XG4gICAgICAgICAgICAgICAgICB7QXJyYXkuZnJvbSh7IGxlbmd0aDogR1JJRF9ST1dTIH0pLm1hcCgoXywgeSkgPT5cbiAgICAgICAgICAgICAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogR1JJRF9DT0xTIH0pLm1hcCgoXywgeCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YCR7eH0tJHt5fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkRyb3A9eyhlKSA9PiBoYW5kbGVHcmlkRHJvcChlLCB4LCB5KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9e2hhbmRsZUdyaWREcmFnT3Zlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGN1cnNvci1jZWxsIGhvdmVyOmJnLWJsdWUtMTAwIGhvdmVyOmJnLW9wYWNpdHktMzAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogeCAqIENFTExfU0laRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB5ICogQ0VMTF9TSVpFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogQ0VMTF9TSVpFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IENFTExfU0laRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgIHsvKiBQb3NpdGlvbmVkIFN0dWRlbnRzICovfVxuICAgICAgICAgICAgICAgICAge2FjdGl2ZVBvc2l0aW9ucy5tYXAoKHBvcywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluaXRpYWxzID0gZ2VuZXJhdGVJbml0aWFscyhwb3MubmFtZSwgYWN0aXZlUG9zaXRpb25zLm1hcCgocCkgPT4gcC5uYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yZGVySW5kZXggPSBvcmRlckluZGV4QnlTdHVkZW50SWRbcG9zLnN0dWRlbnRfaWRdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17cG9zLmlkIHx8IGAke3Bvcy5zdHVkZW50X2lkfS0ke3Bvcy54fS0ke3Bvcy55fS0ke2lkeH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdTdGFydD17KCkgPT4gaGFuZGxlRHJhZ1N0YXJ0KHBvcy5zdHVkZW50X2lkLCB0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdyb3VwIGN1cnNvci1tb3ZlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHRvRGlzcGxheVgocG9zLngpICogQ0VMTF9TSVpFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRvRGlzcGxheVkocG9zLnkpICogQ0VMTF9TSVpFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogQ0VMTF9TSVpFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IENFTExfU0laRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LTEwIGgtMTAgYmctYmx1ZS01MDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtd2hpdGUgdGV4dC14cyBmb250LWJvbGQgc2hhZG93LWxnIGdyb3VwLWhvdmVyOmJnLWJsdWUtNjAwIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtpbml0aWFsc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAge29yZGVySW5kZXggPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtdG9wLTIgLWxlZnQtMiB3LTUgaC01IHJvdW5kZWQtZnVsbCBiZy1hbWJlci01MDAgdGV4dC1bMTBweF0gZm9udC1ib2xkIHRleHQtd2hpdGUgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc2hhZG93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7b3JkZXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByZW1vdmVGcm9tU3RhZ2UocG9zLnN0dWRlbnRfaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIC10b3AtMiAtcmlnaHQtMiBiZy1yZWQtNTAwIHRleHQtd2hpdGUgcm91bmRlZC1mdWxsIHctNSBoLTUgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC14cyBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IGhvdmVyOmJnLXJlZC02MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiUmVtb3ZlIGZyb20gc3RhZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCBtYi0xIHdoaXRlc3BhY2Utbm93cmFwIGJnLWdyYXktOTAwIHRleHQtd2hpdGUgdGV4dC14cyBweS0xIHB4LTIgcm91bmRlZCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3Bvcy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHtvcmRlcmVkU3VicGFydHMubGVuZ3RoID4gMCAmJiBjYW5Qb3NpdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHggPSBvcmRlcmVkU3VicGFydHMuZmluZEluZGV4KChzKSA9PiBzLmlkID09PSBzZWxlY3RlZFN1YnBhcnRJZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZHggPj0gMCAmJiBpZHggPCBvcmRlcmVkU3VicGFydHMubGVuZ3RoIC0gMSkgc2V0U2VsZWN0ZWRTdWJwYXJ0SWQob3JkZXJlZFN1YnBhcnRzW2lkeCArIDFdLmlkKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXNlbGVjdGVkU3VicGFydElkIHx8IG9yZGVyZWRTdWJwYXJ0cy5maW5kSW5kZXgoKHMpID0+IHMuaWQgPT09IHNlbGVjdGVkU3VicGFydElkKSA9PT0gb3JkZXJlZFN1YnBhcnRzLmxlbmd0aCAtIDF9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTEgYmctZ3JheS0yMDAgdGV4dC1ncmF5LTcwMCByb3VuZGVkIGhvdmVyOmJnLWdyYXktMzAwIGRpc2FibGVkOm9wYWNpdHktNTAgdGV4dC14c1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgTmV4dFxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7Y2FuT3JkZXIgJiYgc2VsZWN0ZWRTdWJwYXJ0SWQgJiYgbnVsbH1cclxuXHJcbiAgICAgICAgICAgIHsvKiBQb3NpdGlvbmVkIFN0dWRlbnRzIExpc3QgKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS01MCBwLTQgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktMjAwXCI+XHJcbiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItM1wiPlxyXG4gICAgICAgICAgICAgICAgUG9zaXRpb25lZCAoe2FjdGl2ZVBvc2l0aW9ucy5sZW5ndGh9KVxyXG4gICAgICAgICAgICAgIDwvaDQ+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIHNtOmdyaWQtY29scy0zIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICB7YWN0aXZlUG9zaXRpb25zLm1hcCgocG9zLCBpZHgpID0+IChcclxuICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17cG9zLmlkIHx8IGAke3Bvcy5zdHVkZW50X2lkfS0ke3Bvcy54fS0ke3Bvcy55fS0ke2lkeH1gfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtMiByb3VuZGVkIGJvcmRlciBib3JkZXItZ3JlZW4tMjAwIHRleHQtc21cIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMFwiPntwb3MubmFtZX08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAoe3Bvcy54fSwge3Bvcy55fSlcclxuICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwidXNlTWVtbyIsInVzZVJlZiIsIkFwcExvZ28iLCJHUklEX0NPTFMiLCJHUklEX1JPV1MiLCJDRUxMX1NJWkUiLCJnZW5lcmF0ZUluaXRpYWxzIiwibmFtZSIsImFsbE5hbWVzIiwibGVuZ3RoIiwiZmlyc3RMZXR0ZXIiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsImNvbmZsaWN0cyIsImZpbHRlciIsIm4iLCJzbGljZSIsIlBvc2l0aW9uaW5nUGFuZWwiLCJwZXJmb3JtYW5jZUlkIiwicGFydElkIiwicGFydE5hbWUiLCJwYXJ0RGVzY3JpcHRpb24iLCJwYXJ0VGltZXBvaW50U2Vjb25kcyIsInBhcnRUaW1lcG9pbnRFbmRTZWNvbmRzIiwiaXNHcm91cCIsIm9uU2F2ZVBvc2l0aW9ucyIsInJvc3RlciIsInNldFJvc3RlciIsInBvc2l0aW9ucyIsInNldFBvc2l0aW9ucyIsImRyYWdnZWRTdHVkZW50Iiwic2V0RHJhZ2dlZFN0dWRlbnQiLCJkcmFnZ2VkRnJvbUdyaWQiLCJzZXREcmFnZ2VkRnJvbUdyaWQiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInNhdmluZyIsInNldFNhdmluZyIsImVycm9yIiwic2V0RXJyb3IiLCJmcm9udERpcmVjdGlvbiIsInNldEZyb250RGlyZWN0aW9uIiwibGFzdFNhdmVkVGltZSIsInNldExhc3RTYXZlZFRpbWUiLCJEYXRlIiwibm93IiwiZ3JpZFdyYXBSZWYiLCJncmlkU2NhbGUiLCJzZXRHcmlkU2NhbGUiLCJiYXNlV2lkdGgiLCJiYXNlSGVpZ2h0IiwiYXV0b1NhdmVJbnRlcnZhbFJlZiIsImhhc0NoYW5nZXNSZWYiLCJzdWJwYXJ0cyIsInNldFN1YnBhcnRzIiwic2VsZWN0ZWRTdWJwYXJ0SWQiLCJzZXRTZWxlY3RlZFN1YnBhcnRJZCIsInN1YnBhcnRQb3NpdGlvbnMiLCJzZXRTdWJwYXJ0UG9zaXRpb25zIiwic3VicGFydE9yZGVyIiwic2V0U3VicGFydE9yZGVyIiwiZHJhZ2dpbmdPcmRlcklkIiwic2V0RHJhZ2dpbmdPcmRlcklkIiwiZHJhZ2dpbmdTdWJwYXJ0SWQiLCJzZXREcmFnZ2luZ1N1YnBhcnRJZCIsImVkaXRpbmdQYXJ0TmFtZSIsInNldEVkaXRpbmdQYXJ0TmFtZSIsInBhcnROYW1lRHJhZnQiLCJzZXRQYXJ0TmFtZURyYWZ0IiwicGFydE5hbWVTYXZpbmciLCJzZXRQYXJ0TmFtZVNhdmluZyIsImVkaXRpbmdQYXJ0Tm90ZXMiLCJzZXRFZGl0aW5nUGFydE5vdGVzIiwicGFydE5vdGVzRHJhZnQiLCJzZXRQYXJ0Tm90ZXNEcmFmdCIsInBhcnROb3Rlc1NhdmluZyIsInNldFBhcnROb3Rlc1NhdmluZyIsImVkaXRpbmdQYXJ0VGltZSIsInNldEVkaXRpbmdQYXJ0VGltZSIsInBhcnRTdGFydE1pbiIsInNldFBhcnRTdGFydE1pbiIsInBhcnRTdGFydFNlYyIsInNldFBhcnRTdGFydFNlYyIsInBhcnRFbmRNaW4iLCJzZXRQYXJ0RW5kTWluIiwicGFydEVuZFNlYyIsInNldFBhcnRFbmRTZWMiLCJwYXJ0VGltZVNhdmluZyIsInNldFBhcnRUaW1lU2F2aW5nIiwicGFydFRpbWVPdmVycmlkZSIsInNldFBhcnRUaW1lT3ZlcnJpZGUiLCJzb3VyY2VPcHRpb25zIiwic2V0U291cmNlT3B0aW9ucyIsInNlbGVjdGVkU291cmNlS2V5Iiwic2V0U2VsZWN0ZWRTb3VyY2VLZXkiLCJmbGlwSG9yaXpvbnRhbCIsInNldEZsaXBIb3Jpem9udGFsIiwiYXBwbHlpbmdRdWljayIsInNldEFwcGx5aW5nUXVpY2siLCJmZXRjaFN1YnBhcnRzIiwic3ViUmVzIiwiZmV0Y2giLCJvayIsInN1YkRhdGEiLCJqc29uIiwiaWRzIiwiU2V0IiwibWFwIiwicyIsImlkIiwiaGFzIiwiZXJyIiwiY29uc29sZSIsImZldGNoUm9zdGVyT25seSIsInJvc3RlclJlcyIsIkVycm9yIiwicm9zdGVyRGF0YSIsInBhcnRSb3N0ZXIiLCJwYXJ0X2lkIiwiZmV0Y2hEYXRhIiwicGVyZlJlcyIsInBlcmYiLCJzdGFnZV9vcmllbnRhdGlvbiIsInBvc1JlcyIsInBvc0RhdGEiLCJwIiwic3R1ZGVudF9pZCIsInN0dWRlbnRfbmFtZSIsIngiLCJ5IiwibWVzc2FnZSIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJkb2N1bWVudCIsImhpZGRlbiIsImNsZWFySW50ZXJ2YWwiLCJlbCIsImN1cnJlbnQiLCJ1cGRhdGVTY2FsZSIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJNYXRoIiwibWluIiwib2JzZXJ2ZXIiLCJSZXNpemVPYnNlcnZlciIsIm9ic2VydmUiLCJkaXNjb25uZWN0Iiwic3RhcnQiLCJlbmQiLCJzdGFydFNwbGl0Iiwic3BsaXRUaW1lIiwiZW5kU3BsaXQiLCJzZWMiLCJsb2FkU291cmNlcyIsInJlcyIsInBhcnRzRGF0YSIsInBhcnRPcHRpb25zIiwia2V5IiwibGFiZWwiLCJzdWJwYXJ0c0VudHJpZXMiLCJQcm9taXNlIiwiYWxsIiwidGl0bGUiLCJzdWJwYXJ0T3B0aW9ucyIsImZsYXQiLCJyZWZyZXNoU3VicGFydHNBbmRTb3VyY2VzIiwiaGFuZGxlRm9jdXMiLCJoYW5kbGVWaXNpYmlsaXR5IiwidmlzaWJpbGl0eVN0YXRlIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpbnRlcnZhbElkIiwiZmV0Y2hTdWJwYXJ0RGF0YSIsIm9yZGVyUmVzIiwiZGF0YSIsInByZXYiLCJpdGVtIiwiYXV0b1NhdmUiLCJwYXlsb2FkIiwic3VicGFydF9pZCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImhhbmRsZURyYWdTdGFydCIsInN0dWRlbnRJZCIsImZyb21HcmlkIiwiaGFuZGxlR3JpZERyYWdPdmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZGF0YVRyYW5zZmVyIiwiZHJvcEVmZmVjdCIsInRvTG9naWNhbFkiLCJkaXNwbGF5WSIsInRvRGlzcGxheVkiLCJsb2dpY2FsWSIsInRvTG9naWNhbFgiLCJkaXNwbGF5WCIsInRvRGlzcGxheVgiLCJsb2dpY2FsWCIsImNsYW1wVG9HcmlkIiwidmFsdWUiLCJtYXgiLCJOdW1iZXIiLCJpc05hTiIsImZvcm1hdER1cmF0aW9uIiwiaXNGaW5pdGUiLCJ0b3RhbCIsIm1pbnMiLCJmbG9vciIsInNlY3MiLCJyb3VuZCIsImZvcm1hdFRpbWUiLCJ1bmRlZmluZWQiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiU3RyaW5nIiwiY29tcG9zZVNlY29uZHMiLCJtaW5TdHIiLCJzZWNTdHIiLCJwYXJzZUludCIsInBhcnNlRmxvYXQiLCJoYW5kbGVHcmlkRHJvcCIsImNhblBvc2l0aW9uIiwic3R1ZGVudCIsImZpbmQiLCJwb3MiLCJwYXJ0X25hbWUiLCJhY3RpdmVQb3NpdGlvbnMiLCJmaWx0ZXJlZCIsIm5ld1Bvc2l0aW9ucyIsImFkZE1pc3NpbmdBc3NpZ25lZEZyb21Qb3NpdGlvbnMiLCJyZW1vdmVGcm9tU3RhZ2UiLCJwZXJzaXN0UG9zaXRpb25zIiwibmV4dFBvc2l0aW9ucyIsInJlc2V0UG9zaXRpb25zIiwiaGFuZGxlU2F2ZSIsInBlcnNpc3RPcmRlciIsIml0ZW1zIiwiaWR4Iiwib3JkZXIiLCJhZGRUb09yZGVyIiwic3R1ZGVudE5hbWUiLCJuZXh0Iiwib3JkZXJJdGVtcyIsInBvc2l0aW9uc0xpc3QiLCJjdXJyZW50SXRlbXMiLCJleGlzdGluZyIsIm1pc3NpbmciLCJoYW5kbGVSZW9yZGVyU3VicGFydHMiLCJmcm9tSW5kZXgiLCJ0b0luZGV4IiwibW92ZWQiLCJzcGxpY2UiLCJzdWIiLCJsb2FkU291cmNlUG9zaXRpb25zIiwidHlwZSIsInNwbGl0IiwidXJsIiwidGV4dCIsImFwcGx5UXVpY2tQb3NpdGlvbnMiLCJzb3VyY2VQb3NpdGlvbnMiLCJtYXBwZWQiLCJmbGlwcGVkWCIsImFjdGl2ZVN1YnBhcnQiLCJvcmRlcmVkU3VicGFydHMiLCJsaXN0Iiwic29ydCIsImEiLCJiIiwiYVN0YXJ0IiwidGltZXBvaW50X3NlY29uZHMiLCJQT1NJVElWRV9JTkZJTklUWSIsImJTdGFydCIsImxvY2FsZUNvbXBhcmUiLCJzdWJwYXJ0RHVyYXRpb24iLCJ0aW1lcG9pbnRfZW5kX3NlY29uZHMiLCJlZmZlY3RpdmVQYXJ0U3RhcnQiLCJlZmZlY3RpdmVQYXJ0RW5kIiwicGFydER1cmF0aW9uIiwic3VicGFydE1vZGUiLCJtb2RlIiwiY2FuT3JkZXIiLCJvcmRlckluZGV4QnlTdHVkZW50SWQiLCJmb3JFYWNoIiwicG9zaXRpb25lZFN0dWRlbnRzIiwiYXZhaWxhYmxlU3R1ZGVudHMiLCJ1bmlxdWVTdHVkZW50cyIsIk1hcCIsInNldCIsImxlZ2VuZERhdGEiLCJBcnJheSIsImZyb20iLCJ2YWx1ZXMiLCJpbml0aWFscyIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwiaXNQb3NpdGlvbmVkIiwiZHJhZ2dhYmxlIiwib25EcmFnU3RhcnQiLCJzcGFuIiwiaDQiLCJvbkRyYWdPdmVyIiwib25Ecm9wIiwic29tZSIsImZyb21JZHgiLCJmaW5kSW5kZXgiLCJpIiwidG9JZHgiLCJidXR0b24iLCJvbkNsaWNrIiwic2l6ZSIsImlucHV0Iiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJuZXh0TmFtZSIsInRyaW0iLCJhbGVydCIsImRpc2FibGVkIiwidGV4dGFyZWEiLCJyb3dzIiwicGxhY2Vob2xkZXIiLCJkZXNjcmlwdGlvbiIsInN0ZXAiLCJzZWxlY3QiLCJvcHRpb24iLCJvcHQiLCJjaGVja2VkIiwicmVmIiwic3R5bGUiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJiYWNrZ3JvdW5kU2l6ZSIsInRyYW5zZm9ybSIsInRyYW5zZm9ybU9yaWdpbiIsImJvdHRvbSIsImxlZnQiLCJ0b3AiLCJfIiwib3JkZXJJbmRleCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/PositioningPanel.tsx\n"));

/***/ })

});