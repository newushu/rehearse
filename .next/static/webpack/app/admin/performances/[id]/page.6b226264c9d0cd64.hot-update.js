"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/admin/performances/[id]/page",{

/***/ "(app-pages-browser)/./src/components/MarkingPanel.tsx":
/*!*****************************************!*\
  !*** ./src/components/MarkingPanel.tsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkingPanel: () => (/* binding */ MarkingPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_MusicPlayer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/MusicPlayer */ \"(app-pages-browser)/./src/components/MusicPlayer.tsx\");\n/* __next_internal_client_entry_do_not_use__ MarkingPanel auto */ \nvar _s = $RefreshSig$();\n\n\nfunction formatTime(seconds) {\n    const total = Math.max(0, Math.floor(seconds));\n    const mins = Math.floor(total / 60);\n    const secs = total % 60;\n    return \"\".concat(mins, \":\").concat(secs.toString().padStart(2, \"0\"));\n}\nfunction formatTimeDetailed(seconds) {\n    const total = Math.max(0, Math.floor(seconds));\n    const hours = Math.floor(total / 3600);\n    const mins = Math.floor(total % 3600 / 60);\n    const secs = total % 60;\n    if (hours > 0) {\n        return \"\".concat(hours, \":\").concat(mins.toString().padStart(2, \"0\"), \":\").concat(secs.toString().padStart(2, \"0\"));\n    }\n    return \"\".concat(mins, \":\").concat(secs.toString().padStart(2, \"0\"));\n}\nfunction parseTimeString(value) {\n    if (!value) return null;\n    const trimmed = value.trim();\n    if (!trimmed) return null;\n    if (/^\\d+(\\.\\d+)?$/.test(trimmed)) return Math.max(0, parseFloat(trimmed));\n    const parts = trimmed.split(\":\");\n    if (parts.length === 2) {\n        const mins = parseInt(parts[0], 10);\n        const secs = parseFloat(parts[1]);\n        if (Number.isNaN(mins) || Number.isNaN(secs)) return null;\n        return Math.max(0, mins * 60 + secs);\n    }\n    return null;\n}\nfunction uuid() {\n    return Math.random().toString(36).slice(2, 10) + Date.now().toString(36);\n}\nfunction MarkingPanel(param) {\n    let { performanceId, parts, musicUrl, performanceTitle, onPartsUpdated } = param;\n    _s();\n    const [rows, setRows] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeRowId, setActiveRowId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentTime, setCurrentTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [assignments, setAssignments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [subpartsByPart, setSubpartsByPart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [newSubpartTitle, setNewSubpartTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [sessionTitle, setSessionTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"New Marking Session\");\n    const [customTitle, setCustomTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [sessionList, setSessionList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedSessionId, setSelectedSessionId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [allSessions, setAllSessions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [performanceNameMap, setPerformanceNameMap] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [musicDuration, setMusicDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const audioCleanupRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const timelineRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [manualTimelineLength, setManualTimelineLength] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(180);\n    const [partTimelineOverrides, setPartTimelineOverrides] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [subpartTimelineOverrides, setSubpartTimelineOverrides] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [draggingPartId, setDraggingPartId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const dragStateRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [dragPreview, setDragPreview] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [partStartInput, setPartStartInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [partEndInput, setPartEndInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [subpartStartInput, setSubpartStartInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [subpartEndInput, setSubpartEndInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [openSubpartsPartId, setOpenSubpartsPartId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [manualRowCount, setManualRowCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [partRowOverrides, setPartRowOverrides] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [assignmentHistory, setAssignmentHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [openHistoryTarget, setOpenHistoryTarget] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const timelineLength = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"MarkingPanel.useMemo[timelineLength]\": ()=>{\n            const times = [];\n            parts.forEach({\n                \"MarkingPanel.useMemo[timelineLength]\": (part1)=>{\n                    const override = partTimelineOverrides[part1.id];\n                    var _override_start, _ref;\n                    const start = (_ref = (_override_start = override === null || override === void 0 ? void 0 : override.start) !== null && _override_start !== void 0 ? _override_start : part1.timepoint_seconds) !== null && _ref !== void 0 ? _ref : null;\n                    var _override_end, _ref1;\n                    const end = (_ref1 = (_override_end = override === null || override === void 0 ? void 0 : override.end) !== null && _override_end !== void 0 ? _override_end : part1.timepoint_end_seconds) !== null && _ref1 !== void 0 ? _ref1 : null;\n                    if (start !== null) times.push(start);\n                    if (end !== null) times.push(end);\n                    if (start !== null && end === null) times.push(start + 10);\n                }\n            }[\"MarkingPanel.useMemo[timelineLength]\"]);\n            Object.values(subpartsByPart).flat().forEach({\n                \"MarkingPanel.useMemo[timelineLength]\": (sub)=>{\n                    const override = subpartTimelineOverrides[sub.id];\n                    var _override_start, _ref;\n                    const start = (_ref = (_override_start = override === null || override === void 0 ? void 0 : override.start) !== null && _override_start !== void 0 ? _override_start : sub.timepoint_seconds) !== null && _ref !== void 0 ? _ref : null;\n                    var _override_end, _ref1;\n                    const end = (_ref1 = (_override_end = override === null || override === void 0 ? void 0 : override.end) !== null && _override_end !== void 0 ? _override_end : sub.timepoint_end_seconds) !== null && _ref1 !== void 0 ? _ref1 : null;\n                    if (start !== null) times.push(start);\n                    if (end !== null) times.push(end);\n                    if (start !== null && end === null) times.push(start + 10);\n                }\n            }[\"MarkingPanel.useMemo[timelineLength]\"]);\n            const maxTime = times.length ? Math.max(...times) : 0;\n            if (musicDuration && Number.isFinite(musicDuration)) return Math.max(musicDuration, maxTime, 10);\n            return Math.max(manualTimelineLength, maxTime, 10);\n        }\n    }[\"MarkingPanel.useMemo[timelineLength]\"], [\n        musicDuration,\n        manualTimelineLength,\n        parts,\n        subpartsByPart,\n        partTimelineOverrides,\n        subpartTimelineOverrides\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MarkingPanel.useEffect\": ()=>{\n            return ({\n                \"MarkingPanel.useEffect\": ()=>{\n                    var _audioCleanupRef_current;\n                    (_audioCleanupRef_current = audioCleanupRef.current) === null || _audioCleanupRef_current === void 0 ? void 0 : _audioCleanupRef_current.call(audioCleanupRef);\n                }\n            })[\"MarkingPanel.useEffect\"];\n        }\n    }[\"MarkingPanel.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MarkingPanel.useEffect\": ()=>{\n            if (!draggingPartId) return;\n            const handleMove = {\n                \"MarkingPanel.useEffect.handleMove\": (event)=>{\n                    if (!timelineRef.current || !dragStateRef.current) return;\n                    const rect = timelineRef.current.getBoundingClientRect();\n                    const ratio = (event.clientX - rect.left) / rect.width;\n                    const raw = ratio * timelineLength - dragStateRef.current.offsetSec;\n                    const duration = dragStateRef.current.duration;\n                    const start = Math.max(0, Math.min(timelineLength - duration, raw));\n                    const snapped = Math.round(start);\n                    setPartStartEnd(dragStateRef.current.partId, snapped, snapped + duration);\n                    setDragPreview({\n                        partId: dragStateRef.current.partId,\n                        time: snapped\n                    });\n                }\n            }[\"MarkingPanel.useEffect.handleMove\"];\n            const handleUp = {\n                \"MarkingPanel.useEffect.handleUp\": ()=>{\n                    setDraggingPartId(null);\n                    dragStateRef.current = null;\n                    setDragPreview(null);\n                }\n            }[\"MarkingPanel.useEffect.handleUp\"];\n            window.addEventListener(\"mousemove\", handleMove);\n            window.addEventListener(\"mouseup\", handleUp);\n            return ({\n                \"MarkingPanel.useEffect\": ()=>{\n                    window.removeEventListener(\"mousemove\", handleMove);\n                    window.removeEventListener(\"mouseup\", handleUp);\n                }\n            })[\"MarkingPanel.useEffect\"];\n        }\n    }[\"MarkingPanel.useEffect\"], [\n        draggingPartId,\n        timelineLength\n    ]);\n    const handleAudioReady = (audio)=>{\n        if (audioCleanupRef.current) audioCleanupRef.current();\n        if (!audio) {\n            setMusicDuration(null);\n            audioCleanupRef.current = null;\n            return;\n        }\n        const update = ()=>{\n            const duration = Number.isFinite(audio.duration) ? audio.duration : null;\n            setMusicDuration(duration);\n        };\n        audio.addEventListener(\"loadedmetadata\", update);\n        audio.addEventListener(\"durationchange\", update);\n        update();\n        audioCleanupRef.current = ()=>{\n            audio.removeEventListener(\"loadedmetadata\", update);\n            audio.removeEventListener(\"durationchange\", update);\n        };\n    };\n    const assignedMarkCounts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"MarkingPanel.useMemo[assignedMarkCounts]\": ()=>{\n            const counts = {};\n            Object.values(assignments).forEach({\n                \"MarkingPanel.useMemo[assignedMarkCounts]\": (value)=>{\n                    if (typeof value === \"string\") {\n                        counts[value] = (counts[value] || 0) + 1;\n                    } else if (value === null || value === void 0 ? void 0 : value.markId) {\n                        counts[value.markId] = (counts[value.markId] || 0) + 1;\n                    }\n                }\n            }[\"MarkingPanel.useMemo[assignedMarkCounts]\"]);\n            return counts;\n        }\n    }[\"MarkingPanel.useMemo[assignedMarkCounts]\"], [\n        assignments\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MarkingPanel.useEffect\": ()=>{\n            if (rows.length === 0) {\n                const firstRow = {\n                    id: uuid(),\n                    label: \"Row 1\",\n                    note: \"\",\n                    marks: []\n                };\n                setRows([\n                    firstRow\n                ]);\n                setActiveRowId(firstRow.id);\n            }\n        }\n    }[\"MarkingPanel.useEffect\"], [\n        rows.length\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MarkingPanel.useEffect\": ()=>{\n            if (customTitle) return;\n            const title = \"\".concat(new Date().toLocaleString(), \" \\xb7 \").concat(performanceTitle || \"Performance\");\n            setSessionTitle(title);\n        }\n    }[\"MarkingPanel.useEffect\"], [\n        performanceTitle,\n        customTitle\n    ]);\n    const getPartStartEnd = (part1)=>{\n        const override = partTimelineOverrides[part1.id];\n        var _override_start, _ref;\n        const start = (_ref = (_override_start = override === null || override === void 0 ? void 0 : override.start) !== null && _override_start !== void 0 ? _override_start : part1.timepoint_seconds) !== null && _ref !== void 0 ? _ref : null;\n        var _override_end, _ref1;\n        const end = (_ref1 = (_override_end = override === null || override === void 0 ? void 0 : override.end) !== null && _override_end !== void 0 ? _override_end : part1.timepoint_end_seconds) !== null && _ref1 !== void 0 ? _ref1 : null;\n        return {\n            start,\n            end\n        };\n    };\n    const setPartStartEnd = (partId, start, end)=>{\n        setPartTimelineOverrides((prev)=>({\n                ...prev,\n                [partId]: {\n                    start,\n                    end\n                }\n            }));\n    };\n    const setSubpartStartEnd = (subpartId, start, end)=>{\n        setSubpartTimelineOverrides((prev)=>({\n                ...prev,\n                [subpartId]: {\n                    start,\n                    end\n                }\n            }));\n    };\n    const getSubpartStartEnd = (sub)=>{\n        const override = subpartTimelineOverrides[sub.id];\n        var _override_start, _ref;\n        const start = (_ref = (_override_start = override === null || override === void 0 ? void 0 : override.start) !== null && _override_start !== void 0 ? _override_start : sub.timepoint_seconds) !== null && _ref !== void 0 ? _ref : null;\n        var _override_end, _ref1;\n        const end = (_ref1 = (_override_end = override === null || override === void 0 ? void 0 : override.end) !== null && _override_end !== void 0 ? _override_end : sub.timepoint_end_seconds) !== null && _ref1 !== void 0 ? _ref1 : null;\n        return {\n            start,\n            end\n        };\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MarkingPanel.useEffect\": ()=>{\n            if (!performanceId) return;\n            const fetchSubparts = {\n                \"MarkingPanel.useEffect.fetchSubparts\": async ()=>{\n                    const entries = await Promise.all(parts.map({\n                        \"MarkingPanel.useEffect.fetchSubparts\": async (part1)=>{\n                            const res = await fetch(\"/api/subparts?partId=\".concat(part1.id));\n                            if (!res.ok) return [\n                                part1.id,\n                                []\n                            ];\n                            const data = await res.json();\n                            return [\n                                part1.id,\n                                data || []\n                            ];\n                        }\n                    }[\"MarkingPanel.useEffect.fetchSubparts\"]));\n                    const map = {};\n                    entries.forEach({\n                        \"MarkingPanel.useEffect.fetchSubparts\": (param)=>{\n                            let [partId, list] = param;\n                            map[partId] = list;\n                        }\n                    }[\"MarkingPanel.useEffect.fetchSubparts\"]);\n                    setSubpartsByPart(map);\n                }\n            }[\"MarkingPanel.useEffect.fetchSubparts\"];\n            fetchSubparts();\n        }\n    }[\"MarkingPanel.useEffect\"], [\n        performanceId,\n        parts\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MarkingPanel.useEffect\": ()=>{\n            if (!parts || parts.length === 0) return;\n            setPartRowOverrides({\n                \"MarkingPanel.useEffect\": (prev)=>{\n                    const next = {\n                        ...prev\n                    };\n                    parts.forEach({\n                        \"MarkingPanel.useEffect\": (part1)=>{\n                            if (part1.timeline_row !== null && part1.timeline_row !== undefined) {\n                                next[part1.id] = part1.timeline_row;\n                            }\n                        }\n                    }[\"MarkingPanel.useEffect\"]);\n                    return next;\n                }\n            }[\"MarkingPanel.useEffect\"]);\n        }\n    }[\"MarkingPanel.useEffect\"], [\n        parts\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MarkingPanel.useEffect\": ()=>{\n            if (!performanceId) return;\n            const fetchSessions = {\n                \"MarkingPanel.useEffect.fetchSessions\": async ()=>{\n                    const res = await fetch(allSessions ? \"/api/marking-sessions?all=1\" : \"/api/marking-sessions?performanceId=\".concat(performanceId));\n                    if (!res.ok) return;\n                    const data = await res.json();\n                    setSessionList(data || []);\n                }\n            }[\"MarkingPanel.useEffect.fetchSessions\"];\n            fetchSessions();\n        }\n    }[\"MarkingPanel.useEffect\"], [\n        performanceId,\n        allSessions\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MarkingPanel.useEffect\": ()=>{\n            const fetchPerformanceNames = {\n                \"MarkingPanel.useEffect.fetchPerformanceNames\": async ()=>{\n                    const res = await fetch(\"/api/performances\");\n                    if (!res.ok) return;\n                    const data = await res.json();\n                    const map = {};\n                    (data || []).forEach({\n                        \"MarkingPanel.useEffect.fetchPerformanceNames\": (perf)=>{\n                            map[perf.id] = perf.title || \"Performance\";\n                        }\n                    }[\"MarkingPanel.useEffect.fetchPerformanceNames\"]);\n                    setPerformanceNameMap(map);\n                }\n            }[\"MarkingPanel.useEffect.fetchPerformanceNames\"];\n            fetchPerformanceNames();\n        }\n    }[\"MarkingPanel.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MarkingPanel.useEffect\": ()=>{\n            const handleKeyDown = {\n                \"MarkingPanel.useEffect.handleKeyDown\": (event)=>{\n                    var _target_tagName;\n                    const target = event.target;\n                    const tag = target === null || target === void 0 ? void 0 : (_target_tagName = target.tagName) === null || _target_tagName === void 0 ? void 0 : _target_tagName.toLowerCase();\n                    if (tag === \"input\" || tag === \"textarea\" || tag === \"select\") return;\n                    if (event.code === \"Space\") {\n                        var _rows_;\n                        event.preventDefault();\n                        const rowId = activeRowId || ((_rows_ = rows[0]) === null || _rows_ === void 0 ? void 0 : _rows_.id);\n                        if (!rowId) return;\n                        const mark = {\n                            id: uuid(),\n                            time: currentTime,\n                            createdAt: new Date().toISOString()\n                        };\n                        setRows({\n                            \"MarkingPanel.useEffect.handleKeyDown\": (prev)=>prev.map({\n                                    \"MarkingPanel.useEffect.handleKeyDown\": (row)=>row.id === rowId ? {\n                                            ...row,\n                                            marks: [\n                                                ...row.marks,\n                                                mark\n                                            ]\n                                        } : row\n                                }[\"MarkingPanel.useEffect.handleKeyDown\"])\n                        }[\"MarkingPanel.useEffect.handleKeyDown\"]);\n                    }\n                    if (event.key === \"e\" || event.key === \"E\") {\n                        event.preventDefault();\n                        const nextIndex = rows.length + 1;\n                        const newRow = {\n                            id: uuid(),\n                            label: \"Row \".concat(nextIndex),\n                            note: \"\",\n                            marks: []\n                        };\n                        setRows({\n                            \"MarkingPanel.useEffect.handleKeyDown\": (prev)=>{\n                                const idx = activeRowId ? prev.findIndex({\n                                    \"MarkingPanel.useEffect.handleKeyDown\": (r)=>r.id === activeRowId\n                                }[\"MarkingPanel.useEffect.handleKeyDown\"]) : prev.length - 1;\n                                if (idx === -1) return [\n                                    ...prev,\n                                    newRow\n                                ];\n                                const next = [\n                                    ...prev\n                                ];\n                                next.splice(idx + 1, 0, newRow);\n                                return next;\n                            }\n                        }[\"MarkingPanel.useEffect.handleKeyDown\"]);\n                        setActiveRowId(newRow.id);\n                    }\n                }\n            }[\"MarkingPanel.useEffect.handleKeyDown\"];\n            window.addEventListener(\"keydown\", handleKeyDown);\n            return ({\n                \"MarkingPanel.useEffect\": ()=>window.removeEventListener(\"keydown\", handleKeyDown)\n            })[\"MarkingPanel.useEffect\"];\n        }\n    }[\"MarkingPanel.useEffect\"], [\n        activeRowId,\n        currentTime,\n        rows\n    ]);\n    const handleDropToRow = (rowId, markId)=>{\n        setRows((prev)=>{\n            let moved = null;\n            const removed = prev.map((row)=>{\n                const nextMarks = row.marks.filter((m)=>{\n                    if (m.id === markId) {\n                        moved = m;\n                        return false;\n                    }\n                    return true;\n                });\n                return {\n                    ...row,\n                    marks: nextMarks\n                };\n            });\n            if (!moved) return prev;\n            return removed.map((row)=>row.id === rowId ? {\n                    ...row,\n                    marks: [\n                        ...row.marks,\n                        moved\n                    ]\n                } : row);\n        });\n    };\n    const handleRemoveMark = (rowId, markId)=>{\n        setRows((prev)=>prev.map((row)=>row.id === rowId ? {\n                    ...row,\n                    marks: row.marks.filter((m)=>m.id !== markId)\n                } : row));\n    };\n    const getMarkTimeById = (markId)=>{\n        for (const row of rows){\n            const mark = row.marks.find((m)=>m.id === markId);\n            if (mark) return mark.time;\n        }\n        return null;\n    };\n    const timelineDefaultDuration = 10;\n    const partColorClasses = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"MarkingPanel.useMemo[partColorClasses]\": ()=>{\n            const palette = [\n                \"bg-amber-50 border-amber-300 text-amber-950\",\n                \"bg-emerald-50 border-emerald-300 text-emerald-950\",\n                \"bg-sky-50 border-sky-300 text-sky-950\",\n                \"bg-rose-50 border-rose-300 text-rose-950\",\n                \"bg-lime-50 border-lime-300 text-lime-950\",\n                \"bg-fuchsia-50 border-fuchsia-300 text-fuchsia-950\",\n                \"bg-orange-50 border-orange-300 text-orange-950\",\n                \"bg-teal-50 border-teal-300 text-teal-950\"\n            ];\n            const map = {};\n            parts.forEach({\n                \"MarkingPanel.useMemo[partColorClasses]\": (part1, index)=>{\n                    map[part1.id] = palette[index % palette.length];\n                }\n            }[\"MarkingPanel.useMemo[partColorClasses]\"]);\n            return map;\n        }\n    }[\"MarkingPanel.useMemo[partColorClasses]\"], [\n        parts\n    ]);\n    const persistSubpartOrder = async (partId, list)=>{\n        await Promise.all(list.map((sub, idx)=>fetch(\"/api/subparts/\".concat(sub.id), {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    order: idx + 1\n                })\n            })));\n    };\n    const moveSubpart = (partId, subpartId, direction)=>{\n        setSubpartsByPart((prev)=>{\n            const next = {\n                ...prev\n            };\n            const list = [\n                ...next[partId] || []\n            ];\n            const idx = list.findIndex((s)=>s.id === subpartId);\n            if (idx === -1) return prev;\n            const target = direction === \"up\" ? idx - 1 : idx + 1;\n            if (target < 0 || target >= list.length) return prev;\n            const [item] = list.splice(idx, 1);\n            list.splice(target, 0, item);\n            next[partId] = list;\n            void persistSubpartOrder(partId, list);\n            return next;\n        });\n    };\n    const timelineData = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"MarkingPanel.useMemo[timelineData]\": ()=>{\n            const assigned = [];\n            const unassigned = [];\n            parts.forEach({\n                \"MarkingPanel.useMemo[timelineData]\": (part1)=>{\n                    const { start, end } = getPartStartEnd(part1);\n                    if (start === null) {\n                        unassigned.push(part1);\n                        return;\n                    }\n                    const resolvedEnd = end !== null && end !== void 0 ? end : start + timelineDefaultDuration;\n                    assigned.push({\n                        id: part1.id,\n                        name: part1.name,\n                        start,\n                        end: resolvedEnd,\n                        missingEnd: end === null\n                    });\n                }\n            }[\"MarkingPanel.useMemo[timelineData]\"]);\n            assigned.sort({\n                \"MarkingPanel.useMemo[timelineData]\": (a, b)=>a.start - b.start\n            }[\"MarkingPanel.useMemo[timelineData]\"]);\n            const rows = [];\n            const ensureRow = {\n                \"MarkingPanel.useMemo[timelineData].ensureRow\": (index)=>{\n                    while(rows.length <= index){\n                        rows.push({\n                            id: uuid(),\n                            items: []\n                        });\n                    }\n                }\n            }[\"MarkingPanel.useMemo[timelineData].ensureRow\"];\n            assigned.forEach({\n                \"MarkingPanel.useMemo[timelineData]\": (item)=>{\n                    var _partRowOverrides_item_id, _ref;\n                    const overrideRow = (_ref = (_partRowOverrides_item_id = partRowOverrides[item.id]) !== null && _partRowOverrides_item_id !== void 0 ? _partRowOverrides_item_id : part.timeline_row) !== null && _ref !== void 0 ? _ref : undefined;\n                    if (overrideRow !== undefined) {\n                        ensureRow(overrideRow);\n                        rows[overrideRow].items.push(item);\n                        return;\n                    }\n                    let placed = false;\n                    for (const row of rows){\n                        const last = row.items[row.items.length - 1];\n                        if (!last || item.start >= last.end) {\n                            row.items.push(item);\n                            placed = true;\n                            break;\n                        }\n                    }\n                    if (!placed) {\n                        rows.push({\n                            id: uuid(),\n                            items: [\n                                item\n                            ]\n                        });\n                    }\n                }\n            }[\"MarkingPanel.useMemo[timelineData]\"]);\n            rows.forEach({\n                \"MarkingPanel.useMemo[timelineData]\": (row)=>row.items.sort({\n                        \"MarkingPanel.useMemo[timelineData]\": (a, b)=>a.start - b.start\n                    }[\"MarkingPanel.useMemo[timelineData]\"])\n            }[\"MarkingPanel.useMemo[timelineData]\"]);\n            const autoRowCount = rows.length;\n            if (manualRowCount > rows.length) {\n                for(let i = rows.length; i < manualRowCount; i += 1){\n                    rows.push({\n                        id: uuid(),\n                        items: [],\n                        manual: true\n                    });\n                }\n            }\n            return {\n                rows,\n                unassigned,\n                autoRowCount\n            };\n        }\n    }[\"MarkingPanel.useMemo[timelineData]\"], [\n        parts,\n        partTimelineOverrides,\n        manualRowCount,\n        partRowOverrides\n    ]);\n    const normalizeAssignments = (rowsSnapshot, raw)=>{\n        const normalized = {};\n        Object.entries(raw || {}).forEach((param)=>{\n            let [key, value] = param;\n            if (typeof value === \"string\") {\n                const mark = rowsSnapshot.flatMap((r)=>r.marks).find((m)=>m.id === value);\n                if (mark) {\n                    normalized[key] = {\n                        markId: value,\n                        time: mark.time\n                    };\n                }\n            } else if (value && typeof value === \"object\") {\n                normalized[key] = value;\n            }\n        });\n        return normalized;\n    };\n    const getAssignedTime = (targetKey)=>{\n        const value = assignments[targetKey];\n        if (!value) return null;\n        if (typeof value === \"string\") {\n            for (const row of rows){\n                const mark = row.marks.find((m)=>m.id === value);\n                if (mark) return mark.time;\n            }\n            return null;\n        }\n        var _value_time;\n        return (_value_time = value.time) !== null && _value_time !== void 0 ? _value_time : null;\n    };\n    const getTimeFromAssignment = (value)=>{\n        if (!value) return null;\n        if (typeof value === \"string\") {\n            for (const row of rows){\n                const mark = row.marks.find((m)=>m.id === value);\n                if (mark) return mark.time;\n            }\n            return null;\n        }\n        var _value_time;\n        return (_value_time = value.time) !== null && _value_time !== void 0 ? _value_time : null;\n    };\n    const pushAssignmentHistory = (targetKey, prevValue)=>{\n        const [type, id, field] = targetKey.split(\":\");\n        const existingTime = getExistingTime(type, id, field);\n        const prevTime = getTimeFromAssignment(prevValue);\n        const displayTime = prevTime !== null && prevTime !== void 0 ? prevTime : existingTime;\n        const label = displayTime !== null ? formatTime(displayTime) : \"Unassigned\";\n        const at = new Date().toLocaleString();\n        setAssignmentHistory((prev)=>({\n                ...prev,\n                [targetKey]: [\n                    {\n                        prev: prevValue,\n                        label,\n                        at\n                    },\n                    ...prev[targetKey] || []\n                ].slice(0, 6)\n            }));\n    };\n    const undoAssignment = (targetKey)=>{\n        const history = assignmentHistory[targetKey];\n        if (!history || history.length === 0) return;\n        const [latest, ...rest] = history;\n        setAssignmentHistory((prev)=>({\n                ...prev,\n                [targetKey]: rest\n            }));\n        setAssignments((prev)=>{\n            const next = {\n                ...prev\n            };\n            if (!latest.prev) {\n                delete next[targetKey];\n            } else {\n                next[targetKey] = latest.prev;\n            }\n            return next;\n        });\n    };\n    const getExistingTime = (type, id, field)=>{\n        if (type === \"part\") {\n            const part1 = parts.find((p)=>p.id === id);\n            if (!part1) return null;\n            var _part_timepoint_seconds, _part_timepoint_end_seconds;\n            return field === \"start\" ? (_part_timepoint_seconds = part1.timepoint_seconds) !== null && _part_timepoint_seconds !== void 0 ? _part_timepoint_seconds : null : (_part_timepoint_end_seconds = part1.timepoint_end_seconds) !== null && _part_timepoint_end_seconds !== void 0 ? _part_timepoint_end_seconds : null;\n        }\n        const sub = Object.values(subpartsByPart).flat().find((s)=>s.id === id);\n        if (!sub) return null;\n        var _sub_timepoint_seconds, _sub_timepoint_end_seconds;\n        return field === \"start\" ? (_sub_timepoint_seconds = sub.timepoint_seconds) !== null && _sub_timepoint_seconds !== void 0 ? _sub_timepoint_seconds : null : (_sub_timepoint_end_seconds = sub.timepoint_end_seconds) !== null && _sub_timepoint_end_seconds !== void 0 ? _sub_timepoint_end_seconds : null;\n    };\n    const assignMarkToTarget = (targetKey, markId)=>{\n        var _rows_flatMap_find;\n        const [type, id, field] = targetKey.split(\":\");\n        const markTime = (_rows_flatMap_find = rows.flatMap((r)=>r.marks).find((m)=>m.id === markId)) === null || _rows_flatMap_find === void 0 ? void 0 : _rows_flatMap_find.time;\n        if (markTime === undefined) return;\n        const oppositeField = field === \"start\" ? \"end\" : \"start\";\n        const assignedOpposite = getAssignedTime(\"\".concat(type, \":\").concat(id, \":\").concat(oppositeField));\n        const existingOpposite = getExistingTime(type, id, oppositeField);\n        const oppositeTime = assignedOpposite !== null && assignedOpposite !== void 0 ? assignedOpposite : existingOpposite;\n        if (field === \"end\" && oppositeTime !== null && markTime < oppositeTime) {\n            alert(\"End time cannot be before start time.\");\n            return;\n        }\n        if (field === \"start\" && oppositeTime !== null && markTime > oppositeTime) {\n            alert(\"Start time cannot be after end time.\");\n            return;\n        }\n        setAssignments((prev)=>{\n            pushAssignmentHistory(targetKey, prev[targetKey]);\n            return {\n                ...prev,\n                [targetKey]: {\n                    markId,\n                    time: markTime\n                }\n            };\n        });\n    };\n    const clearAssignment = (targetKey)=>{\n        setAssignments((prev)=>{\n            pushAssignmentHistory(targetKey, prev[targetKey]);\n            const next = {\n                ...prev\n            };\n            delete next[targetKey];\n            return next;\n        });\n    };\n    const renderTimeTarget = (type, id, field)=>{\n        const targetKey = \"\".concat(type, \":\").concat(id, \":\").concat(field);\n        const assignedValue = assignments[targetKey];\n        const assignedMarkId = typeof assignedValue === \"string\" ? assignedValue : assignedValue === null || assignedValue === void 0 ? void 0 : assignedValue.markId;\n        const assignedTime = getAssignedTime(targetKey);\n        const existingTime = getExistingTime(type, id, field);\n        const showTime = assignedTime !== null ? assignedTime : existingTime;\n        const history = assignmentHistory[targetKey] || [];\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative border border-dashed rounded px-2 py-1 text-xs flex items-center gap-2 \".concat(assignedMarkId ? \"border-emerald-400 bg-emerald-50\" : \"border-gray-300 bg-white\"),\n            onDragOver: (e)=>e.preventDefault(),\n            onDrop: (e)=>{\n                const markId = e.dataTransfer.getData(\"markId\");\n                if (!markId) return;\n                assignMarkToTarget(targetKey, markId);\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-gray-500 uppercase\",\n                    children: field\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                    lineNumber: 650,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"font-semibold text-gray-800\",\n                    children: showTime !== null ? formatTime(showTime) : \"--:--\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                    lineNumber: 651,\n                    columnNumber: 9\n                }, this),\n                assignedMarkId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"ml-1 px-2 py-0.5 rounded-full text-[10px] bg-emerald-600 text-white\",\n                    children: \"Chip\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                    lineNumber: 655,\n                    columnNumber: 11\n                }, this),\n                history.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>undoAssignment(targetKey),\n                    className: \"ml-auto text-[10px] text-gray-700 hover:text-gray-900\",\n                    title: \"Undo last change\",\n                    children: \"Undo\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                    lineNumber: 660,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>setOpenHistoryTarget((prev)=>prev === targetKey ? null : targetKey),\n                    className: \"text-[10px] text-gray-500 hover:text-gray-700\",\n                    title: \"History\",\n                    children: \"Log\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                    lineNumber: 668,\n                    columnNumber: 9\n                }, this),\n                assignedMarkId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>clearAssignment(targetKey),\n                    className: \"ml-auto text-red-600 hover:text-red-800\",\n                    title: \"Remove\",\n                    children: \"x\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                    lineNumber: 676,\n                    columnNumber: 11\n                }, this),\n                openHistoryTarget === targetKey && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute right-0 top-full mt-1 w-44 rounded border border-gray-200 bg-white shadow-lg p-2 text-[10px] text-gray-600 z-20\",\n                    children: [\n                        history.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: \"No history yet\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                            lineNumber: 686,\n                            columnNumber: 38\n                        }, this),\n                        history.map((entry, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"border-b border-gray-100 pb-1 mb-1 last:border-0 last:pb-0 last:mb-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"font-semibold text-gray-800\",\n                                        children: entry.label\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 689,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: entry.at\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 690,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, \"\".concat(entry.at, \"-\").concat(idx), true, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                lineNumber: 688,\n                                columnNumber: 15\n                            }, this))\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                    lineNumber: 685,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n            lineNumber: 639,\n            columnNumber: 7\n        }, this);\n    };\n    const handleSaveSession = async ()=>{\n        const payload = {\n            performance_id: performanceId,\n            title: sessionTitle || \"Marking Session\",\n            rows,\n            assignments\n        };\n        const res = await fetch(\"/api/marking-sessions\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(payload)\n        });\n        if (res.ok) {\n            const created = await res.json();\n            setSessionList((prev)=>[\n                    created,\n                    ...prev\n                ]);\n        }\n    };\n    const handleApply = async ()=>{\n        setSaving(true);\n        try {\n            const updatesByPart = {};\n            const updatesBySubpart = {};\n            Object.entries(assignments).forEach((param)=>{\n                let [key, value] = param;\n                var _rows_flatMap_find;\n                const [type, id, field] = key.split(\":\");\n                const markId = typeof value === \"string\" ? value : value === null || value === void 0 ? void 0 : value.markId;\n                const markTime = typeof value === \"string\" ? (_rows_flatMap_find = rows.flatMap((r)=>r.marks).find((m)=>m.id === value)) === null || _rows_flatMap_find === void 0 ? void 0 : _rows_flatMap_find.time : value === null || value === void 0 ? void 0 : value.time;\n                if (markTime === undefined || markTime === null) return;\n                if (type === \"part\") {\n                    updatesByPart[id] = updatesByPart[id] || {};\n                    updatesByPart[id][field === \"start\" ? \"timepoint_seconds\" : \"timepoint_end_seconds\"] = markTime;\n                } else {\n                    updatesBySubpart[id] = updatesBySubpart[id] || {};\n                    updatesBySubpart[id][field === \"start\" ? \"timepoint_seconds\" : \"timepoint_end_seconds\"] = markTime;\n                }\n            });\n            const updatedParts = [];\n            const updatedSubparts = [];\n            await Promise.all(Object.entries(updatesByPart).map(async (param)=>{\n                let [partId, payload] = param;\n                const res = await fetch(\"/api/parts/\".concat(partId), {\n                    method: \"PUT\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(payload)\n                });\n                if (res.ok) {\n                    const updated = await res.json();\n                    updatedParts.push(updated);\n                }\n            }));\n            await Promise.all(Object.entries(updatesBySubpart).map(async (param)=>{\n                let [subpartId, payload] = param;\n                const res = await fetch(\"/api/subparts/\".concat(subpartId), {\n                    method: \"PUT\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(payload)\n                });\n                if (res.ok) {\n                    const updated = await res.json();\n                    if (updated) updatedSubparts.push(updated);\n                }\n            }));\n            if (updatedParts.length > 0) {\n                onPartsUpdated(parts.map((part1)=>updatedParts.find((u)=>u.id === part1.id) || part1));\n            }\n            if (updatedSubparts.length > 0) {\n                setSubpartsByPart((prev)=>{\n                    const next = {\n                        ...prev\n                    };\n                    updatedSubparts.forEach((sub)=>{\n                        next[sub.part_id] = (next[sub.part_id] || []).map((s)=>s.id === sub.id ? {\n                                ...s,\n                                ...sub\n                            } : s);\n                    });\n                    return next;\n                });\n            }\n        } finally{\n            setSaving(false);\n        }\n    };\n    const handleSaveTimeline = async ()=>{\n        setSaving(true);\n        try {\n            const updatesByPart = {};\n            const updatesBySubpart = {};\n            parts.forEach((part1)=>{\n                const { start, end } = getPartStartEnd(part1);\n                var _partRowOverrides_part_id, _ref;\n                const rowOverride = (_ref = (_partRowOverrides_part_id = partRowOverrides[part1.id]) !== null && _partRowOverrides_part_id !== void 0 ? _partRowOverrides_part_id : part1.timeline_row) !== null && _ref !== void 0 ? _ref : null;\n                if (start !== null || rowOverride !== null) {\n                    updatesByPart[part1.id] = {\n                        timepoint_seconds: start,\n                        timepoint_end_seconds: end !== null && end !== void 0 ? end : null,\n                        timeline_row: rowOverride\n                    };\n                } else if (part1.timeline_row !== null && part1.timeline_row !== undefined) {\n                    updatesByPart[part1.id] = {\n                        timeline_row: null\n                    };\n                }\n            });\n            Object.values(subpartsByPart).flat().forEach((sub)=>{\n                const override = subpartTimelineOverrides[sub.id];\n                var _override_start, _ref;\n                const start = (_ref = (_override_start = override === null || override === void 0 ? void 0 : override.start) !== null && _override_start !== void 0 ? _override_start : sub.timepoint_seconds) !== null && _ref !== void 0 ? _ref : null;\n                var _override_end, _ref1;\n                const end = (_ref1 = (_override_end = override === null || override === void 0 ? void 0 : override.end) !== null && _override_end !== void 0 ? _override_end : sub.timepoint_end_seconds) !== null && _ref1 !== void 0 ? _ref1 : null;\n                if (start !== null) {\n                    updatesBySubpart[sub.id] = {\n                        timepoint_seconds: start,\n                        timepoint_end_seconds: end !== null && end !== void 0 ? end : null\n                    };\n                }\n            });\n            const updatedParts = [];\n            await Promise.all(Object.entries(updatesByPart).map(async (param)=>{\n                let [partId, payload] = param;\n                const res = await fetch(\"/api/parts/\".concat(partId), {\n                    method: \"PUT\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(payload)\n                });\n                if (res.ok) {\n                    const updated = await res.json();\n                    updatedParts.push(updated);\n                }\n            }));\n            await Promise.all(Object.entries(updatesBySubpart).map(async (param)=>{\n                let [subpartId, payload] = param;\n                await fetch(\"/api/subparts/\".concat(subpartId), {\n                    method: \"PUT\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(payload)\n                });\n            }));\n            if (updatedParts.length > 0) {\n                onPartsUpdated(parts.map((part1)=>updatedParts.find((u)=>u.id === part1.id) || part1));\n            }\n        } finally{\n            setSaving(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full -mx-4 px-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white border border-gray-200 rounded-lg p-4 w-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3 mb-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-lg font-semibold text-gray-900\",\n                                    children: \"Timeline\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                    lineNumber: 864,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"ml-auto flex items-center gap-2\",\n                                    children: [\n                                        !musicDuration && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2 text-xs text-gray-600\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Timeline length (sec)\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                    lineNumber: 868,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    min: 10,\n                                                    value: manualTimelineLength,\n                                                    onChange: (e)=>setManualTimelineLength(parseInt(e.target.value || \"0\", 10) || 0),\n                                                    className: \"w-20 px-2 py-1 border border-gray-300 rounded text-xs\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                    lineNumber: 869,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                            lineNumber: 867,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setManualRowCount((prev)=>prev + 1),\n                                            className: \"px-3 py-1 border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-50\",\n                                            children: \"Add Row\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                            lineNumber: 878,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleSaveTimeline,\n                                            disabled: saving,\n                                            className: \"px-3 py-1 bg-indigo-600 text-white rounded text-sm disabled:bg-gray-400\",\n                                            children: saving ? \"Saving...\" : \"Save Timeline\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                            lineNumber: 884,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                    lineNumber: 865,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                            lineNumber: 863,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-xs text-gray-500\",\n                            children: \"Drag parts to move them. Drop chips or type times to set Start/End.\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                            lineNumber: 893,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-3 space-y-4\",\n                            children: [\n                                timelineData.rows.map((row, rowIndex)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 text-xs font-semibold text-gray-600\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            \"Row \",\n                                                            rowIndex + 1\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 900,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    rowIndex >= timelineData.autoRowCount && row.items.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>setManualRowCount((prev)=>Math.max(1, prev - 1)),\n                                                        className: \"ml-auto text-[11px] text-gray-500 hover:text-gray-800\",\n                                                        children: \"Remove row\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 902,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 899,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                ref: rowIndex === 0 ? timelineRef : undefined,\n                                                className: \"relative h-36 border border-gray-200 rounded bg-gray-50 overflow-visible\",\n                                                onDragOver: (e)=>e.preventDefault(),\n                                                onDrop: (e)=>{\n                                                    const partId = e.dataTransfer.getData(\"partId\");\n                                                    if (!partId) return;\n                                                    const rect = e.currentTarget.getBoundingClientRect();\n                                                    const ratio = (e.clientX - rect.left) / rect.width;\n                                                    const start = Math.max(0, Math.min(timelineLength - timelineDefaultDuration, Math.round(ratio * timelineLength)));\n                                                    const part1 = parts.find((p)=>p.id === partId);\n                                                    const { start: existingStart, end: existingEnd } = part1 ? getPartStartEnd(part1) : {\n                                                        start: null,\n                                                        end: null\n                                                    };\n                                                    const duration = existingStart !== null && existingEnd !== null ? existingEnd - existingStart : timelineDefaultDuration;\n                                                    setPartStartEnd(partId, start, start + Math.max(1, duration));\n                                                    setPartRowOverrides((prev)=>({\n                                                            ...prev,\n                                                            [partId]: rowIndex\n                                                        }));\n                                                },\n                                                children: row.items.map((item)=>{\n                                                    const left = item.start / timelineLength * 100;\n                                                    const width = (item.end - item.start) / timelineLength * 100;\n                                                    const part1 = parts.find((p)=>p.id === item.id);\n                                                    const subparts = part1 ? subpartsByPart[part1.id] || [] : [];\n                                                    const partColor = partColorClasses[item.id] || \"bg-white border-gray-300 text-gray-900\";\n                                                    const { start, end } = part1 ? getPartStartEnd(part1) : {\n                                                        start: null,\n                                                        end: null\n                                                    };\n                                                    var _partStartInput_item_id, _partEndInput_item_id;\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"absolute top-2 h-[120px] rounded border px-3 py-2 shadow-sm cursor-move \".concat(partColor, \" \").concat(item.missingEnd ? \"border-blue-400\" : \"\"),\n                                                        style: {\n                                                            left: \"\".concat(left, \"%\"),\n                                                            width: \"\".concat(Math.max(4, width), \"%\")\n                                                        },\n                                                        onMouseDown: (e)=>{\n                                                            const target = e.target;\n                                                            if ([\n                                                                \"INPUT\",\n                                                                \"TEXTAREA\",\n                                                                \"BUTTON\"\n                                                            ].includes(target.tagName)) return;\n                                                            if (!timelineRef.current) return;\n                                                            const rect = timelineRef.current.getBoundingClientRect();\n                                                            const ratio = (e.clientX - rect.left) / rect.width;\n                                                            const offsetSec = ratio * timelineLength - item.start;\n                                                            dragStateRef.current = {\n                                                                partId: item.id,\n                                                                duration: item.end - item.start,\n                                                                offsetSec\n                                                            };\n                                                            setDraggingPartId(item.id);\n                                                            setDragPreview({\n                                                                partId: item.id,\n                                                                time: item.start\n                                                            });\n                                                        },\n                                                        children: [\n                                                            (dragPreview === null || dragPreview === void 0 ? void 0 : dragPreview.partId) === item.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"absolute -top-6 left-0 px-2 py-0.5 rounded bg-gray-900 text-white text-[10px]\",\n                                                                children: formatTimeDetailed(dragPreview.time)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                lineNumber: 960,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-sm font-semibold truncate\",\n                                                                children: item.name\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                lineNumber: 964,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"mt-2 grid grid-cols-2 gap-1 text-[11px]\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"border border-dashed rounded px-1 py-0.5 \".concat(item.missingEnd ? \"border-blue-400 bg-blue-50\" : \"border-gray-300 bg-white\"),\n                                                                        onDragOver: (e)=>e.preventDefault(),\n                                                                        onDrop: (e)=>{\n                                                                            const markId = e.dataTransfer.getData(\"markId\");\n                                                                            if (!markId) return;\n                                                                            const markTime = getMarkTimeById(markId);\n                                                                            if (markTime === null) return;\n                                                                            const nextEnd = end !== null && markTime > end ? markTime : end;\n                                                                            setPartStartEnd(item.id, markTime, nextEnd);\n                                                                        },\n                                                                        children: [\n                                                                            \"Start:\",\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                className: \"ml-1 w-12 bg-transparent\",\n                                                                                value: (_partStartInput_item_id = partStartInput[item.id]) !== null && _partStartInput_item_id !== void 0 ? _partStartInput_item_id : start !== null ? formatTime(start) : \"\",\n                                                                                onChange: (e)=>setPartStartInput((prev)=>({\n                                                                                            ...prev,\n                                                                                            [item.id]: e.target.value\n                                                                                        })),\n                                                                                onKeyDown: (e)=>{\n                                                                                    if (e.key !== \"Enter\") return;\n                                                                                    var _partStartInput_item_id;\n                                                                                    const value = parseTimeString((_partStartInput_item_id = partStartInput[item.id]) !== null && _partStartInput_item_id !== void 0 ? _partStartInput_item_id : \"\");\n                                                                                    if (value === null) return;\n                                                                                    if (end !== null && value > end) return;\n                                                                                    setPartStartEnd(item.id, value, end);\n                                                                                    setPartStartInput((prev)=>({\n                                                                                            ...prev,\n                                                                                            [item.id]: \"\"\n                                                                                        }));\n                                                                                }\n                                                                            }, void 0, false, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                                lineNumber: 981,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                        lineNumber: 966,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"border border-dashed rounded px-1 py-0.5 \".concat(item.missingEnd ? \"border-blue-400 bg-blue-50\" : \"border-gray-300 bg-white\"),\n                                                                        onDragOver: (e)=>e.preventDefault(),\n                                                                        onDrop: (e)=>{\n                                                                            const markId = e.dataTransfer.getData(\"markId\");\n                                                                            if (!markId) return;\n                                                                            const markTime = getMarkTimeById(markId);\n                                                                            if (markTime === null) return;\n                                                                            if (start !== null && markTime < start) return;\n                                                                            setPartStartEnd(item.id, start, markTime);\n                                                                        },\n                                                                        children: [\n                                                                            \"End:\",\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                className: \"ml-1 w-12 bg-transparent\",\n                                                                                value: (_partEndInput_item_id = partEndInput[item.id]) !== null && _partEndInput_item_id !== void 0 ? _partEndInput_item_id : end !== null ? formatTime(end) : \"\",\n                                                                                onChange: (e)=>setPartEndInput((prev)=>({\n                                                                                            ...prev,\n                                                                                            [item.id]: e.target.value\n                                                                                        })),\n                                                                                onKeyDown: (e)=>{\n                                                                                    if (e.key !== \"Enter\") return;\n                                                                                    var _partEndInput_item_id;\n                                                                                    const value = parseTimeString((_partEndInput_item_id = partEndInput[item.id]) !== null && _partEndInput_item_id !== void 0 ? _partEndInput_item_id : \"\");\n                                                                                    if (value === null) return;\n                                                                                    if (start !== null && value < start) return;\n                                                                                    setPartStartEnd(item.id, start, value);\n                                                                                    setPartEndInput((prev)=>({\n                                                                                            ...prev,\n                                                                                            [item.id]: \"\"\n                                                                                        }));\n                                                                                }\n                                                                            }, void 0, false, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                                lineNumber: 1012,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                        lineNumber: 997,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                lineNumber: 965,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            subparts.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"mt-2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex flex-wrap gap-1\",\n                                                                        children: subparts.map((sub)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"px-2 py-0.5 rounded-full bg-white/80 text-[10px] border border-gray-200\",\n                                                                                title: sub.title,\n                                                                                children: sub.title\n                                                                            }, sub.id, false, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                                lineNumber: 1033,\n                                                                                columnNumber: 33\n                                                                            }, this))\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                        lineNumber: 1031,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        onClick: ()=>setOpenSubpartsPartId((prev)=>prev === item.id ? null : item.id),\n                                                                        className: \"mt-2 text-[11px] text-blue-700 hover:text-blue-900 underline\",\n                                                                        children: openSubpartsPartId === item.id ? \"Hide subparts\" : \"Subparts\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                        lineNumber: 1042,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                lineNumber: 1030,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            openSubpartsPartId === item.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"absolute left-0 top-full mt-2 w-72 bg-white border border-gray-200 rounded-lg shadow-lg p-3 z-20\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-xs font-semibold text-gray-800 mb-2\",\n                                                                        children: [\n                                                                            \"Subparts for \",\n                                                                            item.name\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                        lineNumber: 1054,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"space-y-2\",\n                                                                        children: subparts.map((sub)=>{\n                                                                            const subTimes = getSubpartStartEnd(sub);\n                                                                            var _subpartStartInput_sub_id, _subpartEndInput_sub_id;\n                                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"flex-1 min-w-0\",\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                className: \"font-semibold text-gray-800 truncate\",\n                                                                                                children: sub.title\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                                                lineNumber: 1063,\n                                                                                                columnNumber: 39\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                className: \"mt-1 flex items-center gap-1\",\n                                                                                                children: [\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                                        className: \"w-12 bg-white border border-gray-200 rounded px-1\",\n                                                                                                        value: (_subpartStartInput_sub_id = subpartStartInput[sub.id]) !== null && _subpartStartInput_sub_id !== void 0 ? _subpartStartInput_sub_id : subTimes.start !== null ? formatTime(subTimes.start) : \"\",\n                                                                                                        onChange: (e)=>setSubpartStartInput((prev)=>({\n                                                                                                                    ...prev,\n                                                                                                                    [sub.id]: e.target.value\n                                                                                                                })),\n                                                                                                        onKeyDown: (e)=>{\n                                                                                                            if (e.key !== \"Enter\") return;\n                                                                                                            var _subpartStartInput_sub_id;\n                                                                                                            const value = parseTimeString((_subpartStartInput_sub_id = subpartStartInput[sub.id]) !== null && _subpartStartInput_sub_id !== void 0 ? _subpartStartInput_sub_id : \"\");\n                                                                                                            if (value === null) return;\n                                                                                                            if (subTimes.end !== null && value > subTimes.end) return;\n                                                                                                            setSubpartStartEnd(sub.id, value, subTimes.end);\n                                                                                                            setSubpartStartInput((prev)=>({\n                                                                                                                    ...prev,\n                                                                                                                    [sub.id]: \"\"\n                                                                                                                }));\n                                                                                                        }\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                                                        lineNumber: 1065,\n                                                                                                        columnNumber: 41\n                                                                                                    }, this),\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                                        className: \"w-12 bg-white border border-gray-200 rounded px-1\",\n                                                                                                        value: (_subpartEndInput_sub_id = subpartEndInput[sub.id]) !== null && _subpartEndInput_sub_id !== void 0 ? _subpartEndInput_sub_id : subTimes.end !== null ? formatTime(subTimes.end) : \"\",\n                                                                                                        onChange: (e)=>setSubpartEndInput((prev)=>({\n                                                                                                                    ...prev,\n                                                                                                                    [sub.id]: e.target.value\n                                                                                                                })),\n                                                                                                        onKeyDown: (e)=>{\n                                                                                                            if (e.key !== \"Enter\") return;\n                                                                                                            var _subpartEndInput_sub_id;\n                                                                                                            const value = parseTimeString((_subpartEndInput_sub_id = subpartEndInput[sub.id]) !== null && _subpartEndInput_sub_id !== void 0 ? _subpartEndInput_sub_id : \"\");\n                                                                                                            if (value === null) return;\n                                                                                                            if (subTimes.start !== null && value < subTimes.start) return;\n                                                                                                            setSubpartStartEnd(sub.id, subTimes.start, value);\n                                                                                                            setSubpartEndInput((prev)=>({\n                                                                                                                    ...prev,\n                                                                                                                    [sub.id]: \"\"\n                                                                                                                }));\n                                                                                                        }\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                                                        lineNumber: 1080,\n                                                                                                        columnNumber: 41\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                                                lineNumber: 1064,\n                                                                                                columnNumber: 39\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                                        lineNumber: 1062,\n                                                                                        columnNumber: 37\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"flex flex-col gap-1\",\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                                onClick: ()=>moveSubpart(item.id, sub.id, \"up\"),\n                                                                                                className: \"px-2 py-0.5 border border-gray-200 rounded text-[10px]\",\n                                                                                                children: \"Up\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                                                lineNumber: 1098,\n                                                                                                columnNumber: 39\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                                onClick: ()=>moveSubpart(item.id, sub.id, \"down\"),\n                                                                                                className: \"px-2 py-0.5 border border-gray-200 rounded text-[10px]\",\n                                                                                                children: \"Down\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                                                lineNumber: 1104,\n                                                                                                columnNumber: 39\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                                        lineNumber: 1097,\n                                                                                        columnNumber: 37\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, sub.id, true, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                                lineNumber: 1061,\n                                                                                columnNumber: 35\n                                                                            }, this);\n                                                                        })\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                        lineNumber: 1057,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                lineNumber: 1053,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, item.id, true, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 937,\n                                                        columnNumber: 23\n                                                    }, this);\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 912,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, row.id, true, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 898,\n                                        columnNumber: 15\n                                    }, this)),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs font-semibold text-gray-600\",\n                                            children: \"Unassigned\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                            lineNumber: 1124,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex flex-wrap gap-2\",\n                                            children: [\n                                                timelineData.unassigned.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-gray-500\",\n                                                    children: \"All parts assigned\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                    lineNumber: 1127,\n                                                    columnNumber: 19\n                                                }, this),\n                                                timelineData.unassigned.map((part1)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        draggable: true,\n                                                        onDragStart: (e)=>e.dataTransfer.setData(\"partId\", part1.id),\n                                                        className: \"px-2 py-1 rounded text-xs cursor-move \".concat(partColorClasses[part1.id] || \"bg-gray-200 text-gray-800\"),\n                                                        children: part1.name\n                                                    }, part1.id, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 1130,\n                                                        columnNumber: 19\n                                                    }, this))\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                            lineNumber: 1125,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                    lineNumber: 1123,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                            lineNumber: 896,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                    lineNumber: 862,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                lineNumber: 861,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid grid-cols-1 xl:grid-cols-[320px_1fr] gap-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white border border-gray-200 rounded-lg p-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xl font-bold text-gray-900 mb-2\",\n                                children: \"Parts & Subparts\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                lineNumber: 1146,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs text-gray-500 mb-4\",\n                                children: \"Drop time chips onto Start/End. Only dropped chips change timepoints when saved.\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                lineNumber: 1147,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-4\",\n                                children: parts.map((part1)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"border border-gray-200 rounded-lg p-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"font-semibold text-gray-900 mb-2\",\n                                                children: part1.name\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 1153,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"grid grid-cols-2 gap-2 mb-2\",\n                                                children: [\n                                                    renderTimeTarget(\"part\", part1.id, \"start\"),\n                                                    renderTimeTarget(\"part\", part1.id, \"end\")\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 1154,\n                                                columnNumber: 17\n                                            }, this),\n                                            (subpartsByPart[part1.id] || []).length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 space-y-2\",\n                                                children: (subpartsByPart[part1.id] || []).map((sub)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"border border-gray-100 rounded p-2 bg-gray-50\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-sm font-semibold text-gray-800\",\n                                                                children: sub.title\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                lineNumber: 1162,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"grid grid-cols-2 gap-2 mt-2\",\n                                                                children: [\n                                                                    renderTimeTarget(\"subpart\", sub.id, \"start\"),\n                                                                    renderTimeTarget(\"subpart\", sub.id, \"end\")\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                lineNumber: 1163,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, sub.id, true, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 1161,\n                                                        columnNumber: 23\n                                                    }, this))\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 1159,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-3 flex items-center gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"text\",\n                                                        value: newSubpartTitle[part1.id] || \"\",\n                                                        onChange: (e)=>setNewSubpartTitle((prev)=>({\n                                                                    ...prev,\n                                                                    [part1.id]: e.target.value\n                                                                })),\n                                                        placeholder: \"Add subpart\",\n                                                        className: \"flex-1 px-2 py-1 border border-gray-300 rounded text-xs\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 1172,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: async ()=>{\n                                                            const title = (newSubpartTitle[part1.id] || \"\").trim();\n                                                            if (!title) return;\n                                                            const nextOrder = (subpartsByPart[part1.id] || []).length + 1;\n                                                            const res = await fetch(\"/api/subparts\", {\n                                                                method: \"POST\",\n                                                                headers: {\n                                                                    \"Content-Type\": \"application/json\"\n                                                                },\n                                                                body: JSON.stringify({\n                                                                    part_id: part1.id,\n                                                                    title,\n                                                                    order: nextOrder\n                                                                })\n                                                            });\n                                                            if (res.ok) {\n                                                                const created = await res.json();\n                                                                setSubpartsByPart((prev)=>({\n                                                                        ...prev,\n                                                                        [part1.id]: [\n                                                                            ...prev[part1.id] || [],\n                                                                            created\n                                                                        ]\n                                                                    }));\n                                                                setNewSubpartTitle((prev)=>({\n                                                                        ...prev,\n                                                                        [part1.id]: \"\"\n                                                                    }));\n                                                            }\n                                                        },\n                                                        className: \"px-2 py-1 bg-gray-900 text-white rounded text-xs\",\n                                                        children: \"Add\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 1181,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 1171,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, part1.id, true, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 1152,\n                                        columnNumber: 15\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                lineNumber: 1150,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                        lineNumber: 1145,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white border border-gray-200 rounded-lg p-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex flex-wrap items-center gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xl font-bold text-gray-900\",\n                                                children: \"Marking Session\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 1213,\n                                                columnNumber: 13\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-auto flex gap-2 items-center\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: sessionTitle,\n                                                        onChange: (e)=>{\n                                                            setSessionTitle(e.target.value);\n                                                            setCustomTitle(true);\n                                                        },\n                                                        className: \"px-3 py-1 border border-gray-300 rounded text-sm\",\n                                                        placeholder: \"Session title\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 1215,\n                                                        columnNumber: 15\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: handleSaveSession,\n                                                        className: \"px-3 py-1 bg-gray-900 text-white rounded text-sm\",\n                                                        children: \"Save Session\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 1224,\n                                                        columnNumber: 15\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: handleApply,\n                                                        disabled: saving,\n                                                        className: \"px-3 py-1 bg-blue-600 text-white rounded text-sm disabled:bg-gray-400\",\n                                                        children: saving ? \"Saving...\" : \"Apply Timepoints\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 1230,\n                                                        columnNumber: 15\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 1214,\n                                                columnNumber: 13\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 1212,\n                                        columnNumber: 11\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-gray-500 mt-2\",\n                                        children: \"Hotkeys: Space = mark time, E = new row. Works while music is playing or paused.\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 1239,\n                                        columnNumber: 11\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-gray-500 mt-1\",\n                                        children: [\n                                            \"Music length: \",\n                                            musicDuration ? formatTime(musicDuration) : \"\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 1242,\n                                        columnNumber: 11\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-3 bg-gray-50 border border-dashed border-gray-300 rounded p-3 text-xs text-gray-500\",\n                                        children: \"Waveform view: not available yet. We can add a waveform preview in a follow-up.\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 1245,\n                                        columnNumber: 11\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-3 flex flex-wrap items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                value: selectedSessionId,\n                                                onChange: async (e)=>{\n                                                    const id = e.target.value;\n                                                    setSelectedSessionId(id);\n                                                    if (!id) return;\n                                                    const res = await fetch(\"/api/marking-sessions/\".concat(id));\n                                                    if (!res.ok) return;\n                                                    const data = await res.json();\n                                                    setSessionTitle(data.title || \"Marking Session\");\n                                                    setCustomTitle(true);\n                                                    const nextRows = (data.rows || []).map((row)=>({\n                                                            ...row,\n                                                            note: row.note || \"\"\n                                                        }));\n                                                    setRows(nextRows);\n                                                    setAssignments(normalizeAssignments(nextRows, data.assignments || {}));\n                                                },\n                                                className: \"px-2 py-1 border border-gray-300 rounded text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                        value: \"\",\n                                                        children: \"Load saved session...\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 1269,\n                                                        columnNumber: 15\n                                                    }, this),\n                                                    sessionList.map((sess)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: sess.id,\n                                                            children: [\n                                                                sess.title || \"Untitled\",\n                                                                \" \\xef\\xbf\\xbd \",\n                                                                performanceNameMap[sess.performance_id] || \"Performance\",\n                                                                \" \\xef\\xbf\\xbd \",\n                                                                new Date(sess.created_at).toLocaleString()\n                                                            ]\n                                                        }, sess.id, true, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                            lineNumber: 1271,\n                                                            columnNumber: 17\n                                                        }, this))\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 1249,\n                                                columnNumber: 13\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-xs text-gray-600 flex items-center gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"checkbox\",\n                                                        checked: allSessions,\n                                                        onChange: (e)=>setAllSessions(e.target.checked),\n                                                        className: \"h-4 w-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 1277,\n                                                        columnNumber: 15\n                                                    }, this),\n                                                    \"Show sessions from all performances\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 1276,\n                                                columnNumber: 13\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    const firstRow = {\n                                                        id: uuid(),\n                                                        label: \"Row 1\",\n                                                        note: \"\",\n                                                        marks: []\n                                                    };\n                                                    setRows([\n                                                        firstRow\n                                                    ]);\n                                                    setActiveRowId(firstRow.id);\n                                                    setAssignments({});\n                                                    setSelectedSessionId(\"\");\n                                                    setCustomTitle(false);\n                                                },\n                                                className: \"px-2 py-1 border border-gray-300 rounded text-sm\",\n                                                children: \"New Session\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 1285,\n                                                columnNumber: 13\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 1248,\n                                        columnNumber: 11\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                lineNumber: 1211,\n                                columnNumber: 9\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white border border-gray-200 rounded-lg p-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-lg font-semibold text-gray-900 mb-3\",\n                                        children: \"Mark Chips\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 1302,\n                                        columnNumber: 11\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-4\",\n                                        children: rows.map((row)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                onClick: ()=>setActiveRowId(row.id),\n                                                className: \"border rounded-lg p-3 cursor-pointer \".concat(activeRowId === row.id ? \"border-blue-400 bg-blue-50\" : \"border-gray-200\"),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-3 mb-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>setActiveRowId(row.id),\n                                                                className: \"px-2 py-1 rounded text-xs font-semibold \".concat(activeRowId === row.id ? \"bg-blue-600 text-white\" : \"bg-gray-100 text-gray-700\"),\n                                                                children: row.label\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                lineNumber: 1313,\n                                                                columnNumber: 19\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs text-gray-500\",\n                                                                children: \"Drop chips into the empty slot to organize.\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                lineNumber: 1321,\n                                                                columnNumber: 19\n                                                            }, this),\n                                                            rows.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: (e)=>{\n                                                                    e.stopPropagation();\n                                                                    setRows((prev)=>prev.filter((r)=>r.id !== row.id));\n                                                                    if (activeRowId === row.id) {\n                                                                        const fallback = rows.find((r)=>r.id !== row.id);\n                                                                        setActiveRowId(fallback ? fallback.id : null);\n                                                                    }\n                                                                },\n                                                                className: \"ml-auto text-xs text-red-600 hover:text-red-800\",\n                                                                children: \"Delete Row\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                lineNumber: 1323,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 1312,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: row.note || \"\",\n                                                        onChange: (e)=>setRows((prev)=>prev.map((r)=>r.id === row.id ? {\n                                                                        ...r,\n                                                                        note: e.target.value\n                                                                    } : r)),\n                                                        placeholder: \"Row notes...\",\n                                                        className: \"w-full px-2 py-1 border border-gray-200 rounded text-xs mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 1338,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex flex-wrap gap-2\",\n                                                        children: [\n                                                            row.marks.map((mark)=>{\n                                                                const usage = assignedMarkCounts[mark.id] || 0;\n                                                                const colorClass = usage >= 2 ? \"bg-gray-200 text-gray-700\" : usage === 1 ? \"bg-yellow-200 text-yellow-900\" : \"bg-indigo-100 text-indigo-800\";\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    draggable: true,\n                                                                    onDragStart: (e)=>{\n                                                                        e.dataTransfer.setData(\"markId\", mark.id);\n                                                                    },\n                                                                    className: \"px-2 py-1 rounded text-xs cursor-move \".concat(colorClass),\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center gap-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: formatTime(mark.time)\n                                                                            }, void 0, false, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                                lineNumber: 1367,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: ()=>handleRemoveMark(row.id, mark.id),\n                                                                                className: \"text-[10px] text-gray-600 hover:text-gray-800\",\n                                                                                title: \"Remove chip\",\n                                                                                children: \"\\xef\\xbf\\xbd\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                                lineNumber: 1368,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                        lineNumber: 1366,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                }, mark.id, false, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                    lineNumber: 1358,\n                                                                    columnNumber: 21\n                                                                }, this);\n                                                            }),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"px-2 py-1 border border-dashed border-gray-300 rounded text-xs text-gray-500\",\n                                                                onDragOver: (e)=>e.preventDefault(),\n                                                                onDrop: (e)=>{\n                                                                    const markId = e.dataTransfer.getData(\"markId\");\n                                                                    if (!markId) return;\n                                                                    handleDropToRow(row.id, markId);\n                                                                },\n                                                                children: \"Empty slot\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                                lineNumber: 1379,\n                                                                columnNumber: 19\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 1348,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mt-2 text-[11px] text-gray-500\",\n                                                        children: [\n                                                            \"Times:\",\n                                                            \" \",\n                                                            row.marks.length === 0 ? \"\" : row.marks.map((m)=>formatTime(m.time)).join(\", \")\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                        lineNumber: 1391,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, row.id, true, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                                lineNumber: 1305,\n                                                columnNumber: 15\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                        lineNumber: 1303,\n                                        columnNumber: 11\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                lineNumber: 1301,\n                                columnNumber: 9\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white border border-gray-200 rounded-lg p-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MusicPlayer__WEBPACK_IMPORTED_MODULE_2__.MusicPlayer, {\n                                    musicUrl: musicUrl || undefined,\n                                    onTimeUpdate: (t)=>setCurrentTime(t),\n                                    onAudioReady: handleAudioReady,\n                                    audioRef: audioRef\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                    lineNumber: 1403,\n                                    columnNumber: 11\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                                lineNumber: 1402,\n                                columnNumber: 9\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                        lineNumber: 1210,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n                lineNumber: 1144,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\MarkingPanel.tsx\",\n        lineNumber: 860,\n        columnNumber: 5\n    }, this);\n}\n_s(MarkingPanel, \"L/CRIXecufvcPYGsohAkgFMdnRA=\");\n_c = MarkingPanel;\nvar _c;\n$RefreshReg$(_c, \"MarkingPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL01hcmtpbmdQYW5lbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUU2RDtBQUNOO0FBOEN2RCxTQUFTSyxXQUFXQyxPQUFlO0lBQ2pDLE1BQU1DLFFBQVFDLEtBQUtDLEdBQUcsQ0FBQyxHQUFHRCxLQUFLRSxLQUFLLENBQUNKO0lBQ3JDLE1BQU1LLE9BQU9ILEtBQUtFLEtBQUssQ0FBQ0gsUUFBUTtJQUNoQyxNQUFNSyxPQUFPTCxRQUFRO0lBQ3JCLE9BQU8sR0FBV0ssT0FBUkQsTUFBSyxLQUFvQyxPQUFqQ0MsS0FBS0MsUUFBUSxHQUFHQyxRQUFRLENBQUMsR0FBRztBQUNoRDtBQUVBLFNBQVNDLG1CQUFtQlQsT0FBZTtJQUN6QyxNQUFNQyxRQUFRQyxLQUFLQyxHQUFHLENBQUMsR0FBR0QsS0FBS0UsS0FBSyxDQUFDSjtJQUNyQyxNQUFNVSxRQUFRUixLQUFLRSxLQUFLLENBQUNILFFBQVE7SUFDakMsTUFBTUksT0FBT0gsS0FBS0UsS0FBSyxDQUFDLFFBQVMsT0FBUTtJQUN6QyxNQUFNRSxPQUFPTCxRQUFRO0lBQ3JCLElBQUlTLFFBQVEsR0FBRztRQUNiLE9BQU8sR0FBWUwsT0FBVEssT0FBTSxLQUF1Q0osT0FBcENELEtBQUtFLFFBQVEsR0FBR0MsUUFBUSxDQUFDLEdBQUcsTUFBSyxLQUFvQyxPQUFqQ0YsS0FBS0MsUUFBUSxHQUFHQyxRQUFRLENBQUMsR0FBRztJQUNyRjtJQUNBLE9BQU8sR0FBV0YsT0FBUkQsTUFBSyxLQUFvQyxPQUFqQ0MsS0FBS0MsUUFBUSxHQUFHQyxRQUFRLENBQUMsR0FBRztBQUNoRDtBQUVBLFNBQVNHLGdCQUFnQkMsS0FBYTtJQUNwQyxJQUFJLENBQUNBLE9BQU8sT0FBTztJQUNuQixNQUFNQyxVQUFVRCxNQUFNRSxJQUFJO0lBQzFCLElBQUksQ0FBQ0QsU0FBUyxPQUFPO0lBQ3JCLElBQUksZ0JBQWdCRSxJQUFJLENBQUNGLFVBQVUsT0FBT1gsS0FB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OzswQ0FnR25CLDhEQUFDa0s7Z0NBQUlDLFdBQVU7MENBQ2IsNEVBQUN2USxnRUFBV0E7b0NBQ1ZnQyxVQUFVQSxZQUFZb0k7b0NBQ3RCMkosY0FBYyxDQUFDQyxJQUFNeFIsZUFBZXdSO29DQUNwQ0MsY0FBYzNMO29DQUNkdEUsVUFBVUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT3RCO0dBL3lDZ0JsQztLQUFBQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxjYWx2aVxcRGVza3RvcFxcUGVyZlRvb2xcXHNyY1xcY29tcG9uZW50c1xcTWFya2luZ1BhbmVsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBNdXNpY1BsYXllciB9IGZyb20gXCJAL2NvbXBvbmVudHMvTXVzaWNQbGF5ZXJcIjtcblxuaW50ZXJmYWNlIFBhcnRJdGVtIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICB0aW1lcG9pbnRfc2Vjb25kcz86IG51bWJlciB8IG51bGw7XG4gIHRpbWVwb2ludF9lbmRfc2Vjb25kcz86IG51bWJlciB8IG51bGw7XG4gIHRpbWVsaW5lX3Jvdz86IG51bWJlciB8IG51bGw7XG59XG5cbmludGVyZmFjZSBTdWJwYXJ0SXRlbSB7XG4gIGlkOiBzdHJpbmc7XG4gIHBhcnRfaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgdGltZXBvaW50X3NlY29uZHM/OiBudW1iZXIgfCBudWxsO1xuICB0aW1lcG9pbnRfZW5kX3NlY29uZHM/OiBudW1iZXIgfCBudWxsO1xufVxuXG5pbnRlcmZhY2UgTWFyayB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpbWU6IG51bWJlcjtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBNYXJrUm93IHtcbiAgaWQ6IHN0cmluZztcbiAgbGFiZWw6IHN0cmluZztcbiAgbm90ZT86IHN0cmluZztcbiAgbWFya3M6IE1hcmtbXTtcbn1cblxudHlwZSBBc3NpZ25tZW50VmFsdWUgPVxuICB8IHN0cmluZ1xuICB8IHtcbiAgICAgIG1hcmtJZD86IHN0cmluZztcbiAgICAgIHRpbWU6IG51bWJlcjtcbiAgICB9O1xuXG5pbnRlcmZhY2UgTWFya2luZ1BhbmVsUHJvcHMge1xuICBwZXJmb3JtYW5jZUlkOiBzdHJpbmc7XG4gIHBhcnRzOiBQYXJ0SXRlbVtdO1xuICBtdXNpY1VybD86IHN0cmluZyB8IG51bGw7XG4gIHBlcmZvcm1hbmNlVGl0bGU/OiBzdHJpbmc7XG4gIG9uUGFydHNVcGRhdGVkOiAocGFydHM6IFBhcnRJdGVtW10pID0+IHZvaWQ7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFRpbWUoc2Vjb25kczogbnVtYmVyKSB7XG4gIGNvbnN0IHRvdGFsID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihzZWNvbmRzKSk7XG4gIGNvbnN0IG1pbnMgPSBNYXRoLmZsb29yKHRvdGFsIC8gNjApO1xuICBjb25zdCBzZWNzID0gdG90YWwgJSA2MDtcbiAgcmV0dXJuIGAke21pbnN9OiR7c2Vjcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX1gO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRUaW1lRGV0YWlsZWQoc2Vjb25kczogbnVtYmVyKSB7XG4gIGNvbnN0IHRvdGFsID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihzZWNvbmRzKSk7XG4gIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcih0b3RhbCAvIDM2MDApO1xuICBjb25zdCBtaW5zID0gTWF0aC5mbG9vcigodG90YWwgJSAzNjAwKSAvIDYwKTtcbiAgY29uc3Qgc2VjcyA9IHRvdGFsICUgNjA7XG4gIGlmIChob3VycyA+IDApIHtcbiAgICByZXR1cm4gYCR7aG91cnN9OiR7bWlucy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX06JHtzZWNzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfWA7XG4gIH1cbiAgcmV0dXJuIGAke21pbnN9OiR7c2Vjcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX1gO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRpbWVTdHJpbmcodmFsdWU6IHN0cmluZyk6IG51bWJlciB8IG51bGwge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgdHJpbW1lZCA9IHZhbHVlLnRyaW0oKTtcbiAgaWYgKCF0cmltbWVkKSByZXR1cm4gbnVsbDtcbiAgaWYgKC9eXFxkKyhcXC5cXGQrKT8kLy50ZXN0KHRyaW1tZWQpKSByZXR1cm4gTWF0aC5tYXgoMCwgcGFyc2VGbG9hdCh0cmltbWVkKSk7XG4gIGNvbnN0IHBhcnRzID0gdHJpbW1lZC5zcGxpdChcIjpcIik7XG4gIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHtcbiAgICBjb25zdCBtaW5zID0gcGFyc2VJbnQocGFydHNbMF0sIDEwKTtcbiAgICBjb25zdCBzZWNzID0gcGFyc2VGbG9hdChwYXJ0c1sxXSk7XG4gICAgaWYgKE51bWJlci5pc05hTihtaW5zKSB8fCBOdW1iZXIuaXNOYU4oc2VjcykpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBNYXRoLm1heCgwLCBtaW5zICogNjAgKyBzZWNzKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gdXVpZCgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIsIDEwKSArIERhdGUubm93KCkudG9TdHJpbmcoMzYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTWFya2luZ1BhbmVsKHsgcGVyZm9ybWFuY2VJZCwgcGFydHMsIG11c2ljVXJsLCBwZXJmb3JtYW5jZVRpdGxlLCBvblBhcnRzVXBkYXRlZCB9OiBNYXJraW5nUGFuZWxQcm9wcykge1xuICBjb25zdCBbcm93cywgc2V0Um93c10gPSB1c2VTdGF0ZTxNYXJrUm93W10+KFtdKTtcbiAgY29uc3QgW2FjdGl2ZVJvd0lkLCBzZXRBY3RpdmVSb3dJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2N1cnJlbnRUaW1lLCBzZXRDdXJyZW50VGltZV0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2Fzc2lnbm1lbnRzLCBzZXRBc3NpZ25tZW50c10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBBc3NpZ25tZW50VmFsdWU+Pih7fSk7XG4gIGNvbnN0IFtzdWJwYXJ0c0J5UGFydCwgc2V0U3VicGFydHNCeVBhcnRdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgU3VicGFydEl0ZW1bXT4+KHt9KTtcbiAgY29uc3QgW25ld1N1YnBhcnRUaXRsZSwgc2V0TmV3U3VicGFydFRpdGxlXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KHt9KTtcbiAgY29uc3QgW3NhdmluZywgc2V0U2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nlc3Npb25UaXRsZSwgc2V0U2Vzc2lvblRpdGxlXSA9IHVzZVN0YXRlKFwiTmV3IE1hcmtpbmcgU2Vzc2lvblwiKTtcbiAgY29uc3QgW2N1c3RvbVRpdGxlLCBzZXRDdXN0b21UaXRsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzZXNzaW9uTGlzdCwgc2V0U2Vzc2lvbkxpc3RdID0gdXNlU3RhdGU8YW55W10+KFtdKTtcbiAgY29uc3QgW3NlbGVjdGVkU2Vzc2lvbklkLCBzZXRTZWxlY3RlZFNlc3Npb25JZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbYWxsU2Vzc2lvbnMsIHNldEFsbFNlc3Npb25zXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3BlcmZvcm1hbmNlTmFtZU1hcCwgc2V0UGVyZm9ybWFuY2VOYW1lTWFwXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KHt9KTtcbiAgY29uc3QgW211c2ljRHVyYXRpb24sIHNldE11c2ljRHVyYXRpb25dID0gdXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGF1ZGlvQ2xlYW51cFJlZiA9IHVzZVJlZjwoKCkgPT4gdm9pZCkgfCBudWxsPihudWxsKTtcbiAgY29uc3QgYXVkaW9SZWYgPSB1c2VSZWY8SFRNTEF1ZGlvRWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHRpbWVsaW5lUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW21hbnVhbFRpbWVsaW5lTGVuZ3RoLCBzZXRNYW51YWxUaW1lbGluZUxlbmd0aF0gPSB1c2VTdGF0ZTxudW1iZXI+KDE4MCk7XG4gIGNvbnN0IFtwYXJ0VGltZWxpbmVPdmVycmlkZXMsIHNldFBhcnRUaW1lbGluZU92ZXJyaWRlc10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCB7IHN0YXJ0OiBudW1iZXIgfCBudWxsOyBlbmQ6IG51bWJlciB8IG51bGwgfT4+KHt9KTtcbiAgY29uc3QgW3N1YnBhcnRUaW1lbGluZU92ZXJyaWRlcywgc2V0U3VicGFydFRpbWVsaW5lT3ZlcnJpZGVzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIHsgc3RhcnQ6IG51bWJlciB8IG51bGw7IGVuZDogbnVtYmVyIHwgbnVsbCB9Pj4oe30pO1xuICBjb25zdCBbZHJhZ2dpbmdQYXJ0SWQsIHNldERyYWdnaW5nUGFydElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBkcmFnU3RhdGVSZWYgPSB1c2VSZWY8eyBwYXJ0SWQ6IHN0cmluZzsgZHVyYXRpb246IG51bWJlcjsgb2Zmc2V0U2VjOiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZHJhZ1ByZXZpZXcsIHNldERyYWdQcmV2aWV3XSA9IHVzZVN0YXRlPHsgcGFydElkOiBzdHJpbmc7IHRpbWU6IG51bWJlciB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtwYXJ0U3RhcnRJbnB1dCwgc2V0UGFydFN0YXJ0SW5wdXRdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgc3RyaW5nPj4oe30pO1xuICBjb25zdCBbcGFydEVuZElucHV0LCBzZXRQYXJ0RW5kSW5wdXRdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgc3RyaW5nPj4oe30pO1xuICBjb25zdCBbc3VicGFydFN0YXJ0SW5wdXQsIHNldFN1YnBhcnRTdGFydElucHV0XSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KHt9KTtcbiAgY29uc3QgW3N1YnBhcnRFbmRJbnB1dCwgc2V0U3VicGFydEVuZElucHV0XSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KHt9KTtcbiAgY29uc3QgW29wZW5TdWJwYXJ0c1BhcnRJZCwgc2V0T3BlblN1YnBhcnRzUGFydElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbWFudWFsUm93Q291bnQsIHNldE1hbnVhbFJvd0NvdW50XSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbcGFydFJvd092ZXJyaWRlcywgc2V0UGFydFJvd092ZXJyaWRlc10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBudW1iZXI+Pih7fSk7XG4gIGNvbnN0IFthc3NpZ25tZW50SGlzdG9yeSwgc2V0QXNzaWdubWVudEhpc3RvcnldID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgQXJyYXk8eyBwcmV2OiBBc3NpZ25tZW50VmFsdWUgfCB1bmRlZmluZWQ7IGxhYmVsOiBzdHJpbmc7IGF0OiBzdHJpbmcgfT4+Pih7fSk7XG4gIGNvbnN0IFtvcGVuSGlzdG9yeVRhcmdldCwgc2V0T3Blbkhpc3RvcnlUYXJnZXRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgXG4gIGNvbnN0IHRpbWVsaW5lTGVuZ3RoID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgdGltZXM6IG51bWJlcltdID0gW107XG4gICAgcGFydHMuZm9yRWFjaCgocGFydCkgPT4ge1xuICAgICAgY29uc3Qgb3ZlcnJpZGUgPSBwYXJ0VGltZWxpbmVPdmVycmlkZXNbcGFydC5pZF07XG4gICAgICBjb25zdCBzdGFydCA9IG92ZXJyaWRlPy5zdGFydCA/PyBwYXJ0LnRpbWVwb2ludF9zZWNvbmRzID8/IG51bGw7XG4gICAgICBjb25zdCBlbmQgPSBvdmVycmlkZT8uZW5kID8/IHBhcnQudGltZXBvaW50X2VuZF9zZWNvbmRzID8/IG51bGw7XG4gICAgICBpZiAoc3RhcnQgIT09IG51bGwpIHRpbWVzLnB1c2goc3RhcnQpO1xuICAgICAgaWYgKGVuZCAhPT0gbnVsbCkgdGltZXMucHVzaChlbmQpO1xuICAgICAgaWYgKHN0YXJ0ICE9PSBudWxsICYmIGVuZCA9PT0gbnVsbCkgdGltZXMucHVzaChzdGFydCArIDEwKTtcbiAgICB9KTtcbiAgICBPYmplY3QudmFsdWVzKHN1YnBhcnRzQnlQYXJ0KS5mbGF0KCkuZm9yRWFjaCgoc3ViKSA9PiB7XG4gICAgICBjb25zdCBvdmVycmlkZSA9IHN1YnBhcnRUaW1lbGluZU92ZXJyaWRlc1tzdWIuaWRdO1xuICAgICAgY29uc3Qgc3RhcnQgPSBvdmVycmlkZT8uc3RhcnQgPz8gc3ViLnRpbWVwb2ludF9zZWNvbmRzID8/IG51bGw7XG4gICAgICBjb25zdCBlbmQgPSBvdmVycmlkZT8uZW5kID8/IHN1Yi50aW1lcG9pbnRfZW5kX3NlY29uZHMgPz8gbnVsbDtcbiAgICAgIGlmIChzdGFydCAhPT0gbnVsbCkgdGltZXMucHVzaChzdGFydCk7XG4gICAgICBpZiAoZW5kICE9PSBudWxsKSB0aW1lcy5wdXNoKGVuZCk7XG4gICAgICBpZiAoc3RhcnQgIT09IG51bGwgJiYgZW5kID09PSBudWxsKSB0aW1lcy5wdXNoKHN0YXJ0ICsgMTApO1xuICAgIH0pO1xuICAgIGNvbnN0IG1heFRpbWUgPSB0aW1lcy5sZW5ndGggPyBNYXRoLm1heCguLi50aW1lcykgOiAwO1xuICAgIGlmIChtdXNpY0R1cmF0aW9uICYmIE51bWJlci5pc0Zpbml0ZShtdXNpY0R1cmF0aW9uKSkgcmV0dXJuIE1hdGgubWF4KG11c2ljRHVyYXRpb24sIG1heFRpbWUsIDEwKTtcbiAgICByZXR1cm4gTWF0aC5tYXgobWFudWFsVGltZWxpbmVMZW5ndGgsIG1heFRpbWUsIDEwKTtcbiAgfSwgW211c2ljRHVyYXRpb24sIG1hbnVhbFRpbWVsaW5lTGVuZ3RoLCBwYXJ0cywgc3VicGFydHNCeVBhcnQsIHBhcnRUaW1lbGluZU92ZXJyaWRlcywgc3VicGFydFRpbWVsaW5lT3ZlcnJpZGVzXSk7XG51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBhdWRpb0NsZWFudXBSZWYuY3VycmVudD8uKCk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFkcmFnZ2luZ1BhcnRJZCkgcmV0dXJuO1xuICAgIGNvbnN0IGhhbmRsZU1vdmUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlmICghdGltZWxpbmVSZWYuY3VycmVudCB8fCAhZHJhZ1N0YXRlUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgIGNvbnN0IHJlY3QgPSB0aW1lbGluZVJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgcmF0aW8gPSAoZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCkgLyByZWN0LndpZHRoO1xuICAgICAgY29uc3QgcmF3ID0gcmF0aW8gKiB0aW1lbGluZUxlbmd0aCAtIGRyYWdTdGF0ZVJlZi5jdXJyZW50Lm9mZnNldFNlYztcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gZHJhZ1N0YXRlUmVmLmN1cnJlbnQuZHVyYXRpb247XG4gICAgICBjb25zdCBzdGFydCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRpbWVsaW5lTGVuZ3RoIC0gZHVyYXRpb24sIHJhdykpO1xuICAgICAgY29uc3Qgc25hcHBlZCA9IE1hdGgucm91bmQoc3RhcnQpO1xuICAgICAgc2V0UGFydFN0YXJ0RW5kKGRyYWdTdGF0ZVJlZi5jdXJyZW50LnBhcnRJZCwgc25hcHBlZCwgc25hcHBlZCArIGR1cmF0aW9uKTtcbiAgICAgIHNldERyYWdQcmV2aWV3KHsgcGFydElkOiBkcmFnU3RhdGVSZWYuY3VycmVudC5wYXJ0SWQsIHRpbWU6IHNuYXBwZWQgfSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVVcCA9ICgpID0+IHtcbiAgICAgIHNldERyYWdnaW5nUGFydElkKG51bGwpO1xuICAgICAgZHJhZ1N0YXRlUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgc2V0RHJhZ1ByZXZpZXcobnVsbCk7XG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBoYW5kbGVNb3ZlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgaGFuZGxlVXApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBoYW5kbGVNb3ZlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBoYW5kbGVVcCk7XG4gICAgfTtcbiAgfSwgW2RyYWdnaW5nUGFydElkLCB0aW1lbGluZUxlbmd0aF0pO1xuXG4gIGNvbnN0IGhhbmRsZUF1ZGlvUmVhZHkgPSAoYXVkaW86IEhUTUxBdWRpb0VsZW1lbnQgfCBudWxsKSA9PiB7XG4gICAgaWYgKGF1ZGlvQ2xlYW51cFJlZi5jdXJyZW50KSBhdWRpb0NsZWFudXBSZWYuY3VycmVudCgpO1xuICAgIGlmICghYXVkaW8pIHtcbiAgICAgIHNldE11c2ljRHVyYXRpb24obnVsbCk7XG4gICAgICBhdWRpb0NsZWFudXBSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gTnVtYmVyLmlzRmluaXRlKGF1ZGlvLmR1cmF0aW9uKSA/IGF1ZGlvLmR1cmF0aW9uIDogbnVsbDtcbiAgICAgIHNldE11c2ljRHVyYXRpb24oZHVyYXRpb24pO1xuICAgIH07XG4gICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlZG1ldGFkYXRhXCIsIHVwZGF0ZSk7XG4gICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcihcImR1cmF0aW9uY2hhbmdlXCIsIHVwZGF0ZSk7XG4gICAgdXBkYXRlKCk7XG4gICAgYXVkaW9DbGVhbnVwUmVmLmN1cnJlbnQgPSAoKSA9PiB7XG4gICAgICBhdWRpby5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZGVkbWV0YWRhdGFcIiwgdXBkYXRlKTtcbiAgICAgIGF1ZGlvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkdXJhdGlvbmNoYW5nZVwiLCB1cGRhdGUpO1xuICAgIH07XG4gIH07XG5cbiAgY29uc3QgYXNzaWduZWRNYXJrQ291bnRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgY291bnRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gICAgT2JqZWN0LnZhbHVlcyhhc3NpZ25tZW50cykuZm9yRWFjaCgodmFsdWUpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY291bnRzW3ZhbHVlXSA9IChjb3VudHNbdmFsdWVdIHx8IDApICsgMTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWU/Lm1hcmtJZCkge1xuICAgICAgICBjb3VudHNbdmFsdWUubWFya0lkXSA9IChjb3VudHNbdmFsdWUubWFya0lkXSB8fCAwKSArIDE7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNvdW50cztcbiAgfSwgW2Fzc2lnbm1lbnRzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocm93cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IGZpcnN0Um93ID0geyBpZDogdXVpZCgpLCBsYWJlbDogXCJSb3cgMVwiLCBub3RlOiBcIlwiLCBtYXJrczogW10gfTtcbiAgICAgIHNldFJvd3MoW2ZpcnN0Um93XSk7XG4gICAgICBzZXRBY3RpdmVSb3dJZChmaXJzdFJvdy5pZCk7XG4gICAgfVxuICB9LCBbcm93cy5sZW5ndGhdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjdXN0b21UaXRsZSkgcmV0dXJuO1xuICAgIGNvbnN0IHRpdGxlID0gYCR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpfSDCtyAke3BlcmZvcm1hbmNlVGl0bGUgfHwgXCJQZXJmb3JtYW5jZVwifWA7XG4gICAgc2V0U2Vzc2lvblRpdGxlKHRpdGxlKTtcbiAgfSwgW3BlcmZvcm1hbmNlVGl0bGUsIGN1c3RvbVRpdGxlXSk7XG5cbiAgY29uc3QgZ2V0UGFydFN0YXJ0RW5kID0gKHBhcnQ6IFBhcnRJdGVtKSA9PiB7XG4gICAgY29uc3Qgb3ZlcnJpZGUgPSBwYXJ0VGltZWxpbmVPdmVycmlkZXNbcGFydC5pZF07XG4gICAgY29uc3Qgc3RhcnQgPSBvdmVycmlkZT8uc3RhcnQgPz8gcGFydC50aW1lcG9pbnRfc2Vjb25kcyA/PyBudWxsO1xuICAgIGNvbnN0IGVuZCA9IG92ZXJyaWRlPy5lbmQgPz8gcGFydC50aW1lcG9pbnRfZW5kX3NlY29uZHMgPz8gbnVsbDtcbiAgICByZXR1cm4geyBzdGFydCwgZW5kIH07XG4gIH07XG5cbiAgY29uc3Qgc2V0UGFydFN0YXJ0RW5kID0gKHBhcnRJZDogc3RyaW5nLCBzdGFydDogbnVtYmVyIHwgbnVsbCwgZW5kOiBudW1iZXIgfCBudWxsKSA9PiB7XG4gICAgc2V0UGFydFRpbWVsaW5lT3ZlcnJpZGVzKChwcmV2KSA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIFtwYXJ0SWRdOiB7IHN0YXJ0LCBlbmQgfSxcbiAgICB9KSk7XG4gIH07XG5cbiAgY29uc3Qgc2V0U3VicGFydFN0YXJ0RW5kID0gKHN1YnBhcnRJZDogc3RyaW5nLCBzdGFydDogbnVtYmVyIHwgbnVsbCwgZW5kOiBudW1iZXIgfCBudWxsKSA9PiB7XG4gICAgc2V0U3VicGFydFRpbWVsaW5lT3ZlcnJpZGVzKChwcmV2KSA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIFtzdWJwYXJ0SWRdOiB7IHN0YXJ0LCBlbmQgfSxcbiAgICB9KSk7XG4gIH07XG5cbiAgY29uc3QgZ2V0U3VicGFydFN0YXJ0RW5kID0gKHN1YjogU3VicGFydEl0ZW0pID0+IHtcbiAgICBjb25zdCBvdmVycmlkZSA9IHN1YnBhcnRUaW1lbGluZU92ZXJyaWRlc1tzdWIuaWRdO1xuICAgIGNvbnN0IHN0YXJ0ID0gb3ZlcnJpZGU/LnN0YXJ0ID8/IHN1Yi50aW1lcG9pbnRfc2Vjb25kcyA/PyBudWxsO1xuICAgIGNvbnN0IGVuZCA9IG92ZXJyaWRlPy5lbmQgPz8gc3ViLnRpbWVwb2ludF9lbmRfc2Vjb25kcyA/PyBudWxsO1xuICAgIHJldHVybiB7IHN0YXJ0LCBlbmQgfTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcGVyZm9ybWFuY2VJZCkgcmV0dXJuO1xuICAgIGNvbnN0IGZldGNoU3VicGFydHMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlbnRyaWVzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIHBhcnRzLm1hcChhc3luYyAocGFydCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL3N1YnBhcnRzP3BhcnRJZD0ke3BhcnQuaWR9YCk7XG4gICAgICAgICAgaWYgKCFyZXMub2spIHJldHVybiBbcGFydC5pZCwgW11dIGFzIGNvbnN0O1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgIHJldHVybiBbcGFydC5pZCwgZGF0YSB8fCBbXV0gYXMgY29uc3Q7XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgY29uc3QgbWFwOiBSZWNvcmQ8c3RyaW5nLCBTdWJwYXJ0SXRlbVtdPiA9IHt9O1xuICAgICAgZW50cmllcy5mb3JFYWNoKChbcGFydElkLCBsaXN0XSkgPT4ge1xuICAgICAgICBtYXBbcGFydElkXSA9IGxpc3Q7XG4gICAgICB9KTtcbiAgICAgIHNldFN1YnBhcnRzQnlQYXJ0KG1hcCk7XG4gICAgfTtcbiAgICBmZXRjaFN1YnBhcnRzKCk7XG4gIH0sIFtwZXJmb3JtYW5jZUlkLCBwYXJ0c10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFwYXJ0cyB8fCBwYXJ0cy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBzZXRQYXJ0Um93T3ZlcnJpZGVzKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBuZXh0ID0geyAuLi5wcmV2IH07XG4gICAgICBwYXJ0cy5mb3JFYWNoKChwYXJ0KSA9PiB7XG4gICAgICAgIGlmIChwYXJ0LnRpbWVsaW5lX3JvdyAhPT0gbnVsbCAmJiBwYXJ0LnRpbWVsaW5lX3JvdyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbmV4dFtwYXJ0LmlkXSA9IHBhcnQudGltZWxpbmVfcm93O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0pO1xuICB9LCBbcGFydHNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcGVyZm9ybWFuY2VJZCkgcmV0dXJuO1xuICAgIGNvbnN0IGZldGNoU2Vzc2lvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYWxsU2Vzc2lvbnMgPyBcIi9hcGkvbWFya2luZy1zZXNzaW9ucz9hbGw9MVwiIDogYC9hcGkvbWFya2luZy1zZXNzaW9ucz9wZXJmb3JtYW5jZUlkPSR7cGVyZm9ybWFuY2VJZH1gXG4gICAgICApO1xuICAgICAgaWYgKCFyZXMub2spIHJldHVybjtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgc2V0U2Vzc2lvbkxpc3QoZGF0YSB8fCBbXSk7XG4gICAgfTtcbiAgICBmZXRjaFNlc3Npb25zKCk7XG4gIH0sIFtwZXJmb3JtYW5jZUlkLCBhbGxTZXNzaW9uc10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hQZXJmb3JtYW5jZU5hbWVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL3BlcmZvcm1hbmNlc1wiKTtcbiAgICAgIGlmICghcmVzLm9rKSByZXR1cm47XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgIGNvbnN0IG1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgICAgKGRhdGEgfHwgW10pLmZvckVhY2goKHBlcmY6IGFueSkgPT4ge1xuICAgICAgICBtYXBbcGVyZi5pZF0gPSBwZXJmLnRpdGxlIHx8IFwiUGVyZm9ybWFuY2VcIjtcbiAgICAgIH0pO1xuICAgICAgc2V0UGVyZm9ybWFuY2VOYW1lTWFwKG1hcCk7XG4gICAgfTtcbiAgICBmZXRjaFBlcmZvcm1hbmNlTmFtZXMoKTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgY29uc3QgdGFnID0gdGFyZ2V0Py50YWdOYW1lPy50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHRhZyA9PT0gXCJpbnB1dFwiIHx8IHRhZyA9PT0gXCJ0ZXh0YXJlYVwiIHx8IHRhZyA9PT0gXCJzZWxlY3RcIikgcmV0dXJuO1xuXG4gICAgICBpZiAoZXZlbnQuY29kZSA9PT0gXCJTcGFjZVwiKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHJvd0lkID0gYWN0aXZlUm93SWQgfHwgcm93c1swXT8uaWQ7XG4gICAgICAgIGlmICghcm93SWQpIHJldHVybjtcbiAgICAgICAgY29uc3QgbWFyazogTWFyayA9IHtcbiAgICAgICAgICBpZDogdXVpZCgpLFxuICAgICAgICAgIHRpbWU6IGN1cnJlbnRUaW1lLFxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9O1xuICAgICAgICBzZXRSb3dzKChwcmV2KSA9PlxuICAgICAgICAgIHByZXYubWFwKChyb3cpID0+XG4gICAgICAgICAgICByb3cuaWQgPT09IHJvd0lkID8geyAuLi5yb3csIG1hcmtzOiBbLi4ucm93Lm1hcmtzLCBtYXJrXSB9IDogcm93XG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQua2V5ID09PSBcImVcIiB8fCBldmVudC5rZXkgPT09IFwiRVwiKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IG5leHRJbmRleCA9IHJvd3MubGVuZ3RoICsgMTtcbiAgICAgICAgY29uc3QgbmV3Um93OiBNYXJrUm93ID0ge1xuICAgICAgICAgIGlkOiB1dWlkKCksXG4gICAgICAgICAgbGFiZWw6IGBSb3cgJHtuZXh0SW5kZXh9YCxcbiAgICAgICAgICBub3RlOiBcIlwiLFxuICAgICAgICAgIG1hcmtzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgc2V0Um93cygocHJldikgPT4ge1xuICAgICAgICAgIGNvbnN0IGlkeCA9IGFjdGl2ZVJvd0lkID8gcHJldi5maW5kSW5kZXgoKHIpID0+IHIuaWQgPT09IGFjdGl2ZVJvd0lkKSA6IHByZXYubGVuZ3RoIC0gMTtcbiAgICAgICAgICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuIFsuLi5wcmV2LCBuZXdSb3ddO1xuICAgICAgICAgIGNvbnN0IG5leHQgPSBbLi4ucHJldl07XG4gICAgICAgICAgbmV4dC5zcGxpY2UoaWR4ICsgMSwgMCwgbmV3Um93KTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldEFjdGl2ZVJvd0lkKG5ld1Jvdy5pZCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICB9LCBbYWN0aXZlUm93SWQsIGN1cnJlbnRUaW1lLCByb3dzXSk7XG5cbiAgY29uc3QgaGFuZGxlRHJvcFRvUm93ID0gKHJvd0lkOiBzdHJpbmcsIG1hcmtJZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0Um93cygocHJldikgPT4ge1xuICAgICAgbGV0IG1vdmVkOiBNYXJrIHwgbnVsbCA9IG51bGw7XG4gICAgICBjb25zdCByZW1vdmVkID0gcHJldi5tYXAoKHJvdykgPT4ge1xuICAgICAgICBjb25zdCBuZXh0TWFya3MgPSByb3cubWFya3MuZmlsdGVyKChtKSA9PiB7XG4gICAgICAgICAgaWYgKG0uaWQgPT09IG1hcmtJZCkge1xuICAgICAgICAgICAgbW92ZWQgPSBtO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJvdywgbWFya3M6IG5leHRNYXJrcyB9O1xuICAgICAgfSk7XG4gICAgICBpZiAoIW1vdmVkKSByZXR1cm4gcHJldjtcbiAgICAgIHJldHVybiByZW1vdmVkLm1hcCgocm93KSA9PlxuICAgICAgICByb3cuaWQgPT09IHJvd0lkID8geyAuLi5yb3csIG1hcmtzOiBbLi4ucm93Lm1hcmtzLCBtb3ZlZCFdIH0gOiByb3dcbiAgICAgICk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUmVtb3ZlTWFyayA9IChyb3dJZDogc3RyaW5nLCBtYXJrSWQ6IHN0cmluZykgPT4ge1xuICAgIHNldFJvd3MoKHByZXYpID0+XG4gICAgICBwcmV2Lm1hcCgocm93KSA9PlxuICAgICAgICByb3cuaWQgPT09IHJvd0lkID8geyAuLi5yb3csIG1hcmtzOiByb3cubWFya3MuZmlsdGVyKChtKSA9PiBtLmlkICE9PSBtYXJrSWQpIH0gOiByb3dcbiAgICAgIClcbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IGdldE1hcmtUaW1lQnlJZCA9IChtYXJrSWQ6IHN0cmluZykgPT4ge1xuICAgIGZvciAoY29uc3Qgcm93IG9mIHJvd3MpIHtcbiAgICAgIGNvbnN0IG1hcmsgPSByb3cubWFya3MuZmluZCgobSkgPT4gbS5pZCA9PT0gbWFya0lkKTtcbiAgICAgIGlmIChtYXJrKSByZXR1cm4gbWFyay50aW1lO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBjb25zdCB0aW1lbGluZURlZmF1bHREdXJhdGlvbiA9IDEwO1xuXG4gIGNvbnN0IHBhcnRDb2xvckNsYXNzZXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBwYWxldHRlID0gW1xuICAgICAgXCJiZy1hbWJlci01MCBib3JkZXItYW1iZXItMzAwIHRleHQtYW1iZXItOTUwXCIsXG4gICAgICBcImJnLWVtZXJhbGQtNTAgYm9yZGVyLWVtZXJhbGQtMzAwIHRleHQtZW1lcmFsZC05NTBcIixcbiAgICAgIFwiYmctc2t5LTUwIGJvcmRlci1za3ktMzAwIHRleHQtc2t5LTk1MFwiLFxuICAgICAgXCJiZy1yb3NlLTUwIGJvcmRlci1yb3NlLTMwMCB0ZXh0LXJvc2UtOTUwXCIsXG4gICAgICBcImJnLWxpbWUtNTAgYm9yZGVyLWxpbWUtMzAwIHRleHQtbGltZS05NTBcIixcbiAgICAgIFwiYmctZnVjaHNpYS01MCBib3JkZXItZnVjaHNpYS0zMDAgdGV4dC1mdWNoc2lhLTk1MFwiLFxuICAgICAgXCJiZy1vcmFuZ2UtNTAgYm9yZGVyLW9yYW5nZS0zMDAgdGV4dC1vcmFuZ2UtOTUwXCIsXG4gICAgICBcImJnLXRlYWwtNTAgYm9yZGVyLXRlYWwtMzAwIHRleHQtdGVhbC05NTBcIixcbiAgICBdO1xuICAgIGNvbnN0IG1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIHBhcnRzLmZvckVhY2goKHBhcnQsIGluZGV4KSA9PiB7XG4gICAgICBtYXBbcGFydC5pZF0gPSBwYWxldHRlW2luZGV4ICUgcGFsZXR0ZS5sZW5ndGhdO1xuICAgIH0pO1xuICAgIHJldHVybiBtYXA7XG4gIH0sIFtwYXJ0c10pO1xuXG4gIGNvbnN0IHBlcnNpc3RTdWJwYXJ0T3JkZXIgPSBhc3luYyAocGFydElkOiBzdHJpbmcsIGxpc3Q6IFN1YnBhcnRJdGVtW10pID0+IHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIGxpc3QubWFwKChzdWIsIGlkeCkgPT5cbiAgICAgICAgZmV0Y2goYC9hcGkvc3VicGFydHMvJHtzdWIuaWR9YCwge1xuICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBvcmRlcjogaWR4ICsgMSB9KSxcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IG1vdmVTdWJwYXJ0ID0gKHBhcnRJZDogc3RyaW5nLCBzdWJwYXJ0SWQ6IHN0cmluZywgZGlyZWN0aW9uOiBcInVwXCIgfCBcImRvd25cIikgPT4ge1xuICAgIHNldFN1YnBhcnRzQnlQYXJ0KChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBuZXh0ID0geyAuLi5wcmV2IH07XG4gICAgICBjb25zdCBsaXN0ID0gWy4uLihuZXh0W3BhcnRJZF0gfHwgW10pXTtcbiAgICAgIGNvbnN0IGlkeCA9IGxpc3QuZmluZEluZGV4KChzKSA9PiBzLmlkID09PSBzdWJwYXJ0SWQpO1xuICAgICAgaWYgKGlkeCA9PT0gLTEpIHJldHVybiBwcmV2O1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZGlyZWN0aW9uID09PSBcInVwXCIgPyBpZHggLSAxIDogaWR4ICsgMTtcbiAgICAgIGlmICh0YXJnZXQgPCAwIHx8IHRhcmdldCA+PSBsaXN0Lmxlbmd0aCkgcmV0dXJuIHByZXY7XG4gICAgICBjb25zdCBbaXRlbV0gPSBsaXN0LnNwbGljZShpZHgsIDEpO1xuICAgICAgbGlzdC5zcGxpY2UodGFyZ2V0LCAwLCBpdGVtKTtcbiAgICAgIG5leHRbcGFydElkXSA9IGxpc3Q7XG4gICAgICB2b2lkIHBlcnNpc3RTdWJwYXJ0T3JkZXIocGFydElkLCBsaXN0KTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHRpbWVsaW5lRGF0YSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHR5cGUgVGltZWxpbmVJdGVtID0ge1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgIHN0YXJ0OiBudW1iZXI7XG4gICAgICBlbmQ6IG51bWJlcjtcbiAgICAgIG1pc3NpbmdFbmQ6IGJvb2xlYW47XG4gICAgfTtcbiAgICBjb25zdCBhc3NpZ25lZDogQXJyYXk8e1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgIHN0YXJ0OiBudW1iZXI7XG4gICAgICBlbmQ6IG51bWJlcjtcbiAgICAgIG1pc3NpbmdFbmQ6IGJvb2xlYW47XG4gICAgfT4gPSBbXTtcbiAgICBjb25zdCB1bmFzc2lnbmVkOiBQYXJ0SXRlbVtdID0gW107XG5cbiAgICBwYXJ0cy5mb3JFYWNoKChwYXJ0KSA9PiB7XG4gICAgICBjb25zdCB7IHN0YXJ0LCBlbmQgfSA9IGdldFBhcnRTdGFydEVuZChwYXJ0KTtcbiAgICAgIGlmIChzdGFydCA9PT0gbnVsbCkge1xuICAgICAgICB1bmFzc2lnbmVkLnB1c2gocGFydCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc29sdmVkRW5kID0gZW5kID8/IHN0YXJ0ICsgdGltZWxpbmVEZWZhdWx0RHVyYXRpb247XG4gICAgICBhc3NpZ25lZC5wdXNoKHtcbiAgICAgICAgaWQ6IHBhcnQuaWQsXG4gICAgICAgIG5hbWU6IHBhcnQubmFtZSxcbiAgICAgICAgc3RhcnQsXG4gICAgICAgIGVuZDogcmVzb2x2ZWRFbmQsXG4gICAgICAgIG1pc3NpbmdFbmQ6IGVuZCA9PT0gbnVsbCxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgYXNzaWduZWQuc29ydCgoYSwgYikgPT4gYS5zdGFydCAtIGIuc3RhcnQpO1xuXG4gICAgY29uc3Qgcm93czogQXJyYXk8eyBpZDogc3RyaW5nOyBpdGVtczogVGltZWxpbmVJdGVtW107IG1hbnVhbD86IGJvb2xlYW4gfT4gPSBbXTtcbiAgICBjb25zdCBlbnN1cmVSb3cgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgd2hpbGUgKHJvd3MubGVuZ3RoIDw9IGluZGV4KSB7XG4gICAgICAgIHJvd3MucHVzaCh7IGlkOiB1dWlkKCksIGl0ZW1zOiBbXSB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgYXNzaWduZWQuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3Qgb3ZlcnJpZGVSb3cgPSBwYXJ0Um93T3ZlcnJpZGVzW2l0ZW0uaWRdID8/IHBhcnQudGltZWxpbmVfcm93ID8/IHVuZGVmaW5lZDtcbiAgICAgIGlmIChvdmVycmlkZVJvdyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuc3VyZVJvdyhvdmVycmlkZVJvdyk7XG4gICAgICAgIHJvd3Nbb3ZlcnJpZGVSb3ddLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBwbGFjZWQgPSBmYWxzZTtcbiAgICAgIGZvciAoY29uc3Qgcm93IG9mIHJvd3MpIHtcbiAgICAgICAgY29uc3QgbGFzdCA9IHJvdy5pdGVtc1tyb3cuaXRlbXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICghbGFzdCB8fCBpdGVtLnN0YXJ0ID49IGxhc3QuZW5kKSB7XG4gICAgICAgICAgcm93Lml0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgICAgcGxhY2VkID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFwbGFjZWQpIHtcbiAgICAgICAgcm93cy5wdXNoKHsgaWQ6IHV1aWQoKSwgaXRlbXM6IFtpdGVtXSB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJvd3MuZm9yRWFjaCgocm93KSA9PiByb3cuaXRlbXMuc29ydCgoYSwgYikgPT4gYS5zdGFydCAtIGIuc3RhcnQpKTtcblxuICAgIGNvbnN0IGF1dG9Sb3dDb3VudCA9IHJvd3MubGVuZ3RoO1xuICAgIGlmIChtYW51YWxSb3dDb3VudCA+IHJvd3MubGVuZ3RoKSB7XG4gICAgICBmb3IgKGxldCBpID0gcm93cy5sZW5ndGg7IGkgPCBtYW51YWxSb3dDb3VudDsgaSArPSAxKSB7XG4gICAgICAgIHJvd3MucHVzaCh7IGlkOiB1dWlkKCksIGl0ZW1zOiBbXSwgbWFudWFsOiB0cnVlIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7IHJvd3MsIHVuYXNzaWduZWQsIGF1dG9Sb3dDb3VudCB9O1xuICB9LCBbcGFydHMsIHBhcnRUaW1lbGluZU92ZXJyaWRlcywgbWFudWFsUm93Q291bnQsIHBhcnRSb3dPdmVycmlkZXNdKTtcblxuICBjb25zdCBub3JtYWxpemVBc3NpZ25tZW50cyA9IChyb3dzU25hcHNob3Q6IE1hcmtSb3dbXSwgcmF3OiBSZWNvcmQ8c3RyaW5nLCBBc3NpZ25tZW50VmFsdWU+KSA9PiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZDogUmVjb3JkPHN0cmluZywgQXNzaWdubWVudFZhbHVlPiA9IHt9O1xuICAgIE9iamVjdC5lbnRyaWVzKHJhdyB8fCB7fSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IG1hcmsgPSByb3dzU25hcHNob3QuZmxhdE1hcCgocikgPT4gci5tYXJrcykuZmluZCgobSkgPT4gbS5pZCA9PT0gdmFsdWUpO1xuICAgICAgICBpZiAobWFyaykge1xuICAgICAgICAgIG5vcm1hbGl6ZWRba2V5XSA9IHsgbWFya0lkOiB2YWx1ZSwgdGltZTogbWFyay50aW1lIH07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIG5vcm1hbGl6ZWRba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBub3JtYWxpemVkO1xuICB9O1xuXG4gIGNvbnN0IGdldEFzc2lnbmVkVGltZSA9ICh0YXJnZXRLZXk6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gYXNzaWdubWVudHNbdGFyZ2V0S2V5XTtcbiAgICBpZiAoIXZhbHVlKSByZXR1cm4gbnVsbDtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBmb3IgKGNvbnN0IHJvdyBvZiByb3dzKSB7XG4gICAgICAgIGNvbnN0IG1hcmsgPSByb3cubWFya3MuZmluZCgobSkgPT4gbS5pZCA9PT0gdmFsdWUpO1xuICAgICAgICBpZiAobWFyaykgcmV0dXJuIG1hcmsudGltZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUudGltZSA/PyBudWxsO1xuICB9O1xuXG4gIGNvbnN0IGdldFRpbWVGcm9tQXNzaWdubWVudCA9ICh2YWx1ZTogQXNzaWdubWVudFZhbHVlIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuIG51bGw7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgZm9yIChjb25zdCByb3cgb2Ygcm93cykge1xuICAgICAgICBjb25zdCBtYXJrID0gcm93Lm1hcmtzLmZpbmQoKG0pID0+IG0uaWQgPT09IHZhbHVlKTtcbiAgICAgICAgaWYgKG1hcmspIHJldHVybiBtYXJrLnRpbWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLnRpbWUgPz8gbnVsbDtcbiAgfTtcblxuICBjb25zdCBwdXNoQXNzaWdubWVudEhpc3RvcnkgPSAodGFyZ2V0S2V5OiBzdHJpbmcsIHByZXZWYWx1ZTogQXNzaWdubWVudFZhbHVlIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgY29uc3QgW3R5cGUsIGlkLCBmaWVsZF0gPSB0YXJnZXRLZXkuc3BsaXQoXCI6XCIpIGFzIFtcInBhcnRcIiB8IFwic3VicGFydFwiLCBzdHJpbmcsIFwic3RhcnRcIiB8IFwiZW5kXCJdO1xuICAgIGNvbnN0IGV4aXN0aW5nVGltZSA9IGdldEV4aXN0aW5nVGltZSh0eXBlLCBpZCwgZmllbGQpO1xuICAgIGNvbnN0IHByZXZUaW1lID0gZ2V0VGltZUZyb21Bc3NpZ25tZW50KHByZXZWYWx1ZSk7XG4gICAgY29uc3QgZGlzcGxheVRpbWUgPSBwcmV2VGltZSA/PyBleGlzdGluZ1RpbWU7XG4gICAgY29uc3QgbGFiZWwgPSBkaXNwbGF5VGltZSAhPT0gbnVsbCA/IGZvcm1hdFRpbWUoZGlzcGxheVRpbWUpIDogXCJVbmFzc2lnbmVkXCI7XG4gICAgY29uc3QgYXQgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCk7XG4gICAgc2V0QXNzaWdubWVudEhpc3RvcnkoKHByZXYpID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgW3RhcmdldEtleV06IFt7IHByZXY6IHByZXZWYWx1ZSwgbGFiZWwsIGF0IH0sIC4uLihwcmV2W3RhcmdldEtleV0gfHwgW10pXS5zbGljZSgwLCA2KSxcbiAgICB9KSk7XG4gIH07XG5cbiAgY29uc3QgdW5kb0Fzc2lnbm1lbnQgPSAodGFyZ2V0S2V5OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBoaXN0b3J5ID0gYXNzaWdubWVudEhpc3RvcnlbdGFyZ2V0S2V5XTtcbiAgICBpZiAoIWhpc3RvcnkgfHwgaGlzdG9yeS5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBjb25zdCBbbGF0ZXN0LCAuLi5yZXN0XSA9IGhpc3Rvcnk7XG4gICAgc2V0QXNzaWdubWVudEhpc3RvcnkoKHByZXYpID0+ICh7IC4uLnByZXYsIFt0YXJnZXRLZXldOiByZXN0IH0pKTtcbiAgICBzZXRBc3NpZ25tZW50cygocHJldikgPT4ge1xuICAgICAgY29uc3QgbmV4dCA9IHsgLi4ucHJldiB9O1xuICAgICAgaWYgKCFsYXRlc3QucHJldikge1xuICAgICAgICBkZWxldGUgbmV4dFt0YXJnZXRLZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dFt0YXJnZXRLZXldID0gbGF0ZXN0LnByZXY7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBnZXRFeGlzdGluZ1RpbWUgPSAodHlwZTogXCJwYXJ0XCIgfCBcInN1YnBhcnRcIiwgaWQ6IHN0cmluZywgZmllbGQ6IFwic3RhcnRcIiB8IFwiZW5kXCIpID0+IHtcbiAgICBpZiAodHlwZSA9PT0gXCJwYXJ0XCIpIHtcbiAgICAgIGNvbnN0IHBhcnQgPSBwYXJ0cy5maW5kKChwKSA9PiBwLmlkID09PSBpZCk7XG4gICAgICBpZiAoIXBhcnQpIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIGZpZWxkID09PSBcInN0YXJ0XCIgPyBwYXJ0LnRpbWVwb2ludF9zZWNvbmRzID8/IG51bGwgOiBwYXJ0LnRpbWVwb2ludF9lbmRfc2Vjb25kcyA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBzdWIgPSBPYmplY3QudmFsdWVzKHN1YnBhcnRzQnlQYXJ0KS5mbGF0KCkuZmluZCgocykgPT4gcy5pZCA9PT0gaWQpO1xuICAgIGlmICghc3ViKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gZmllbGQgPT09IFwic3RhcnRcIiA/IHN1Yi50aW1lcG9pbnRfc2Vjb25kcyA/PyBudWxsIDogc3ViLnRpbWVwb2ludF9lbmRfc2Vjb25kcyA/PyBudWxsO1xuICB9O1xuXG4gIGNvbnN0IGFzc2lnbk1hcmtUb1RhcmdldCA9ICh0YXJnZXRLZXk6IHN0cmluZywgbWFya0lkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBbdHlwZSwgaWQsIGZpZWxkXSA9IHRhcmdldEtleS5zcGxpdChcIjpcIikgYXMgW1wicGFydFwiIHwgXCJzdWJwYXJ0XCIsIHN0cmluZywgXCJzdGFydFwiIHwgXCJlbmRcIl07XG4gICAgY29uc3QgbWFya1RpbWUgPSByb3dzLmZsYXRNYXAoKHIpID0+IHIubWFya3MpLmZpbmQoKG0pID0+IG0uaWQgPT09IG1hcmtJZCk/LnRpbWU7XG4gICAgaWYgKG1hcmtUaW1lID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgIGNvbnN0IG9wcG9zaXRlRmllbGQ6IFwic3RhcnRcIiB8IFwiZW5kXCIgPSBmaWVsZCA9PT0gXCJzdGFydFwiID8gXCJlbmRcIiA6IFwic3RhcnRcIjtcbiAgICBjb25zdCBhc3NpZ25lZE9wcG9zaXRlID0gZ2V0QXNzaWduZWRUaW1lKGAke3R5cGV9OiR7aWR9OiR7b3Bwb3NpdGVGaWVsZH1gKTtcbiAgICBjb25zdCBleGlzdGluZ09wcG9zaXRlID0gZ2V0RXhpc3RpbmdUaW1lKHR5cGUsIGlkLCBvcHBvc2l0ZUZpZWxkKTtcbiAgICBjb25zdCBvcHBvc2l0ZVRpbWUgPSBhc3NpZ25lZE9wcG9zaXRlID8/IGV4aXN0aW5nT3Bwb3NpdGU7XG5cbiAgICBpZiAoZmllbGQgPT09IFwiZW5kXCIgJiYgb3Bwb3NpdGVUaW1lICE9PSBudWxsICYmIG1hcmtUaW1lIDwgb3Bwb3NpdGVUaW1lKSB7XG4gICAgICBhbGVydChcIkVuZCB0aW1lIGNhbm5vdCBiZSBiZWZvcmUgc3RhcnQgdGltZS5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChmaWVsZCA9PT0gXCJzdGFydFwiICYmIG9wcG9zaXRlVGltZSAhPT0gbnVsbCAmJiBtYXJrVGltZSA+IG9wcG9zaXRlVGltZSkge1xuICAgICAgYWxlcnQoXCJTdGFydCB0aW1lIGNhbm5vdCBiZSBhZnRlciBlbmQgdGltZS5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0QXNzaWdubWVudHMoKHByZXYpID0+IHtcbiAgICAgIHB1c2hBc3NpZ25tZW50SGlzdG9yeSh0YXJnZXRLZXksIHByZXZbdGFyZ2V0S2V5XSk7XG4gICAgICByZXR1cm4geyAuLi5wcmV2LCBbdGFyZ2V0S2V5XTogeyBtYXJrSWQsIHRpbWU6IG1hcmtUaW1lIH0gfTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBjbGVhckFzc2lnbm1lbnQgPSAodGFyZ2V0S2V5OiBzdHJpbmcpID0+IHtcbiAgICBzZXRBc3NpZ25tZW50cygocHJldikgPT4ge1xuICAgICAgcHVzaEFzc2lnbm1lbnRIaXN0b3J5KHRhcmdldEtleSwgcHJldlt0YXJnZXRLZXldKTtcbiAgICAgIGNvbnN0IG5leHQgPSB7IC4uLnByZXYgfTtcbiAgICAgIGRlbGV0ZSBuZXh0W3RhcmdldEtleV07XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJUaW1lVGFyZ2V0ID0gKHR5cGU6IFwicGFydFwiIHwgXCJzdWJwYXJ0XCIsIGlkOiBzdHJpbmcsIGZpZWxkOiBcInN0YXJ0XCIgfCBcImVuZFwiKSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0S2V5ID0gYCR7dHlwZX06JHtpZH06JHtmaWVsZH1gO1xuICAgIGNvbnN0IGFzc2lnbmVkVmFsdWUgPSBhc3NpZ25tZW50c1t0YXJnZXRLZXldO1xuICAgIGNvbnN0IGFzc2lnbmVkTWFya0lkID0gdHlwZW9mIGFzc2lnbmVkVmFsdWUgPT09IFwic3RyaW5nXCIgPyBhc3NpZ25lZFZhbHVlIDogYXNzaWduZWRWYWx1ZT8ubWFya0lkO1xuICAgIGNvbnN0IGFzc2lnbmVkVGltZSA9IGdldEFzc2lnbmVkVGltZSh0YXJnZXRLZXkpO1xuICAgIGNvbnN0IGV4aXN0aW5nVGltZSA9IGdldEV4aXN0aW5nVGltZSh0eXBlLCBpZCwgZmllbGQpO1xuICAgIGNvbnN0IHNob3dUaW1lID0gYXNzaWduZWRUaW1lICE9PSBudWxsID8gYXNzaWduZWRUaW1lIDogZXhpc3RpbmdUaW1lO1xuICAgIGNvbnN0IGhpc3RvcnkgPSBhc3NpZ25tZW50SGlzdG9yeVt0YXJnZXRLZXldIHx8IFtdO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtgcmVsYXRpdmUgYm9yZGVyIGJvcmRlci1kYXNoZWQgcm91bmRlZCBweC0yIHB5LTEgdGV4dC14cyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiAke1xuICAgICAgICAgIGFzc2lnbmVkTWFya0lkID8gXCJib3JkZXItZW1lcmFsZC00MDAgYmctZW1lcmFsZC01MFwiIDogXCJib3JkZXItZ3JheS0zMDAgYmctd2hpdGVcIlxuICAgICAgICB9YH1cbiAgICAgICAgb25EcmFnT3Zlcj17KGUpID0+IGUucHJldmVudERlZmF1bHQoKX1cbiAgICAgICAgb25Ecm9wPXsoZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IG1hcmtJZCA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJtYXJrSWRcIik7XG4gICAgICAgICAgaWYgKCFtYXJrSWQpIHJldHVybjtcbiAgICAgICAgICBhc3NpZ25NYXJrVG9UYXJnZXQodGFyZ2V0S2V5LCBtYXJrSWQpO1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHVwcGVyY2FzZVwiPntmaWVsZH08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMFwiPlxuICAgICAgICAgIHtzaG93VGltZSAhPT0gbnVsbCA/IGZvcm1hdFRpbWUoc2hvd1RpbWUpIDogXCItLTotLVwifVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIHthc3NpZ25lZE1hcmtJZCAmJiAoXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMSBweC0yIHB5LTAuNSByb3VuZGVkLWZ1bGwgdGV4dC1bMTBweF0gYmctZW1lcmFsZC02MDAgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgQ2hpcFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKX1cbiAgICAgICAge2hpc3RvcnkubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdW5kb0Fzc2lnbm1lbnQodGFyZ2V0S2V5KX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLWF1dG8gdGV4dC1bMTBweF0gdGV4dC1ncmF5LTcwMCBob3Zlcjp0ZXh0LWdyYXktOTAwXCJcbiAgICAgICAgICAgIHRpdGxlPVwiVW5kbyBsYXN0IGNoYW5nZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgVW5kb1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApfVxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0T3Blbkhpc3RvcnlUYXJnZXQoKHByZXYpID0+IChwcmV2ID09PSB0YXJnZXRLZXkgPyBudWxsIDogdGFyZ2V0S2V5KSl9XG4gICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwXCJcbiAgICAgICAgICB0aXRsZT1cIkhpc3RvcnlcIlxuICAgICAgICA+XG4gICAgICAgICAgTG9nXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICB7YXNzaWduZWRNYXJrSWQgJiYgKFxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGNsZWFyQXNzaWdubWVudCh0YXJnZXRLZXkpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibWwtYXV0byB0ZXh0LXJlZC02MDAgaG92ZXI6dGV4dC1yZWQtODAwXCJcbiAgICAgICAgICAgIHRpdGxlPVwiUmVtb3ZlXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB4XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICl9XG4gICAgICAgIHtvcGVuSGlzdG9yeVRhcmdldCA9PT0gdGFyZ2V0S2V5ICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTAgdG9wLWZ1bGwgbXQtMSB3LTQ0IHJvdW5kZWQgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBiZy13aGl0ZSBzaGFkb3ctbGcgcC0yIHRleHQtWzEwcHhdIHRleHQtZ3JheS02MDAgei0yMFwiPlxuICAgICAgICAgICAge2hpc3RvcnkubGVuZ3RoID09PSAwICYmIDxkaXY+Tm8gaGlzdG9yeSB5ZXQ8L2Rpdj59XG4gICAgICAgICAgICB7aGlzdG9yeS5tYXAoKGVudHJ5LCBpZHgpID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2Ake2VudHJ5LmF0fS0ke2lkeH1gfSBjbGFzc05hbWU9XCJib3JkZXItYiBib3JkZXItZ3JheS0xMDAgcGItMSBtYi0xIGxhc3Q6Ym9yZGVyLTAgbGFzdDpwYi0wIGxhc3Q6bWItMFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwXCI+e2VudHJ5LmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+e2VudHJ5LmF0fTwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTYXZlU2Vzc2lvbiA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgcGVyZm9ybWFuY2VfaWQ6IHBlcmZvcm1hbmNlSWQsXG4gICAgICB0aXRsZTogc2Vzc2lvblRpdGxlIHx8IFwiTWFya2luZyBTZXNzaW9uXCIsXG4gICAgICByb3dzLFxuICAgICAgYXNzaWdubWVudHMsXG4gICAgfTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcIi9hcGkvbWFya2luZy1zZXNzaW9uc1wiLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgfSk7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgY29uc3QgY3JlYXRlZCA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICBzZXRTZXNzaW9uTGlzdCgocHJldikgPT4gW2NyZWF0ZWQsIC4uLnByZXZdKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQXBwbHkgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0U2F2aW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cGRhdGVzQnlQYXJ0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICBjb25zdCB1cGRhdGVzQnlTdWJwYXJ0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG5cbiAgICAgIE9iamVjdC5lbnRyaWVzKGFzc2lnbm1lbnRzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgY29uc3QgW3R5cGUsIGlkLCBmaWVsZF0gPSBrZXkuc3BsaXQoXCI6XCIpIGFzIFtcInBhcnRcIiB8IFwic3VicGFydFwiLCBzdHJpbmcsIFwic3RhcnRcIiB8IFwiZW5kXCJdO1xuICAgICAgICBjb25zdCBtYXJrSWQgPSB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZSA6IHZhbHVlPy5tYXJrSWQ7XG4gICAgICAgIGNvbnN0IG1hcmtUaW1lID0gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgPyByb3dzLmZsYXRNYXAoKHIpID0+IHIubWFya3MpLmZpbmQoKG0pID0+IG0uaWQgPT09IHZhbHVlKT8udGltZVxuICAgICAgICAgIDogdmFsdWU/LnRpbWU7XG4gICAgICAgIGlmIChtYXJrVGltZSA9PT0gdW5kZWZpbmVkIHx8IG1hcmtUaW1lID09PSBudWxsKSByZXR1cm47XG4gICAgICAgIGlmICh0eXBlID09PSBcInBhcnRcIikge1xuICAgICAgICAgIHVwZGF0ZXNCeVBhcnRbaWRdID0gdXBkYXRlc0J5UGFydFtpZF0gfHwge307XG4gICAgICAgICAgdXBkYXRlc0J5UGFydFtpZF1bZmllbGQgPT09IFwic3RhcnRcIiA/IFwidGltZXBvaW50X3NlY29uZHNcIiA6IFwidGltZXBvaW50X2VuZF9zZWNvbmRzXCJdID0gbWFya1RpbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXBkYXRlc0J5U3VicGFydFtpZF0gPSB1cGRhdGVzQnlTdWJwYXJ0W2lkXSB8fCB7fTtcbiAgICAgICAgICB1cGRhdGVzQnlTdWJwYXJ0W2lkXVtmaWVsZCA9PT0gXCJzdGFydFwiID8gXCJ0aW1lcG9pbnRfc2Vjb25kc1wiIDogXCJ0aW1lcG9pbnRfZW5kX3NlY29uZHNcIl0gPSBtYXJrVGltZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRQYXJ0czogUGFydEl0ZW1bXSA9IFtdO1xuICAgICAgY29uc3QgdXBkYXRlZFN1YnBhcnRzOiBTdWJwYXJ0SXRlbVtdID0gW107XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgT2JqZWN0LmVudHJpZXModXBkYXRlc0J5UGFydCkubWFwKGFzeW5jIChbcGFydElkLCBwYXlsb2FkXSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL3BhcnRzLyR7cGFydElkfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgICAgdXBkYXRlZFBhcnRzLnB1c2godXBkYXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHVwZGF0ZXNCeVN1YnBhcnQpLm1hcChhc3luYyAoW3N1YnBhcnRJZCwgcGF5bG9hZF0pID0+IHtcbiAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9zdWJwYXJ0cy8ke3N1YnBhcnRJZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgICAgIGlmICh1cGRhdGVkKSB1cGRhdGVkU3VicGFydHMucHVzaCh1cGRhdGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBpZiAodXBkYXRlZFBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgb25QYXJ0c1VwZGF0ZWQoXG4gICAgICAgICAgcGFydHMubWFwKChwYXJ0KSA9PiB1cGRhdGVkUGFydHMuZmluZCgodSkgPT4gdS5pZCA9PT0gcGFydC5pZCkgfHwgcGFydClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh1cGRhdGVkU3VicGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICBzZXRTdWJwYXJ0c0J5UGFydCgocHJldikgPT4ge1xuICAgICAgICAgIGNvbnN0IG5leHQgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICB1cGRhdGVkU3VicGFydHMuZm9yRWFjaCgoc3ViKSA9PiB7XG4gICAgICAgICAgICBuZXh0W3N1Yi5wYXJ0X2lkXSA9IChuZXh0W3N1Yi5wYXJ0X2lkXSB8fCBbXSkubWFwKChzKSA9PlxuICAgICAgICAgICAgICBzLmlkID09PSBzdWIuaWQgPyB7IC4uLnMsIC4uLnN1YiB9IDogc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFNhdmluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVTYXZlVGltZWxpbmUgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0U2F2aW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cGRhdGVzQnlQYXJ0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICBjb25zdCB1cGRhdGVzQnlTdWJwYXJ0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG5cbiAgICAgIHBhcnRzLmZvckVhY2goKHBhcnQpID0+IHtcbiAgICAgICAgY29uc3QgeyBzdGFydCwgZW5kIH0gPSBnZXRQYXJ0U3RhcnRFbmQocGFydCk7XG4gICAgICAgIGNvbnN0IHJvd092ZXJyaWRlID0gcGFydFJvd092ZXJyaWRlc1twYXJ0LmlkXSA/PyBwYXJ0LnRpbWVsaW5lX3JvdyA/PyBudWxsO1xuICAgICAgICBpZiAoc3RhcnQgIT09IG51bGwgfHwgcm93T3ZlcnJpZGUgIT09IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVzQnlQYXJ0W3BhcnQuaWRdID0ge1xuICAgICAgICAgICAgdGltZXBvaW50X3NlY29uZHM6IHN0YXJ0LFxuICAgICAgICAgICAgdGltZXBvaW50X2VuZF9zZWNvbmRzOiBlbmQgPz8gbnVsbCxcbiAgICAgICAgICAgIHRpbWVsaW5lX3Jvdzogcm93T3ZlcnJpZGUsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXJ0LnRpbWVsaW5lX3JvdyAhPT0gbnVsbCAmJiBwYXJ0LnRpbWVsaW5lX3JvdyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdXBkYXRlc0J5UGFydFtwYXJ0LmlkXSA9IHtcbiAgICAgICAgICAgIHRpbWVsaW5lX3JvdzogbnVsbCxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgT2JqZWN0LnZhbHVlcyhzdWJwYXJ0c0J5UGFydCkuZmxhdCgpLmZvckVhY2goKHN1YikgPT4ge1xuICAgICAgICBjb25zdCBvdmVycmlkZSA9IHN1YnBhcnRUaW1lbGluZU92ZXJyaWRlc1tzdWIuaWRdO1xuICAgICAgICBjb25zdCBzdGFydCA9IG92ZXJyaWRlPy5zdGFydCA/PyBzdWIudGltZXBvaW50X3NlY29uZHMgPz8gbnVsbDtcbiAgICAgICAgY29uc3QgZW5kID0gb3ZlcnJpZGU/LmVuZCA/PyBzdWIudGltZXBvaW50X2VuZF9zZWNvbmRzID8/IG51bGw7XG4gICAgICAgIGlmIChzdGFydCAhPT0gbnVsbCkge1xuICAgICAgICAgIHVwZGF0ZXNCeVN1YnBhcnRbc3ViLmlkXSA9IHtcbiAgICAgICAgICAgIHRpbWVwb2ludF9zZWNvbmRzOiBzdGFydCxcbiAgICAgICAgICAgIHRpbWVwb2ludF9lbmRfc2Vjb25kczogZW5kID8/IG51bGwsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRQYXJ0czogUGFydEl0ZW1bXSA9IFtdO1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHVwZGF0ZXNCeVBhcnQpLm1hcChhc3luYyAoW3BhcnRJZCwgcGF5bG9hZF0pID0+IHtcbiAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9wYXJ0cy8ke3BhcnRJZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgICAgIHVwZGF0ZWRQYXJ0cy5wdXNoKHVwZGF0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBPYmplY3QuZW50cmllcyh1cGRhdGVzQnlTdWJwYXJ0KS5tYXAoYXN5bmMgKFtzdWJwYXJ0SWQsIHBheWxvYWRdKSA9PiB7XG4gICAgICAgICAgYXdhaXQgZmV0Y2goYC9hcGkvc3VicGFydHMvJHtzdWJwYXJ0SWR9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBpZiAodXBkYXRlZFBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgb25QYXJ0c1VwZGF0ZWQoXG4gICAgICAgICAgcGFydHMubWFwKChwYXJ0KSA9PiB1cGRhdGVkUGFydHMuZmluZCgodSkgPT4gdS5pZCA9PT0gcGFydC5pZCkgfHwgcGFydClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCAtbXgtNCBweC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIHAtNCB3LWZ1bGxcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIG1iLTJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj5UaW1lbGluZTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC1hdXRvIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIHshbXVzaWNEdXJhdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPlRpbWVsaW5lIGxlbmd0aCAoc2VjKTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgbWluPXsxMH1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e21hbnVhbFRpbWVsaW5lTGVuZ3RofVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE1hbnVhbFRpbWVsaW5lTGVuZ3RoKHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlIHx8IFwiMFwiLCAxMCkgfHwgMCl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMjAgcHgtMiBweS0xIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZCB0ZXh0LXhzXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRNYW51YWxSb3dDb3VudCgocHJldikgPT4gcHJldiArIDEpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgdGV4dC14cyB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktNTBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQWRkIFJvd1xuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNhdmVUaW1lbGluZX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSBiZy1pbmRpZ28tNjAwIHRleHQtd2hpdGUgcm91bmRlZCB0ZXh0LXNtIGRpc2FibGVkOmJnLWdyYXktNDAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtzYXZpbmcgPyBcIlNhdmluZy4uLlwiIDogXCJTYXZlIFRpbWVsaW5lXCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgIERyYWcgcGFydHMgdG8gbW92ZSB0aGVtLiBEcm9wIGNoaXBzIG9yIHR5cGUgdGltZXMgdG8gc2V0IFN0YXJ0L0VuZC5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgc3BhY2UteS00XCI+XG4gICAgICAgICAgICB7dGltZWxpbmVEYXRhLnJvd3MubWFwKChyb3csIHJvd0luZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtyb3cuaWR9IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPlJvdyB7cm93SW5kZXggKyAxfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIHtyb3dJbmRleCA+PSB0aW1lbGluZURhdGEuYXV0b1Jvd0NvdW50ICYmIHJvdy5pdGVtcy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE1hbnVhbFJvd0NvdW50KChwcmV2KSA9PiBNYXRoLm1heCgxLCBwcmV2IC0gMSkpXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLWF1dG8gdGV4dC1bMTFweF0gdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktODAwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIFJlbW92ZSByb3dcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIHJlZj17cm93SW5kZXggPT09IDAgPyB0aW1lbGluZVJlZiA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIGgtMzYgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkIGJnLWdyYXktNTAgb3ZlcmZsb3ctdmlzaWJsZVwiXG4gICAgICAgICAgICAgICAgICBvbkRyYWdPdmVyPXsoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpfVxuICAgICAgICAgICAgICAgICAgb25Ecm9wPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0SWQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKFwicGFydElkXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcnRJZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWN0ID0gKGUuY3VycmVudFRhcmdldCBhcyBIVE1MRGl2RWxlbWVudCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGlvID0gKGUuY2xpZW50WCAtIHJlY3QubGVmdCkgLyByZWN0LndpZHRoO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRpbWVsaW5lTGVuZ3RoIC0gdGltZWxpbmVEZWZhdWx0RHVyYXRpb24sIE1hdGgucm91bmQocmF0aW8gKiB0aW1lbGluZUxlbmd0aCkpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydCA9IHBhcnRzLmZpbmQoKHApID0+IHAuaWQgPT09IHBhcnRJZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhcnQ6IGV4aXN0aW5nU3RhcnQsIGVuZDogZXhpc3RpbmdFbmQgfSA9IHBhcnQgPyBnZXRQYXJ0U3RhcnRFbmQocGFydCkgOiB7IHN0YXJ0OiBudWxsLCBlbmQ6IG51bGwgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBleGlzdGluZ1N0YXJ0ICE9PSBudWxsICYmIGV4aXN0aW5nRW5kICE9PSBudWxsID8gZXhpc3RpbmdFbmQgLSBleGlzdGluZ1N0YXJ0IDogdGltZWxpbmVEZWZhdWx0RHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgIHNldFBhcnRTdGFydEVuZChwYXJ0SWQsIHN0YXJ0LCBzdGFydCArIE1hdGgubWF4KDEsIGR1cmF0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFBhcnRSb3dPdmVycmlkZXMoKHByZXYpID0+ICh7IC4uLnByZXYsIFtwYXJ0SWRdOiByb3dJbmRleCB9KSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtyb3cuaXRlbXMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlZnQgPSAoaXRlbS5zdGFydCAvIHRpbWVsaW5lTGVuZ3RoKSAqIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSAoKGl0ZW0uZW5kIC0gaXRlbS5zdGFydCkgLyB0aW1lbGluZUxlbmd0aCkgKiAxMDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQgPSBwYXJ0cy5maW5kKChwKSA9PiBwLmlkID09PSBpdGVtLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VicGFydHMgPSBwYXJ0ID8gc3VicGFydHNCeVBhcnRbcGFydC5pZF0gfHwgW10gOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydENvbG9yID0gcGFydENvbG9yQ2xhc3Nlc1tpdGVtLmlkXSB8fCBcImJnLXdoaXRlIGJvcmRlci1ncmF5LTMwMCB0ZXh0LWdyYXktOTAwXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gcGFydCA/IGdldFBhcnRTdGFydEVuZChwYXJ0KSA6IHsgc3RhcnQ6IG51bGwsIGVuZDogbnVsbCB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aXRlbS5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGFic29sdXRlIHRvcC0yIGgtWzEyMHB4XSByb3VuZGVkIGJvcmRlciBweC0zIHB5LTIgc2hhZG93LXNtIGN1cnNvci1tb3ZlICR7cGFydENvbG9yfSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm1pc3NpbmdFbmQgPyBcImJvcmRlci1ibHVlLTQwMFwiIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBsZWZ0OiBgJHtsZWZ0fSVgLCB3aWR0aDogYCR7TWF0aC5tYXgoNCwgd2lkdGgpfSVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChbXCJJTlBVVFwiLCBcIlRFWFRBUkVBXCIsIFwiQlVUVE9OXCJdLmluY2x1ZGVzKHRhcmdldC50YWdOYW1lKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRpbWVsaW5lUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IHRpbWVsaW5lUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGlvID0gKGUuY2xpZW50WCAtIHJlY3QubGVmdCkgLyByZWN0LndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXRTZWMgPSByYXRpbyAqIHRpbWVsaW5lTGVuZ3RoIC0gaXRlbS5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ1N0YXRlUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydElkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBpdGVtLmVuZCAtIGl0ZW0uc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0U2VjLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXREcmFnZ2luZ1BhcnRJZChpdGVtLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RHJhZ1ByZXZpZXcoeyBwYXJ0SWQ6IGl0ZW0uaWQsIHRpbWU6IGl0ZW0uc3RhcnQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkcmFnUHJldmlldz8ucGFydElkID09PSBpdGVtLmlkICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtdG9wLTYgbGVmdC0wIHB4LTIgcHktMC41IHJvdW5kZWQgYmctZ3JheS05MDAgdGV4dC13aGl0ZSB0ZXh0LVsxMHB4XVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRUaW1lRGV0YWlsZWQoZHJhZ1ByZXZpZXcudGltZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRydW5jYXRlXCI+e2l0ZW0ubmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBncmlkIGdyaWQtY29scy0yIGdhcC0xIHRleHQtWzExcHhdXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bib3JkZXIgYm9yZGVyLWRhc2hlZCByb3VuZGVkIHB4LTEgcHktMC41ICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm1pc3NpbmdFbmQgPyBcImJvcmRlci1ibHVlLTQwMCBiZy1ibHVlLTUwXCIgOiBcImJvcmRlci1ncmF5LTMwMCBiZy13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnT3Zlcj17KGUpID0+IGUucHJldmVudERlZmF1bHQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyb3A9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXJrSWQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKFwibWFya0lkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXJrSWQpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtUaW1lID0gZ2V0TWFya1RpbWVCeUlkKG1hcmtJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFya1RpbWUgPT09IG51bGwpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRFbmQgPSBlbmQgIT09IG51bGwgJiYgbWFya1RpbWUgPiBlbmQgPyBtYXJrVGltZSA6IGVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcnRTdGFydEVuZChpdGVtLmlkLCBtYXJrVGltZSwgbmV4dEVuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWwtMSB3LTEyIGJnLXRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwYXJ0U3RhcnRJbnB1dFtpdGVtLmlkXSA/PyAoc3RhcnQgIT09IG51bGwgPyBmb3JtYXRUaW1lKHN0YXJ0KSA6IFwiXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJ0U3RhcnRJbnB1dCgocHJldikgPT4gKHsgLi4ucHJldiwgW2l0ZW0uaWRdOiBlLnRhcmdldC52YWx1ZSB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ICE9PSBcIkVudGVyXCIpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZVRpbWVTdHJpbmcocGFydFN0YXJ0SW5wdXRbaXRlbS5pZF0gPz8gXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5kICE9PSBudWxsICYmIHZhbHVlID4gZW5kKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcnRTdGFydEVuZChpdGVtLmlkLCB2YWx1ZSwgZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFydFN0YXJ0SW5wdXQoKHByZXYpID0+ICh7IC4uLnByZXYsIFtpdGVtLmlkXTogXCJcIiB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYm9yZGVyIGJvcmRlci1kYXNoZWQgcm91bmRlZCBweC0xIHB5LTAuNSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5taXNzaW5nRW5kID8gXCJib3JkZXItYmx1ZS00MDAgYmctYmx1ZS01MFwiIDogXCJib3JkZXItZ3JheS0zMDAgYmctd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9eyhlKSA9PiBlLnByZXZlbnREZWZhdWx0KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Ecm9wPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFya0lkID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcIm1hcmtJZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWFya0lkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXJrVGltZSA9IGdldE1hcmtUaW1lQnlJZChtYXJrSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtUaW1lID09PSBudWxsKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQgIT09IG51bGwgJiYgbWFya1RpbWUgPCBzdGFydCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFydFN0YXJ0RW5kKGl0ZW0uaWQsIHN0YXJ0LCBtYXJrVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLTEgdy0xMiBiZy10cmFuc3BhcmVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGFydEVuZElucHV0W2l0ZW0uaWRdID8/IChlbmQgIT09IG51bGwgPyBmb3JtYXRUaW1lKGVuZCkgOiBcIlwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFydEVuZElucHV0KChwcmV2KSA9PiAoeyAuLi5wcmV2LCBbaXRlbS5pZF06IGUudGFyZ2V0LnZhbHVlIH0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgIT09IFwiRW50ZXJcIikgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlVGltZVN0cmluZyhwYXJ0RW5kSW5wdXRbaXRlbS5pZF0gPz8gXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQgIT09IG51bGwgJiYgdmFsdWUgPCBzdGFydCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJ0U3RhcnRFbmQoaXRlbS5pZCwgc3RhcnQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFydEVuZElucHV0KChwcmV2KSA9PiAoeyAuLi5wcmV2LCBbaXRlbS5pZF06IFwiXCIgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAge3N1YnBhcnRzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3VicGFydHMubWFwKChzdWIpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3N1Yi5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTAuNSByb3VuZGVkLWZ1bGwgYmctd2hpdGUvODAgdGV4dC1bMTBweF0gYm9yZGVyIGJvcmRlci1ncmF5LTIwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3N1Yi50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdWIudGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE9wZW5TdWJwYXJ0c1BhcnRJZCgocHJldikgPT4gKHByZXYgPT09IGl0ZW0uaWQgPyBudWxsIDogaXRlbS5pZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0yIHRleHQtWzExcHhdIHRleHQtYmx1ZS03MDAgaG92ZXI6dGV4dC1ibHVlLTkwMCB1bmRlcmxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcGVuU3VicGFydHNQYXJ0SWQgPT09IGl0ZW0uaWQgPyBcIkhpZGUgc3VicGFydHNcIiA6IFwiU3VicGFydHNcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge29wZW5TdWJwYXJ0c1BhcnRJZCA9PT0gaXRlbS5pZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0wIHRvcC1mdWxsIG10LTIgdy03MiBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGcgc2hhZG93LWxnIHAtMyB6LTIwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJwYXJ0cyBmb3Ige2l0ZW0ubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1YnBhcnRzLm1hcCgoc3ViKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YlRpbWVzID0gZ2V0U3VicGFydFN0YXJ0RW5kKHN1Yik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e3N1Yi5pZH0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMCB0cnVuY2F0ZVwiPntzdWIudGl0bGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xMiBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQgcHgtMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3VicGFydFN0YXJ0SW5wdXRbc3ViLmlkXSA/PyAoc3ViVGltZXMuc3RhcnQgIT09IG51bGwgPyBmb3JtYXRUaW1lKHN1YlRpbWVzLnN0YXJ0KSA6IFwiXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTdWJwYXJ0U3RhcnRJbnB1dCgocHJldikgPT4gKHsgLi4ucHJldiwgW3N1Yi5pZF06IGUudGFyZ2V0LnZhbHVlIH0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgIT09IFwiRW50ZXJcIikgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlVGltZVN0cmluZyhzdWJwYXJ0U3RhcnRJbnB1dFtzdWIuaWRdID8/IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YlRpbWVzLmVuZCAhPT0gbnVsbCAmJiB2YWx1ZSA+IHN1YlRpbWVzLmVuZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTdWJwYXJ0U3RhcnRFbmQoc3ViLmlkLCB2YWx1ZSwgc3ViVGltZXMuZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3VicGFydFN0YXJ0SW5wdXQoKHByZXYpID0+ICh7IC4uLnByZXYsIFtzdWIuaWRdOiBcIlwiIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMTIgYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkIHB4LTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnBhcnRFbmRJbnB1dFtzdWIuaWRdID8/IChzdWJUaW1lcy5lbmQgIT09IG51bGwgPyBmb3JtYXRUaW1lKHN1YlRpbWVzLmVuZCkgOiBcIlwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3VicGFydEVuZElucHV0KChwcmV2KSA9PiAoeyAuLi5wcmV2LCBbc3ViLmlkXTogZS50YXJnZXQudmFsdWUgfSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbktleURvd249eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSAhPT0gXCJFbnRlclwiKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFyc2VUaW1lU3RyaW5nKHN1YnBhcnRFbmRJbnB1dFtzdWIuaWRdID8/IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YlRpbWVzLnN0YXJ0ICE9PSBudWxsICYmIHZhbHVlIDwgc3ViVGltZXMuc3RhcnQpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3VicGFydFN0YXJ0RW5kKHN1Yi5pZCwgc3ViVGltZXMuc3RhcnQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3VicGFydEVuZElucHV0KChwcmV2KSA9PiAoeyAuLi5wcmV2LCBbc3ViLmlkXTogXCJcIiB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG1vdmVTdWJwYXJ0KGl0ZW0uaWQsIHN1Yi5pZCwgXCJ1cFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTAuNSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQgdGV4dC1bMTBweF1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBtb3ZlU3VicGFydChpdGVtLmlkLCBzdWIuaWQsIFwiZG93blwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTAuNSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQgdGV4dC1bMTBweF1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTYwMFwiPlVuYXNzaWduZWQ8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIHt0aW1lbGluZURhdGEudW5hc3NpZ25lZC5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5BbGwgcGFydHMgYXNzaWduZWQ8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHt0aW1lbGluZURhdGEudW5hc3NpZ25lZC5tYXAoKHBhcnQpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtwYXJ0LmlkfVxuICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGVcbiAgICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9eyhlKSA9PiBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwicGFydElkXCIsIHBhcnQuaWQpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC0yIHB5LTEgcm91bmRlZCB0ZXh0LXhzIGN1cnNvci1tb3ZlICR7cGFydENvbG9yQ2xhc3Nlc1twYXJ0LmlkXSB8fCBcImJnLWdyYXktMjAwIHRleHQtZ3JheS04MDBcIn1gfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7cGFydC5uYW1lfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgeGw6Z3JpZC1jb2xzLVszMjBweF8xZnJdIGdhcC02XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIHAtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+UGFydHMgJiBTdWJwYXJ0czwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIG1iLTRcIj5cbiAgICAgICAgICAgIERyb3AgdGltZSBjaGlwcyBvbnRvIFN0YXJ0L0VuZC4gT25seSBkcm9wcGVkIGNoaXBzIGNoYW5nZSB0aW1lcG9pbnRzIHdoZW4gc2F2ZWQuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgIHtwYXJ0cy5tYXAoKHBhcnQpID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e3BhcnQuaWR9IGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1sZyBwLTNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+e3BhcnQubmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTIgbWItMlwiPlxuICAgICAgICAgICAgICAgICAge3JlbmRlclRpbWVUYXJnZXQoXCJwYXJ0XCIsIHBhcnQuaWQsIFwic3RhcnRcIil9XG4gICAgICAgICAgICAgICAgICB7cmVuZGVyVGltZVRhcmdldChcInBhcnRcIiwgcGFydC5pZCwgXCJlbmRcIil9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgeyhzdWJwYXJ0c0J5UGFydFtwYXJ0LmlkXSB8fCBbXSkubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgc3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgIHsoc3VicGFydHNCeVBhcnRbcGFydC5pZF0gfHwgW10pLm1hcCgoc3ViKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e3N1Yi5pZH0gY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTEwMCByb3VuZGVkIHAtMiBiZy1ncmF5LTUwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwXCI+e3N1Yi50aXRsZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMiBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJUaW1lVGFyZ2V0KFwic3VicGFydFwiLCBzdWIuaWQsIFwic3RhcnRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJUaW1lVGFyZ2V0KFwic3VicGFydFwiLCBzdWIuaWQsIFwiZW5kXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdTdWJwYXJ0VGl0bGVbcGFydC5pZF0gfHwgXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgIHNldE5ld1N1YnBhcnRUaXRsZSgocHJldikgPT4gKHsgLi4ucHJldiwgW3BhcnQuaWRdOiBlLnRhcmdldC52YWx1ZSB9KSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFkZCBzdWJwYXJ0XCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHB4LTIgcHktMSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgdGV4dC14c1wiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSAobmV3U3VicGFydFRpdGxlW3BhcnQuaWRdIHx8IFwiXCIpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRpdGxlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dE9yZGVyID0gKHN1YnBhcnRzQnlQYXJ0W3BhcnQuaWRdIHx8IFtdKS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS9zdWJwYXJ0c1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwYXJ0X2lkOiBwYXJ0LmlkLCB0aXRsZSwgb3JkZXI6IG5leHRPcmRlciB9KSxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjcmVhdGVkID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFN1YnBhcnRzQnlQYXJ0KChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBbcGFydC5pZF06IFsuLi4ocHJldltwYXJ0LmlkXSB8fCBbXSksIGNyZWF0ZWRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TmV3U3VicGFydFRpdGxlKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBbcGFydC5pZF06IFwiXCIgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIGJnLWdyYXktOTAwIHRleHQtd2hpdGUgcm91bmRlZCB0ZXh0LXhzXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQWRkXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMFwiPk1hcmtpbmcgU2Vzc2lvbjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC1hdXRvIGZsZXggZ2FwLTIgaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHZhbHVlPXtzZXNzaW9uVGl0bGV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRTZXNzaW9uVGl0bGUoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgc2V0Q3VzdG9tVGl0bGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIHRleHQtc21cIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2Vzc2lvbiB0aXRsZVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlU2Vzc2lvbn1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctZ3JheS05MDAgdGV4dC13aGl0ZSByb3VuZGVkIHRleHQtc21cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2F2ZSBTZXNzaW9uXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQXBwbHl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkIHRleHQtc20gZGlzYWJsZWQ6YmctZ3JheS00MDBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3NhdmluZyA/IFwiU2F2aW5nLi4uXCIgOiBcIkFwcGx5IFRpbWVwb2ludHNcIn1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBtdC0yXCI+XG4gICAgICAgICAgICBIb3RrZXlzOiBTcGFjZSA9IG1hcmsgdGltZSwgRSA9IG5ldyByb3cuIFdvcmtzIHdoaWxlIG11c2ljIGlzIHBsYXlpbmcgb3IgcGF1c2VkLlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIG10LTFcIj5cbiAgICAgICAgICAgIE11c2ljIGxlbmd0aDoge211c2ljRHVyYXRpb24gPyBmb3JtYXRUaW1lKG11c2ljRHVyYXRpb24pIDogXCLDr8K/wr1cIn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgYmctZ3JheS01MCBib3JkZXIgYm9yZGVyLWRhc2hlZCBib3JkZXItZ3JheS0zMDAgcm91bmRlZCBwLTMgdGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICBXYXZlZm9ybSB2aWV3OiBub3QgYXZhaWxhYmxlIHlldC4gV2UgY2FuIGFkZCBhIHdhdmVmb3JtIHByZXZpZXcgaW4gYSBmb2xsb3ctdXAuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIGZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRTZXNzaW9uSWR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXthc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRTZXNzaW9uSWQoaWQpO1xuICAgICAgICAgICAgICAgIGlmICghaWQpIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9tYXJraW5nLXNlc3Npb25zLyR7aWR9YCk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXMub2spIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgICAgICAgICBzZXRTZXNzaW9uVGl0bGUoZGF0YS50aXRsZSB8fCBcIk1hcmtpbmcgU2Vzc2lvblwiKTtcbiAgICAgICAgICAgICAgICBzZXRDdXN0b21UaXRsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0Um93cyA9IChkYXRhLnJvd3MgfHwgW10pLm1hcCgocm93OiBNYXJrUm93KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgLi4ucm93LFxuICAgICAgICAgICAgICAgICAgbm90ZTogcm93Lm5vdGUgfHwgXCJcIixcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgc2V0Um93cyhuZXh0Um93cyk7XG4gICAgICAgICAgICAgICAgc2V0QXNzaWdubWVudHMobm9ybWFsaXplQXNzaWdubWVudHMobmV4dFJvd3MsIGRhdGEuYXNzaWdubWVudHMgfHwge30pKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZCB0ZXh0LXNtXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPkxvYWQgc2F2ZWQgc2Vzc2lvbi4uLjwvb3B0aW9uPlxuICAgICAgICAgICAgICB7c2Vzc2lvbkxpc3QubWFwKChzZXNzKSA9PiAoXG4gICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e3Nlc3MuaWR9IHZhbHVlPXtzZXNzLmlkfT5cbiAgICAgICAgICAgICAgICAgIHtzZXNzLnRpdGxlIHx8IFwiVW50aXRsZWRcIn0gw6/Cv8K9IHtwZXJmb3JtYW5jZU5hbWVNYXBbc2Vzcy5wZXJmb3JtYW5jZV9pZF0gfHwgXCJQZXJmb3JtYW5jZVwifSDDr8K/wr0ge25ldyBEYXRlKHNlc3MuY3JlYXRlZF9hdCkudG9Mb2NhbGVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXthbGxTZXNzaW9uc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEFsbFNlc3Npb25zKGUudGFyZ2V0LmNoZWNrZWQpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtNCB3LTRcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICBTaG93IHNlc3Npb25zIGZyb20gYWxsIHBlcmZvcm1hbmNlc1xuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0Um93ID0geyBpZDogdXVpZCgpLCBsYWJlbDogXCJSb3cgMVwiLCBub3RlOiBcIlwiLCBtYXJrczogW10gfTtcbiAgICAgICAgICAgICAgICBzZXRSb3dzKFtmaXJzdFJvd10pO1xuICAgICAgICAgICAgICAgIHNldEFjdGl2ZVJvd0lkKGZpcnN0Um93LmlkKTtcbiAgICAgICAgICAgICAgICBzZXRBc3NpZ25tZW50cyh7fSk7XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRTZXNzaW9uSWQoXCJcIik7XG4gICAgICAgICAgICAgICAgc2V0Q3VzdG9tVGl0bGUoZmFsc2UpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTEgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIHRleHQtc21cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBOZXcgU2Vzc2lvblxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIHAtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgbWItM1wiPk1hcmsgQ2hpcHM8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAge3Jvd3MubWFwKChyb3cpID0+IChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGtleT17cm93LmlkfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVJvd0lkKHJvdy5pZCl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYm9yZGVyIHJvdW5kZWQtbGcgcC0zIGN1cnNvci1wb2ludGVyICR7XG4gICAgICAgICAgICAgICAgICBhY3RpdmVSb3dJZCA9PT0gcm93LmlkID8gXCJib3JkZXItYmx1ZS00MDAgYmctYmx1ZS01MFwiIDogXCJib3JkZXItZ3JheS0yMDBcIlxuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVJvd0lkKHJvdy5pZCl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTIgcHktMSByb3VuZGVkIHRleHQteHMgZm9udC1zZW1pYm9sZCAke1xuICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVJvd0lkID09PSByb3cuaWQgPyBcImJnLWJsdWUtNjAwIHRleHQtd2hpdGVcIiA6IFwiYmctZ3JheS0xMDAgdGV4dC1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7cm93LmxhYmVsfVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5Ecm9wIGNoaXBzIGludG8gdGhlIGVtcHR5IHNsb3QgdG8gb3JnYW5pemUuPC9zcGFuPlxuICAgICAgICAgICAgICAgICAge3Jvd3MubGVuZ3RoID4gMSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJvd3MoKHByZXYpID0+IHByZXYuZmlsdGVyKChyKSA9PiByLmlkICE9PSByb3cuaWQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVSb3dJZCA9PT0gcm93LmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrID0gcm93cy5maW5kKChyKSA9PiByLmlkICE9PSByb3cuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVSb3dJZChmYWxsYmFjayA/IGZhbGxiYWNrLmlkIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtbC1hdXRvIHRleHQteHMgdGV4dC1yZWQtNjAwIGhvdmVyOnRleHQtcmVkLTgwMFwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBEZWxldGUgUm93XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtyb3cubm90ZSB8fCBcIlwifVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICBzZXRSb3dzKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgIHByZXYubWFwKChyKSA9PiAoci5pZCA9PT0gcm93LmlkID8geyAuLi5yLCBub3RlOiBlLnRhcmdldC52YWx1ZSB9IDogcikpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUm93IG5vdGVzLi4uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0yIHB5LTEgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkIHRleHQteHMgbWItMlwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICB7cm93Lm1hcmtzLm1hcCgobWFyaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2FnZSA9IGFzc2lnbmVkTWFya0NvdW50c1ttYXJrLmlkXSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xvckNsYXNzID1cbiAgICAgICAgICAgICAgICAgICAgICB1c2FnZSA+PSAyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctZ3JheS0yMDAgdGV4dC1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHVzYWdlID09PSAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy15ZWxsb3ctMjAwIHRleHQteWVsbG93LTkwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJiZy1pbmRpZ28tMTAwIHRleHQtaW5kaWdvLTgwMFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAga2V5PXttYXJrLmlkfVxuICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZVxuICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcIm1hcmtJZFwiLCBtYXJrLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTIgcHktMSByb3VuZGVkIHRleHQteHMgY3Vyc29yLW1vdmUgJHtjb2xvckNsYXNzfWB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57Zm9ybWF0VGltZShtYXJrLnRpbWUpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlUmVtb3ZlTWFyayhyb3cuaWQsIG1hcmsuaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LWdyYXktNjAwIGhvdmVyOnRleHQtZ3JheS04MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIlJlbW92ZSBjaGlwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgw6/Cv8K9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIGJvcmRlciBib3JkZXItZGFzaGVkIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIHRleHQteHMgdGV4dC1ncmF5LTUwMFwiXG4gICAgICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9eyhlKSA9PiBlLnByZXZlbnREZWZhdWx0KCl9XG4gICAgICAgICAgICAgICAgICAgIG9uRHJvcD17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXJrSWQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKFwibWFya0lkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICghbWFya0lkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgaGFuZGxlRHJvcFRvUm93KHJvdy5pZCwgbWFya0lkKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgRW1wdHkgc2xvdFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHRleHQtWzExcHhdIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgIFRpbWVzOntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIHtyb3cubWFya3MubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgID8gXCLDr8K/wr1cIlxuICAgICAgICAgICAgICAgICAgICA6IHJvdy5tYXJrcy5tYXAoKG0pID0+IGZvcm1hdFRpbWUobS50aW1lKSkuam9pbihcIiwgXCIpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgICA8TXVzaWNQbGF5ZXJcbiAgICAgICAgICAgIG11c2ljVXJsPXttdXNpY1VybCB8fCB1bmRlZmluZWR9XG4gICAgICAgICAgICBvblRpbWVVcGRhdGU9eyh0KSA9PiBzZXRDdXJyZW50VGltZSh0KX1cbiAgICAgICAgICAgIG9uQXVkaW9SZWFkeT17aGFuZGxlQXVkaW9SZWFkeX1cbiAgICAgICAgICAgIGF1ZGlvUmVmPXthdWRpb1JlZn1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIk11c2ljUGxheWVyIiwiZm9ybWF0VGltZSIsInNlY29uZHMiLCJ0b3RhbCIsIk1hdGgiLCJtYXgiLCJmbG9vciIsIm1pbnMiLCJzZWNzIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImZvcm1hdFRpbWVEZXRhaWxlZCIsImhvdXJzIiwicGFyc2VUaW1lU3RyaW5nIiwidmFsdWUiLCJ0cmltbWVkIiwidHJpbSIsInRlc3QiLCJwYXJzZUZsb2F0IiwicGFydHMiLCJzcGxpdCIsImxlbmd0aCIsInBhcnNlSW50IiwiTnVtYmVyIiwiaXNOYU4iLCJ1dWlkIiwicmFuZG9tIiwic2xpY2UiLCJEYXRlIiwibm93IiwiTWFya2luZ1BhbmVsIiwicGVyZm9ybWFuY2VJZCIsIm11c2ljVXJsIiwicGVyZm9ybWFuY2VUaXRsZSIsIm9uUGFydHNVcGRhdGVkIiwicm93cyIsInNldFJvd3MiLCJhY3RpdmVSb3dJZCIsInNldEFjdGl2ZVJvd0lkIiwiY3VycmVudFRpbWUiLCJzZXRDdXJyZW50VGltZSIsImFzc2lnbm1lbnRzIiwic2V0QXNzaWdubWVudHMiLCJzdWJwYXJ0c0J5UGFydCIsInNldFN1YnBhcnRzQnlQYXJ0IiwibmV3U3VicGFydFRpdGxlIiwic2V0TmV3U3VicGFydFRpdGxlIiwic2F2aW5nIiwic2V0U2F2aW5nIiwic2Vzc2lvblRpdGxlIiwic2V0U2Vzc2lvblRpdGxlIiwiY3VzdG9tVGl0bGUiLCJzZXRDdXN0b21UaXRsZSIsInNlc3Npb25MaXN0Iiwic2V0U2Vzc2lvbkxpc3QiLCJzZWxlY3RlZFNlc3Npb25JZCIsInNldFNlbGVjdGVkU2Vzc2lvbklkIiwiYWxsU2Vzc2lvbnMiLCJzZXRBbGxTZXNzaW9ucyIsInBlcmZvcm1hbmNlTmFtZU1hcCIsInNldFBlcmZvcm1hbmNlTmFtZU1hcCIsIm11c2ljRHVyYXRpb24iLCJzZXRNdXNpY0R1cmF0aW9uIiwiYXVkaW9DbGVhbnVwUmVmIiwiYXVkaW9SZWYiLCJ0aW1lbGluZVJlZiIsIm1hbnVhbFRpbWVsaW5lTGVuZ3RoIiwic2V0TWFudWFsVGltZWxpbmVMZW5ndGgiLCJwYXJ0VGltZWxpbmVPdmVycmlkZXMiLCJzZXRQYXJ0VGltZWxpbmVPdmVycmlkZXMiLCJzdWJwYXJ0VGltZWxpbmVPdmVycmlkZXMiLCJzZXRTdWJwYXJ0VGltZWxpbmVPdmVycmlkZXMiLCJkcmFnZ2luZ1BhcnRJZCIsInNldERyYWdnaW5nUGFydElkIiwiZHJhZ1N0YXRlUmVmIiwiZHJhZ1ByZXZpZXciLCJzZXREcmFnUHJldmlldyIsInBhcnRTdGFydElucHV0Iiwic2V0UGFydFN0YXJ0SW5wdXQiLCJwYXJ0RW5kSW5wdXQiLCJzZXRQYXJ0RW5kSW5wdXQiLCJzdWJwYXJ0U3RhcnRJbnB1dCIsInNldFN1YnBhcnRTdGFydElucHV0Iiwic3VicGFydEVuZElucHV0Iiwic2V0U3VicGFydEVuZElucHV0Iiwib3BlblN1YnBhcnRzUGFydElkIiwic2V0T3BlblN1YnBhcnRzUGFydElkIiwibWFudWFsUm93Q291bnQiLCJzZXRNYW51YWxSb3dDb3VudCIsInBhcnRSb3dPdmVycmlkZXMiLCJzZXRQYXJ0Um93T3ZlcnJpZGVzIiwiYXNzaWdubWVudEhpc3RvcnkiLCJzZXRBc3NpZ25tZW50SGlzdG9yeSIsIm9wZW5IaXN0b3J5VGFyZ2V0Iiwic2V0T3Blbkhpc3RvcnlUYXJnZXQiLCJ0aW1lbGluZUxlbmd0aCIsInRpbWVzIiwiZm9yRWFjaCIsInBhcnQiLCJvdmVycmlkZSIsImlkIiwic3RhcnQiLCJ0aW1lcG9pbnRfc2Vjb25kcyIsImVuZCIsInRpbWVwb2ludF9lbmRfc2Vjb25kcyIsInB1c2giLCJPYmplY3QiLCJ2YWx1ZXMiLCJmbGF0Iiwic3ViIiwibWF4VGltZSIsImlzRmluaXRlIiwiY3VycmVudCIsImhhbmRsZU1vdmUiLCJldmVudCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJyYXRpbyIsImNsaWVudFgiLCJsZWZ0Iiwid2lkdGgiLCJyYXciLCJvZmZzZXRTZWMiLCJkdXJhdGlvbiIsIm1pbiIsInNuYXBwZWQiLCJyb3VuZCIsInNldFBhcnRTdGFydEVuZCIsInBhcnRJZCIsInRpbWUiLCJoYW5kbGVVcCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlQXVkaW9SZWFkeSIsImF1ZGlvIiwidXBkYXRlIiwiYXNzaWduZWRNYXJrQ291bnRzIiwiY291bnRzIiwibWFya0lkIiwiZmlyc3RSb3ciLCJsYWJlbCIsIm5vdGUiLCJtYXJrcyIsInRpdGxlIiwidG9Mb2NhbGVTdHJpbmciLCJnZXRQYXJ0U3RhcnRFbmQiLCJwcmV2Iiwic2V0U3VicGFydFN0YXJ0RW5kIiwic3VicGFydElkIiwiZ2V0U3VicGFydFN0YXJ0RW5kIiwiZmV0Y2hTdWJwYXJ0cyIsImVudHJpZXMiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwicmVzIiwiZmV0Y2giLCJvayIsImRhdGEiLCJqc29uIiwibGlzdCIsIm5leHQiLCJ0aW1lbGluZV9yb3ciLCJ1bmRlZmluZWQiLCJmZXRjaFNlc3Npb25zIiwiZmV0Y2hQZXJmb3JtYW5jZU5hbWVzIiwicGVyZiIsImhhbmRsZUtleURvd24iLCJ0YXJnZXQiLCJ0YWciLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJjb2RlIiwicHJldmVudERlZmF1bHQiLCJyb3dJZCIsIm1hcmsiLCJjcmVhdGVkQXQiLCJ0b0lTT1N0cmluZyIsInJvdyIsImtleSIsIm5leHRJbmRleCIsIm5ld1JvdyIsImlkeCIsImZpbmRJbmRleCIsInIiLCJzcGxpY2UiLCJoYW5kbGVEcm9wVG9Sb3ciLCJtb3ZlZCIsInJlbW92ZWQiLCJuZXh0TWFya3MiLCJmaWx0ZXIiLCJtIiwiaGFuZGxlUmVtb3ZlTWFyayIsImdldE1hcmtUaW1lQnlJZCIsImZpbmQiLCJ0aW1lbGluZURlZmF1bHREdXJhdGlvbiIsInBhcnRDb2xvckNsYXNzZXMiLCJwYWxldHRlIiwiaW5kZXgiLCJwZXJzaXN0U3VicGFydE9yZGVyIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib3JkZXIiLCJtb3ZlU3VicGFydCIsImRpcmVjdGlvbiIsInMiLCJpdGVtIiwidGltZWxpbmVEYXRhIiwiYXNzaWduZWQiLCJ1bmFzc2lnbmVkIiwicmVzb2x2ZWRFbmQiLCJuYW1lIiwibWlzc2luZ0VuZCIsInNvcnQiLCJhIiwiYiIsImVuc3VyZVJvdyIsIml0ZW1zIiwib3ZlcnJpZGVSb3ciLCJwbGFjZWQiLCJsYXN0IiwiYXV0b1Jvd0NvdW50IiwiaSIsIm1hbnVhbCIsIm5vcm1hbGl6ZUFzc2lnbm1lbnRzIiwicm93c1NuYXBzaG90Iiwibm9ybWFsaXplZCIsImZsYXRNYXAiLCJnZXRBc3NpZ25lZFRpbWUiLCJ0YXJnZXRLZXkiLCJnZXRUaW1lRnJvbUFzc2lnbm1lbnQiLCJwdXNoQXNzaWdubWVudEhpc3RvcnkiLCJwcmV2VmFsdWUiLCJ0eXBlIiwiZmllbGQiLCJleGlzdGluZ1RpbWUiLCJnZXRFeGlzdGluZ1RpbWUiLCJwcmV2VGltZSIsImRpc3BsYXlUaW1lIiwiYXQiLCJ1bmRvQXNzaWdubWVudCIsImhpc3RvcnkiLCJsYXRlc3QiLCJyZXN0IiwicCIsImFzc2lnbk1hcmtUb1RhcmdldCIsIm1hcmtUaW1lIiwib3Bwb3NpdGVGaWVsZCIsImFzc2lnbmVkT3Bwb3NpdGUiLCJleGlzdGluZ09wcG9zaXRlIiwib3Bwb3NpdGVUaW1lIiwiYWxlcnQiLCJjbGVhckFzc2lnbm1lbnQiLCJyZW5kZXJUaW1lVGFyZ2V0IiwiYXNzaWduZWRWYWx1ZSIsImFzc2lnbmVkTWFya0lkIiwiYXNzaWduZWRUaW1lIiwic2hvd1RpbWUiLCJkaXYiLCJjbGFzc05hbWUiLCJvbkRyYWdPdmVyIiwiZSIsIm9uRHJvcCIsImRhdGFUcmFuc2ZlciIsImdldERhdGEiLCJzcGFuIiwiYnV0dG9uIiwib25DbGljayIsImVudHJ5IiwiaGFuZGxlU2F2ZVNlc3Npb24iLCJwYXlsb2FkIiwicGVyZm9ybWFuY2VfaWQiLCJjcmVhdGVkIiwiaGFuZGxlQXBwbHkiLCJ1cGRhdGVzQnlQYXJ0IiwidXBkYXRlc0J5U3VicGFydCIsInVwZGF0ZWRQYXJ0cyIsInVwZGF0ZWRTdWJwYXJ0cyIsInVwZGF0ZWQiLCJ1IiwicGFydF9pZCIsImhhbmRsZVNhdmVUaW1lbGluZSIsInJvd092ZXJyaWRlIiwiaW5wdXQiLCJvbkNoYW5nZSIsImRpc2FibGVkIiwicm93SW5kZXgiLCJyZWYiLCJjdXJyZW50VGFyZ2V0IiwiZXhpc3RpbmdTdGFydCIsImV4aXN0aW5nRW5kIiwic3VicGFydHMiLCJwYXJ0Q29sb3IiLCJzdHlsZSIsIm9uTW91c2VEb3duIiwiaW5jbHVkZXMiLCJuZXh0RW5kIiwib25LZXlEb3duIiwic3ViVGltZXMiLCJkcmFnZ2FibGUiLCJvbkRyYWdTdGFydCIsInNldERhdGEiLCJwbGFjZWhvbGRlciIsIm5leHRPcmRlciIsInNlbGVjdCIsIm5leHRSb3dzIiwib3B0aW9uIiwic2VzcyIsImNyZWF0ZWRfYXQiLCJjaGVja2VkIiwic3RvcFByb3BhZ2F0aW9uIiwiZmFsbGJhY2siLCJ1c2FnZSIsImNvbG9yQ2xhc3MiLCJqb2luIiwib25UaW1lVXBkYXRlIiwidCIsIm9uQXVkaW9SZWFkeSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/MarkingPanel.tsx\n"));

/***/ })

});