"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/admin/performances/[id]/page",{

/***/ "(app-pages-browser)/./src/components/RehearseOverlay.tsx":
/*!********************************************!*\
  !*** ./src/components/RehearseOverlay.tsx ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RehearseOverlay: () => (/* binding */ RehearseOverlay)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_AppLogo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/AppLogo */ \"(app-pages-browser)/./src/components/AppLogo.tsx\");\n/* __next_internal_client_entry_do_not_use__ RehearseOverlay auto */ \nvar _s = $RefreshSig$();\n\n\nconst GRID_COLS = 12;\nconst GRID_ROWS = 8;\nconst CURRENT_CELL_SIZE = 34;\nconst NEXT_CELL_SIZE = 80;\nfunction getInitials(name) {\n    if (!name) return \"?\";\n    const chunks = name.trim().split(/\\s+/);\n    if (chunks.length === 1) return chunks[0].slice(0, 2).toUpperCase();\n    return (chunks[0][0] + chunks[chunks.length - 1][0]).toUpperCase();\n}\nfunction RehearseOverlay(param) {\n    let { performanceId, parts, musicUrl, onClose, onUpdatePartTimepoints } = param;\n    _s();\n    const [currentTime, setCurrentTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [positionsByPart, setPositionsByPart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [loadingPositions, setLoadingPositions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [ringEnabled, setRingEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [subpartsByPart, setSubpartsByPart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [subpartAssignments, setSubpartAssignments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [subpartHasPositions, setSubpartHasPositions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [personFilter, setPersonFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [notesByKey, setNotesByKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [noteDrafts, setNoteDrafts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [noteSaving, setNoteSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [countdown, setCountdown] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [countdownTargetTime, setCountdownTargetTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [countdownTargetPartId, setCountdownTargetPartId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [callTime, setCallTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [performanceTitle, setPerformanceTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [stageOrientation, setStageOrientation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"bottom\");\n    const [flashSubpartId, setFlashSubpartId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentSubpartId, setCurrentSubpartId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editingPartId, setEditingPartId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editStartMin, setEditStartMin] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [editStartSec, setEditStartSec] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [editEndMin, setEditEndMin] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [editEndSec, setEditEndSec] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [savingPartId, setSavingPartId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [partTimeOverrides, setPartTimeOverrides] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [expandedPartIds, setExpandedPartIds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [duration, setDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [volume, setVolume] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [loopEnabled, setLoopEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [loopRange, setLoopRange] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [pendingLoopRange, setPendingLoopRange] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loopSelectMode, setLoopSelectMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [timeError, setTimeError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isScrubbing, setIsScrubbing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const timelineRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const currentGridWrapRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const nextGridWrapRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [currentGridScale, setCurrentGridScale] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [nextGridScale, setNextGridScale] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const prevTimeToNextRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastFlashRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const effectiveParts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"RehearseOverlay.useMemo[effectiveParts]\": ()=>{\n            return parts.map({\n                \"RehearseOverlay.useMemo[effectiveParts]\": (part)=>{\n                    const override = partTimeOverrides[part.id];\n                    if (!override) return part;\n                    return {\n                        ...part,\n                        timepoint_seconds: override.start,\n                        timepoint_end_seconds: override.end\n                    };\n                }\n            }[\"RehearseOverlay.useMemo[effectiveParts]\"]);\n        }\n    }[\"RehearseOverlay.useMemo[effectiveParts]\"], [\n        parts,\n        partTimeOverrides\n    ]);\n    const orderedParts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"RehearseOverlay.useMemo[orderedParts]\": ()=>{\n            return [\n                ...effectiveParts\n            ].sort({\n                \"RehearseOverlay.useMemo[orderedParts]\": (a, b)=>{\n                    const aTime = typeof a.timepoint_seconds === \"number\" ? a.timepoint_seconds : Number.POSITIVE_INFINITY;\n                    const bTime = typeof b.timepoint_seconds === \"number\" ? b.timepoint_seconds : Number.POSITIVE_INFINITY;\n                    if (aTime === bTime) return (a.order || 0) - (b.order || 0);\n                    return aTime - bTime;\n                }\n            }[\"RehearseOverlay.useMemo[orderedParts]\"]);\n        }\n    }[\"RehearseOverlay.useMemo[orderedParts]\"], [\n        effectiveParts\n    ]);\n    const timepointParts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"RehearseOverlay.useMemo[timepointParts]\": ()=>{\n            return orderedParts.filter({\n                \"RehearseOverlay.useMemo[timepointParts]\": (p)=>typeof p.timepoint_seconds === \"number\"\n            }[\"RehearseOverlay.useMemo[timepointParts]\"]);\n        }\n    }[\"RehearseOverlay.useMemo[timepointParts]\"], [\n        orderedParts\n    ]);\n    const partSegments = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"RehearseOverlay.useMemo[partSegments]\": ()=>{\n            const segments = [];\n            const sorted = [\n                ...orderedParts\n            ].filter({\n                \"RehearseOverlay.useMemo[partSegments].sorted\": (p)=>typeof p.timepoint_seconds === \"number\"\n            }[\"RehearseOverlay.useMemo[partSegments].sorted\"]).sort({\n                \"RehearseOverlay.useMemo[partSegments].sorted\": (a, b)=>(a.timepoint_seconds || 0) - (b.timepoint_seconds || 0)\n            }[\"RehearseOverlay.useMemo[partSegments].sorted\"]);\n            for(let i = 0; i < sorted.length; i++){\n                const part = sorted[i];\n                const start = part.timepoint_seconds || 0;\n                const nextStart = i < sorted.length - 1 ? sorted[i + 1].timepoint_seconds || start : null;\n                const end = typeof part.timepoint_end_seconds === \"number\" ? part.timepoint_end_seconds : nextStart !== null ? nextStart : start + 1;\n                segments.push({\n                    id: part.id,\n                    name: part.name,\n                    start,\n                    end: Math.max(end, start + 0.1),\n                    subparts: subpartsByPart[part.id] || []\n                });\n            }\n            return segments;\n        }\n    }[\"RehearseOverlay.useMemo[partSegments]\"], [\n        orderedParts,\n        subpartsByPart\n    ]);\n    const partSegmentById = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"RehearseOverlay.useMemo[partSegmentById]\": ()=>{\n            const map = new Map();\n            partSegments.forEach({\n                \"RehearseOverlay.useMemo[partSegmentById]\": (seg)=>{\n                    map.set(seg.id, {\n                        start: seg.start,\n                        end: seg.end\n                    });\n                }\n            }[\"RehearseOverlay.useMemo[partSegmentById]\"]);\n            return map;\n        }\n    }[\"RehearseOverlay.useMemo[partSegmentById]\"], [\n        partSegments\n    ]);\n    const timelineDuration = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"RehearseOverlay.useMemo[timelineDuration]\": ()=>{\n            const last = partSegments.reduce({\n                \"RehearseOverlay.useMemo[timelineDuration].last\": (max, seg)=>Math.max(max, seg.end)\n            }[\"RehearseOverlay.useMemo[timelineDuration].last\"], 0);\n            return Math.max(duration || 0, last, 1);\n        }\n    }[\"RehearseOverlay.useMemo[timelineDuration]\"], [\n        partSegments,\n        duration\n    ]);\n    const currentIndex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"RehearseOverlay.useMemo[currentIndex]\": ()=>{\n            if (timepointParts.length === 0) return -1;\n            let idx = 0;\n            for(let i = 0; i < timepointParts.length; i++){\n                const start = timepointParts[i].timepoint_seconds || 0;\n                const end = timepointParts[i].timepoint_end_seconds;\n                if (currentTime >= start && (end === null || end === undefined || currentTime < end)) {\n                    idx = i;\n                } else if (currentTime >= start) {\n                    idx = i;\n                }\n            }\n            return idx;\n        }\n    }[\"RehearseOverlay.useMemo[currentIndex]\"], [\n        timepointParts,\n        currentTime\n    ]);\n    const currentPart = currentIndex >= 0 ? timepointParts[currentIndex] : null;\n    const nextPart = currentIndex >= 0 ? timepointParts[currentIndex + 1] : null;\n    const timeToNext = nextPart ? Math.max(0, (nextPart.timepoint_seconds || 0) - currentTime) : null;\n    const formatTime = (seconds)=>{\n        if (seconds === null || seconds === undefined || Number.isNaN(seconds)) return \"--:--\";\n        const total = Math.max(0, Math.floor(seconds));\n        const mins = Math.floor(total / 60);\n        const secs = total % 60;\n        return \"\".concat(mins, \":\").concat(secs.toString().padStart(2, \"0\"));\n    };\n    const formatDuration = (start, end)=>{\n        if (typeof start !== \"number\" || typeof end !== \"number\") return \"\";\n        if (!Number.isFinite(start) || !Number.isFinite(end)) return \"\";\n        const total = Math.max(0, end - start);\n        const mins = Math.floor(total / 60);\n        const secs = Math.round(total % 60);\n        return \"\".concat(mins, \"m \").concat(secs, \"s\");\n    };\n    const getSubpartBounds = (partId)=>{\n        const list = subpartsByPart[partId] || [];\n        const starts = [];\n        const ends = [];\n        list.forEach((sub)=>{\n            if (typeof sub.timepoint_seconds === \"number\") starts.push(sub.timepoint_seconds);\n            if (typeof sub.timepoint_end_seconds === \"number\") ends.push(sub.timepoint_end_seconds);\n        });\n        return {\n            minStart: starts.length > 0 ? Math.min(...starts) : null,\n            maxEnd: ends.length > 0 ? Math.max(...ends) : null\n        };\n    };\n    const splitTime = (value)=>{\n        if (value === null || value === undefined || Number.isNaN(value)) return {\n            min: \"\",\n            sec: \"\"\n        };\n        const total = Math.max(0, Math.floor(value));\n        return {\n            min: String(Math.floor(total / 60)),\n            sec: String(total % 60)\n        };\n    };\n    const composeSeconds = (minStr, secStr)=>{\n        if (!minStr && !secStr) return null;\n        const mins = minStr ? parseInt(minStr, 10) : 0;\n        const secs = secStr ? parseFloat(secStr) : 0;\n        if (Number.isNaN(mins) || Number.isNaN(secs)) return null;\n        return mins * 60 + secs;\n    };\n    const seekTo = function(time) {\n        let shouldPlay = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n        if (!audioRef.current) return;\n        const nextTime = Math.max(0, time);\n        audioRef.current.currentTime = nextTime;\n        setCurrentTime(nextTime);\n        if (shouldPlay) {\n            audioRef.current.play();\n        }\n    };\n    const togglePlay = ()=>{\n        if (!audioRef.current) return;\n        if (isPlaying) {\n            audioRef.current.pause();\n        } else {\n            audioRef.current.play();\n        }\n    };\n    const selectLoopForPart = (partId)=>{\n        const seg = partSegmentById.get(partId);\n        if (seg) setPendingLoopRange(seg);\n    };\n    const allPeople = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"RehearseOverlay.useMemo[allPeople]\": ()=>{\n            const names = new Set();\n            Object.values(positionsByPart).forEach({\n                \"RehearseOverlay.useMemo[allPeople]\": (list)=>{\n                    list.forEach({\n                        \"RehearseOverlay.useMemo[allPeople]\": (p)=>names.add(p.student_name || \"Unknown\")\n                    }[\"RehearseOverlay.useMemo[allPeople]\"]);\n                }\n            }[\"RehearseOverlay.useMemo[allPeople]\"]);\n            Object.values(subpartAssignments).forEach({\n                \"RehearseOverlay.useMemo[allPeople]\": (list)=>{\n                    list.forEach({\n                        \"RehearseOverlay.useMemo[allPeople]\": (name)=>names.add(name || \"Unknown\")\n                    }[\"RehearseOverlay.useMemo[allPeople]\"]);\n                }\n            }[\"RehearseOverlay.useMemo[allPeople]\"]);\n            return Array.from(names).sort({\n                \"RehearseOverlay.useMemo[allPeople]\": (a, b)=>a.localeCompare(b)\n            }[\"RehearseOverlay.useMemo[allPeople]\"]);\n        }\n    }[\"RehearseOverlay.useMemo[allPeople]\"], [\n        positionsByPart,\n        subpartAssignments\n    ]);\n    const filteredParts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"RehearseOverlay.useMemo[filteredParts]\": ()=>{\n            if (!personFilter) return orderedParts;\n            return orderedParts.filter({\n                \"RehearseOverlay.useMemo[filteredParts]\": (part)=>{\n                    const posNames = (positionsByPart[part.id] || []).map({\n                        \"RehearseOverlay.useMemo[filteredParts].posNames\": (p)=>p.student_name\n                    }[\"RehearseOverlay.useMemo[filteredParts].posNames\"]);\n                    if (posNames.includes(personFilter)) return true;\n                    const subparts = subpartsByPart[part.id] || [];\n                    return subparts.some({\n                        \"RehearseOverlay.useMemo[filteredParts]\": (sub)=>(subpartAssignments[sub.id] || []).includes(personFilter)\n                    }[\"RehearseOverlay.useMemo[filteredParts]\"]);\n                }\n            }[\"RehearseOverlay.useMemo[filteredParts]\"]);\n        }\n    }[\"RehearseOverlay.useMemo[filteredParts]\"], [\n        orderedParts,\n        personFilter,\n        positionsByPart,\n        subpartsByPart,\n        subpartAssignments\n    ]);\n    const startEditPartTime = (part)=>{\n        const currentStart = typeof part.timepoint_seconds === \"number\" ? part.timepoint_seconds : null;\n        const currentEnd = typeof part.timepoint_end_seconds === \"number\" ? part.timepoint_end_seconds : null;\n        const startSplit = splitTime(currentStart);\n        const endSplit = splitTime(currentEnd);\n        setEditStartMin(startSplit.min);\n        setEditStartSec(startSplit.sec);\n        setEditEndMin(endSplit.min);\n        setEditEndSec(endSplit.sec);\n        setEditingPartId(part.id);\n        setTimeError(null);\n    };\n    const playRing = ()=>{\n        try {\n            const AudioCtx = window.AudioContext || window.webkitAudioContext;\n            if (!AudioCtx) return;\n            const ctx = new AudioCtx();\n            const gain = ctx.createGain();\n            gain.gain.value = 0.35;\n            gain.connect(ctx.destination);\n            const beep = (start)=>{\n                const osc = ctx.createOscillator();\n                osc.type = \"sine\";\n                osc.frequency.value = 880;\n                osc.connect(gain);\n                osc.start(start);\n                osc.stop(start + 0.18);\n            };\n            const now = ctx.currentTime;\n            beep(now);\n            beep(now + 0.35);\n            beep(now + 0.7);\n            setTimeout(()=>ctx.close(), 1200);\n        } catch (e) {\n        // ignore audio errors\n        }\n    };\n    const playBeep = ()=>{\n        try {\n            const AudioCtx = window.AudioContext || window.webkitAudioContext;\n            if (!AudioCtx) return;\n            const ctx = new AudioCtx();\n            const gain = ctx.createGain();\n            gain.gain.value = 0.3;\n            gain.connect(ctx.destination);\n            const osc = ctx.createOscillator();\n            osc.type = \"sine\";\n            osc.frequency.value = 880;\n            osc.connect(gain);\n            const now = ctx.currentTime;\n            osc.start(now);\n            osc.stop(now + 0.15);\n            setTimeout(()=>ctx.close(), 300);\n        } catch (e) {\n        // ignore\n        }\n    };\n    const startJumpCountdown = (targetTime, partId)=>{\n        if (!audioRef.current) return;\n        setCountdownTargetTime(targetTime);\n        setCountdownTargetPartId(partId);\n        setCountdown(3);\n        playBeep();\n        let tick = 3;\n        const interval = setInterval(()=>{\n            tick -= 1;\n            if (tick <= 0) {\n                clearInterval(interval);\n                setCountdown(null);\n                setCountdownTargetTime(null);\n                setCountdownTargetPartId(null);\n                audioRef.current.currentTime = targetTime;\n                audioRef.current.play();\n                return;\n            }\n            setCountdown(tick);\n            playBeep();\n        }, 1000);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RehearseOverlay.useEffect\": ()=>{\n            const audio = audioRef.current;\n            if (!audio) return;\n            const handleTimeUpdate = {\n                \"RehearseOverlay.useEffect.handleTimeUpdate\": ()=>{\n                    setCurrentTime(audio.currentTime);\n                }\n            }[\"RehearseOverlay.useEffect.handleTimeUpdate\"];\n            const handleLoaded = {\n                \"RehearseOverlay.useEffect.handleLoaded\": ()=>{\n                    setDuration(audio.duration || 0);\n                }\n            }[\"RehearseOverlay.useEffect.handleLoaded\"];\n            const handlePlay = {\n                \"RehearseOverlay.useEffect.handlePlay\": ()=>setIsPlaying(true)\n            }[\"RehearseOverlay.useEffect.handlePlay\"];\n            const handlePause = {\n                \"RehearseOverlay.useEffect.handlePause\": ()=>setIsPlaying(false)\n            }[\"RehearseOverlay.useEffect.handlePause\"];\n            audio.addEventListener(\"timeupdate\", handleTimeUpdate);\n            audio.addEventListener(\"loadedmetadata\", handleLoaded);\n            audio.addEventListener(\"play\", handlePlay);\n            audio.addEventListener(\"pause\", handlePause);\n            audio.addEventListener(\"ended\", handlePause);\n            return ({\n                \"RehearseOverlay.useEffect\": ()=>{\n                    audio.removeEventListener(\"timeupdate\", handleTimeUpdate);\n                    audio.removeEventListener(\"loadedmetadata\", handleLoaded);\n                    audio.removeEventListener(\"play\", handlePlay);\n                    audio.removeEventListener(\"pause\", handlePause);\n                    audio.removeEventListener(\"ended\", handlePause);\n                }\n            })[\"RehearseOverlay.useEffect\"];\n        }\n    }[\"RehearseOverlay.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RehearseOverlay.useEffect\": ()=>{\n            if (!audioRef.current) return;\n            audioRef.current.volume = volume;\n        }\n    }[\"RehearseOverlay.useEffect\"], [\n        volume\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RehearseOverlay.useEffect\": ()=>{\n            const el = currentGridWrapRef.current;\n            if (!el) return;\n            const baseWidth = GRID_COLS * CURRENT_CELL_SIZE;\n            const updateScale = {\n                \"RehearseOverlay.useEffect.updateScale\": ()=>{\n                    const width = el.clientWidth;\n                    if (!width) return;\n                    setCurrentGridScale(Math.min(1, width / baseWidth));\n                }\n            }[\"RehearseOverlay.useEffect.updateScale\"];\n            updateScale();\n            const observer = new ResizeObserver(updateScale);\n            observer.observe(el);\n            return ({\n                \"RehearseOverlay.useEffect\": ()=>observer.disconnect()\n            })[\"RehearseOverlay.useEffect\"];\n        }\n    }[\"RehearseOverlay.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RehearseOverlay.useEffect\": ()=>{\n            const el = nextGridWrapRef.current;\n            if (!el) return;\n            const baseWidth = GRID_COLS * NEXT_CELL_SIZE;\n            const updateScale = {\n                \"RehearseOverlay.useEffect.updateScale\": ()=>{\n                    const width = el.clientWidth;\n                    if (!width) return;\n                    setNextGridScale(Math.min(1, width / baseWidth));\n                }\n            }[\"RehearseOverlay.useEffect.updateScale\"];\n            updateScale();\n            const observer = new ResizeObserver(updateScale);\n            observer.observe(el);\n            return ({\n                \"RehearseOverlay.useEffect\": ()=>observer.disconnect()\n            })[\"RehearseOverlay.useEffect\"];\n        }\n    }[\"RehearseOverlay.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RehearseOverlay.useEffect\": ()=>{\n            if (!loopEnabled || !loopRange || !audioRef.current) return;\n            if (currentTime >= loopRange.end) {\n                audioRef.current.currentTime = loopRange.start;\n                if (!audioRef.current.paused) {\n                    audioRef.current.play();\n                }\n            }\n        }\n    }[\"RehearseOverlay.useEffect\"], [\n        currentTime,\n        loopEnabled,\n        loopRange\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RehearseOverlay.useEffect\": ()=>{\n            if (!ringEnabled) {\n                prevTimeToNextRef.current = timeToNext;\n                return;\n            }\n            if (timeToNext === null) {\n                prevTimeToNextRef.current = timeToNext;\n                return;\n            }\n            const prev = prevTimeToNextRef.current;\n            if ((prev === null || prev > 10) && timeToNext <= 10) {\n                playRing();\n            }\n            prevTimeToNextRef.current = timeToNext;\n        }\n    }[\"RehearseOverlay.useEffect\"], [\n        timeToNext,\n        ringEnabled\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RehearseOverlay.useEffect\": ()=>{\n            const fetchPositions = {\n                \"RehearseOverlay.useEffect.fetchPositions\": async ()=>{\n                    setLoadingPositions(true);\n                    try {\n                        const entries = await Promise.all(parts.map({\n                            \"RehearseOverlay.useEffect.fetchPositions\": async (part)=>{\n                                const res = await fetch(\"/api/stage-positions?partId=\".concat(part.id));\n                                if (!res.ok) return [\n                                    part.id,\n                                    []\n                                ];\n                                const data = await res.json();\n                                const mapped = (data || []).map({\n                                    \"RehearseOverlay.useEffect.fetchPositions.mapped\": (p)=>({\n                                            student_id: p.student_id,\n                                            student_name: p.student_name || \"Unknown\",\n                                            x: p.x,\n                                            y: p.y\n                                        })\n                                }[\"RehearseOverlay.useEffect.fetchPositions.mapped\"]);\n                                return [\n                                    part.id,\n                                    mapped\n                                ];\n                            }\n                        }[\"RehearseOverlay.useEffect.fetchPositions\"]));\n                        const map = {};\n                        entries.forEach({\n                            \"RehearseOverlay.useEffect.fetchPositions\": (param)=>{\n                                let [partId, list] = param;\n                                map[partId] = list;\n                            }\n                        }[\"RehearseOverlay.useEffect.fetchPositions\"]);\n                        setPositionsByPart(map);\n                        const subpartsEntries = await Promise.all(parts.map({\n                            \"RehearseOverlay.useEffect.fetchPositions\": async (part)=>{\n                                const res = await fetch(\"/api/subparts?partId=\".concat(part.id));\n                                if (!res.ok) return [\n                                    part.id,\n                                    []\n                                ];\n                                const data = await res.json();\n                                const normalized = (data || []).map({\n                                    \"RehearseOverlay.useEffect.fetchPositions.normalized\": (item)=>{\n                                        var _item_description, _item_timepoint_seconds, _item_timepoint_end_seconds;\n                                        return {\n                                            id: item.id,\n                                            part_id: item.part_id,\n                                            title: item.title,\n                                            description: (_item_description = item.description) !== null && _item_description !== void 0 ? _item_description : null,\n                                            timepoint_seconds: (_item_timepoint_seconds = item.timepoint_seconds) !== null && _item_timepoint_seconds !== void 0 ? _item_timepoint_seconds : null,\n                                            timepoint_end_seconds: (_item_timepoint_end_seconds = item.timepoint_end_seconds) !== null && _item_timepoint_end_seconds !== void 0 ? _item_timepoint_end_seconds : null\n                                        };\n                                    }\n                                }[\"RehearseOverlay.useEffect.fetchPositions.normalized\"]);\n                                return [\n                                    part.id,\n                                    normalized\n                                ];\n                            }\n                        }[\"RehearseOverlay.useEffect.fetchPositions\"]));\n                        const subpartsMap = {};\n                        subpartsEntries.forEach({\n                            \"RehearseOverlay.useEffect.fetchPositions\": (param)=>{\n                                let [partId, list] = param;\n                                subpartsMap[partId] = list;\n                            }\n                        }[\"RehearseOverlay.useEffect.fetchPositions\"]);\n                        setSubpartsByPart(subpartsMap);\n                        const allSubpartIds = subpartsEntries.flatMap({\n                            \"RehearseOverlay.useEffect.fetchPositions.allSubpartIds\": (param)=>{\n                                let [, list] = param;\n                                return list.map({\n                                    \"RehearseOverlay.useEffect.fetchPositions.allSubpartIds\": (s)=>s.id\n                                }[\"RehearseOverlay.useEffect.fetchPositions.allSubpartIds\"]);\n                            }\n                        }[\"RehearseOverlay.useEffect.fetchPositions.allSubpartIds\"]);\n                        const assignmentEntries = await Promise.all(allSubpartIds.map({\n                            \"RehearseOverlay.useEffect.fetchPositions\": async (subpartId)=>{\n                                const res = await fetch(\"/api/subpart-order?subpartId=\".concat(subpartId));\n                                if (!res.ok) return [\n                                    subpartId,\n                                    []\n                                ];\n                                const data = await res.json();\n                                const names = (data || []).map({\n                                    \"RehearseOverlay.useEffect.fetchPositions.names\": (item)=>item.student_name || \"Unknown\"\n                                }[\"RehearseOverlay.useEffect.fetchPositions.names\"]);\n                                return [\n                                    subpartId,\n                                    names\n                                ];\n                            }\n                        }[\"RehearseOverlay.useEffect.fetchPositions\"]));\n                        const assignmentMap = {};\n                        assignmentEntries.forEach({\n                            \"RehearseOverlay.useEffect.fetchPositions\": (param)=>{\n                                let [subpartId, list] = param;\n                                assignmentMap[subpartId] = list;\n                            }\n                        }[\"RehearseOverlay.useEffect.fetchPositions\"]);\n                        setSubpartAssignments(assignmentMap);\n                        const subpartPositionsEntries = await Promise.all(allSubpartIds.map({\n                            \"RehearseOverlay.useEffect.fetchPositions\": async (subpartId)=>{\n                                const res = await fetch(\"/api/subpart-positions?subpartId=\".concat(subpartId));\n                                if (!res.ok) return [\n                                    subpartId,\n                                    false\n                                ];\n                                const data = await res.json();\n                                return [\n                                    subpartId,\n                                    Array.isArray(data) && data.length > 0\n                                ];\n                            }\n                        }[\"RehearseOverlay.useEffect.fetchPositions\"]));\n                        const posMap = {};\n                        subpartPositionsEntries.forEach({\n                            \"RehearseOverlay.useEffect.fetchPositions\": (param)=>{\n                                let [subpartId, hasPositions] = param;\n                                posMap[subpartId] = hasPositions;\n                            }\n                        }[\"RehearseOverlay.useEffect.fetchPositions\"]);\n                        setSubpartHasPositions(posMap);\n                    } finally{\n                        setLoadingPositions(false);\n                    }\n                }\n            }[\"RehearseOverlay.useEffect.fetchPositions\"];\n            fetchPositions();\n        }\n    }[\"RehearseOverlay.useEffect\"], [\n        parts,\n        performanceId\n    ]);\n    const refreshSubpartsForPart = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RehearseOverlay.useCallback[refreshSubpartsForPart]\": async (partId)=>{\n            try {\n                const res = await fetch(\"/api/subparts?partId=\".concat(partId));\n                if (!res.ok) return;\n                const data = await res.json();\n                const normalized = (data || []).map({\n                    \"RehearseOverlay.useCallback[refreshSubpartsForPart].normalized\": (item)=>{\n                        var _item_description, _item_timepoint_seconds, _item_timepoint_end_seconds;\n                        return {\n                            id: item.id,\n                            part_id: item.part_id,\n                            title: item.title,\n                            description: (_item_description = item.description) !== null && _item_description !== void 0 ? _item_description : null,\n                            timepoint_seconds: (_item_timepoint_seconds = item.timepoint_seconds) !== null && _item_timepoint_seconds !== void 0 ? _item_timepoint_seconds : null,\n                            timepoint_end_seconds: (_item_timepoint_end_seconds = item.timepoint_end_seconds) !== null && _item_timepoint_end_seconds !== void 0 ? _item_timepoint_end_seconds : null\n                        };\n                    }\n                }[\"RehearseOverlay.useCallback[refreshSubpartsForPart].normalized\"]);\n                setSubpartsByPart({\n                    \"RehearseOverlay.useCallback[refreshSubpartsForPart]\": (prev)=>({\n                            ...prev,\n                            [partId]: normalized\n                        })\n                }[\"RehearseOverlay.useCallback[refreshSubpartsForPart]\"]);\n            } catch (e) {\n            // ignore\n            }\n        }\n    }[\"RehearseOverlay.useCallback[refreshSubpartsForPart]\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RehearseOverlay.useEffect\": ()=>{\n            const handleUpdated = {\n                \"RehearseOverlay.useEffect.handleUpdated\": (event)=>{\n                    const detail = event.detail;\n                    if (detail === null || detail === void 0 ? void 0 : detail.partId) {\n                        refreshSubpartsForPart(detail.partId);\n                    }\n                }\n            }[\"RehearseOverlay.useEffect.handleUpdated\"];\n            window.addEventListener(\"subparts-updated\", handleUpdated);\n            return ({\n                \"RehearseOverlay.useEffect\": ()=>window.removeEventListener(\"subparts-updated\", handleUpdated)\n            })[\"RehearseOverlay.useEffect\"];\n        }\n    }[\"RehearseOverlay.useEffect\"], [\n        refreshSubpartsForPart\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RehearseOverlay.useEffect\": ()=>{\n            const fetchPerformance = {\n                \"RehearseOverlay.useEffect.fetchPerformance\": async ()=>{\n                    try {\n                        const res = await fetch(\"/api/performances/\".concat(performanceId));\n                        if (!res.ok) return;\n                        const data = await res.json();\n                        setCallTime((data === null || data === void 0 ? void 0 : data.call_time) || \"\");\n                        setPerformanceTitle((data === null || data === void 0 ? void 0 : data.title) || \"\");\n                        if (data === null || data === void 0 ? void 0 : data.stage_orientation) {\n                            setStageOrientation(data.stage_orientation === \"top\" ? \"top\" : \"bottom\");\n                        }\n                    } catch (e) {\n                    // ignore\n                    }\n                }\n            }[\"RehearseOverlay.useEffect.fetchPerformance\"];\n            fetchPerformance();\n        }\n    }[\"RehearseOverlay.useEffect\"], [\n        performanceId\n    ]);\n    const getNoteKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RehearseOverlay.useCallback[getNoteKey]\": (partId, subpartId)=>{\n            return subpartId ? \"subpart:\".concat(subpartId) : \"part:\".concat(partId);\n        }\n    }[\"RehearseOverlay.useCallback[getNoteKey]\"], []);\n    const saveNote = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RehearseOverlay.useCallback[saveNote]\": async (partId, subpartId)=>{\n            const key = getNoteKey(partId, subpartId);\n            var _noteDrafts_key, _ref;\n            const draft = ((_ref = (_noteDrafts_key = noteDrafts[key]) !== null && _noteDrafts_key !== void 0 ? _noteDrafts_key : notesByKey[key]) !== null && _ref !== void 0 ? _ref : \"\").trim();\n            var _notesByKey_key;\n            const current = ((_notesByKey_key = notesByKey[key]) !== null && _notesByKey_key !== void 0 ? _notesByKey_key : \"\").trim();\n            if (draft === current) return;\n            setNoteSaving({\n                \"RehearseOverlay.useCallback[saveNote]\": (prev)=>({\n                        ...prev,\n                        [key]: true\n                    })\n            }[\"RehearseOverlay.useCallback[saveNote]\"]);\n            try {\n                const res = await fetch(\"/api/rehearse-notes\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        performance_id: performanceId,\n                        part_id: partId,\n                        subpart_id: subpartId !== null && subpartId !== void 0 ? subpartId : null,\n                        note: draft\n                    })\n                });\n                if (!res.ok) throw new Error(\"Failed to save note\");\n                if (!draft) {\n                    setNotesByKey({\n                        \"RehearseOverlay.useCallback[saveNote]\": (prev)=>{\n                            const next = {\n                                ...prev\n                            };\n                            delete next[key];\n                            return next;\n                        }\n                    }[\"RehearseOverlay.useCallback[saveNote]\"]);\n                } else {\n                    setNotesByKey({\n                        \"RehearseOverlay.useCallback[saveNote]\": (prev)=>({\n                                ...prev,\n                                [key]: draft\n                            })\n                    }[\"RehearseOverlay.useCallback[saveNote]\"]);\n                }\n            } catch (err) {\n                console.error(err);\n                alert(\"Failed to save note\");\n            } finally{\n                setNoteSaving({\n                    \"RehearseOverlay.useCallback[saveNote]\": (prev)=>({\n                            ...prev,\n                            [key]: false\n                        })\n                }[\"RehearseOverlay.useCallback[saveNote]\"]);\n            }\n        }\n    }[\"RehearseOverlay.useCallback[saveNote]\"], [\n        getNoteKey,\n        notesByKey,\n        noteDrafts,\n        performanceId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RehearseOverlay.useEffect\": ()=>{\n            const fetchNotes = {\n                \"RehearseOverlay.useEffect.fetchNotes\": async ()=>{\n                    try {\n                        const res = await fetch(\"/api/rehearse-notes?performanceId=\".concat(performanceId));\n                        if (!res.ok) return;\n                        const data = await res.json();\n                        const map = {};\n                        (data || []).forEach({\n                            \"RehearseOverlay.useEffect.fetchNotes\": (item)=>{\n                                const key = getNoteKey(item.part_id, item.subpart_id);\n                                map[key] = item.note || \"\";\n                            }\n                        }[\"RehearseOverlay.useEffect.fetchNotes\"]);\n                        setNotesByKey(map);\n                    } catch (e) {\n                    // ignore\n                    }\n                }\n            }[\"RehearseOverlay.useEffect.fetchNotes\"];\n            fetchNotes();\n        }\n    }[\"RehearseOverlay.useEffect\"], [\n        performanceId,\n        getNoteKey\n    ]);\n    const renderSubpartOverlay = (part)=>{\n        if (!part) return null;\n        const subparts = subpartsByPart[part.id] || [];\n        if (subparts.length === 0) return null;\n        const items = subparts.map((sub)=>{\n            const names = subpartAssignments[sub.id] || [];\n            const hasPositions = subpartHasPositions[sub.id] || false;\n            if (names.length === 0 || hasPositions) return null;\n            return {\n                title: sub.title,\n                names,\n                description: sub.description || null\n            };\n        }).filter(Boolean);\n        if (items.length === 0) return null;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white border border-indigo-200 rounded-lg p-5 shadow-sm min-h-[220px]\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-sm uppercase tracking-wide text-indigo-600 font-semibold mb-2\",\n                    children: \"Subpart Assignments\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                    lineNumber: 658,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-3 text-base text-gray-700\",\n                    children: items.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"font-semibold text-gray-900\",\n                                    children: item.title\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 664,\n                                    columnNumber: 15\n                                }, this),\n                                item.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm text-gray-500\",\n                                    children: item.description\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 666,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-gray-600\",\n                                    children: item.names.join(\", \")\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 668,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, item.title, true, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                            lineNumber: 663,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                    lineNumber: 661,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n            lineNumber: 657,\n            columnNumber: 7\n        }, this);\n    };\n    const renderGrid = (title, part, isNext, cellSize)=>{\n        const positions = part ? positionsByPart[part.id] || [] : [];\n        const titleSize = isNext ? \"text-5xl\" : \"text-4xl\";\n        const labelSize = isNext ? \"text-base\" : \"text-sm\";\n        const frameClass = isNext ? \"border-purple-700 bg-purple-100\" : \"border-blue-700 bg-blue-100\";\n        const gridFill = isNext ? \"from-purple-200 to-purple-300\" : \"from-blue-200 to-blue-300\";\n        const markerSize = Math.max(18, Math.round(cellSize * 0.7));\n        const markerText = cellSize >= 70 ? \"text-base\" : \"text-[10px]\";\n        const baseWidth = GRID_COLS * cellSize;\n        const baseHeight = GRID_ROWS * cellSize;\n        const gridScale = isNext ? nextGridScale : currentGridScale;\n        const gridWrapRef = isNext ? nextGridWrapRef : currentGridWrapRef;\n        const subparts = part ? subpartsByPart[part.id] || [] : [];\n        const orderedSubparts = subparts.filter((s)=>typeof s.timepoint_seconds === \"number\").sort((a, b)=>(a.timepoint_seconds || 0) - (b.timepoint_seconds || 0));\n        const currentSub = part && currentSubpartId ? subparts.find((s)=>s.id === currentSubpartId) : null;\n        const nextSub = isNext ? orderedSubparts[0] || null : null;\n        const currentSubIndex = currentSub ? orderedSubparts.findIndex((s)=>s.id === currentSub.id) : -1;\n        const nextSubForCurrent = currentSubIndex >= 0 ? orderedSubparts[currentSubIndex + 1] || null : orderedSubparts[0] || null;\n        const truncate7 = (value)=>value.slice(0, 7);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"rounded-lg border p-4 shadow-sm \".concat(frameClass),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between mb-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"\".concat(labelSize, \" uppercase tracking-wide text-gray-600\"),\n                                    children: title\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 706,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"\".concat(titleSize, \" font-semibold text-gray-900\"),\n                                    children: part ? part.name : \"\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 707,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                            lineNumber: 705,\n                            columnNumber: 11\n                        }, this),\n                        isNext && timeToNext !== null && timeToNext <= 10 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-7xl font-extrabold text-red-600 animate-pulse\",\n                            children: Math.ceil(timeToNext)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                            lineNumber: 710,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                    lineNumber: 704,\n                    columnNumber: 9\n                }, this),\n                isNext && timeToNext !== null && timeToNext <= 10 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-2 text-3xl font-extrabold text-red-600 animate-pulse\",\n                    children: \"GET READY\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                    lineNumber: 716,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    ref: gridWrapRef,\n                    className: \"w-full overflow-hidden\",\n                    style: {\n                        height: baseHeight * gridScale\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"border border-gray-300 bg-gradient-to-b \".concat(gridFill, \" relative mx-auto\"),\n                        style: {\n                            width: baseWidth,\n                            height: baseHeight,\n                            backgroundImage: \"\\n                linear-gradient(rgba(0,0,0,.1) 1px, transparent 1px),\\n                linear-gradient(90deg, rgba(0,0,0,.1) 1px, transparent 1px)\\n              \",\n                            backgroundSize: \"\".concat(cellSize, \"px \").concat(cellSize, \"px\"),\n                            transform: \"scale(\".concat(gridScale, \")\"),\n                            transformOrigin: \"top left\"\n                        },\n                        children: [\n                            stageOrientation === \"bottom\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute bottom-0 left-0 right-0 h-1 bg-red-500\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                lineNumber: 740,\n                                columnNumber: 13\n                            }, this),\n                            stageOrientation === \"top\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute top-0 left-0 right-0 h-1 bg-red-500\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                lineNumber: 743,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute text-red-600 font-bold text-xs bg-white bg-opacity-80 px-2 py-1 rounded\",\n                                style: {\n                                    ...stageOrientation === \"bottom\" && {\n                                        bottom: 5,\n                                        left: \"50%\",\n                                        transform: \"translateX(-50%)\"\n                                    },\n                                    ...stageOrientation === \"top\" && {\n                                        top: 5,\n                                        left: \"50%\",\n                                        transform: \"translateX(-50%)\"\n                                    }\n                                },\n                                children: \"FRONT\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                lineNumber: 745,\n                                columnNumber: 11\n                            }, this),\n                            !isNext && currentSub && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute left-2 top-2 px-2 py-1 bg-white/80 text-amber-700 font-extrabold text-xl rounded shadow\",\n                                children: truncate7(currentSub.title || \"\")\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                lineNumber: 755,\n                                columnNumber: 13\n                            }, this),\n                            Array.from({\n                                length: GRID_ROWS\n                            }).map((_, y)=>Array.from({\n                                    length: GRID_COLS\n                                }).map((_, x)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute\",\n                                        style: {\n                                            left: x * cellSize,\n                                            top: y * cellSize,\n                                            width: cellSize,\n                                            height: cellSize\n                                        }\n                                    }, \"\".concat(x, \"-\").concat(y), false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                        lineNumber: 761,\n                                        columnNumber: 15\n                                    }, this))),\n                            positions.map((pos)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute flex items-center justify-center\",\n                                    style: {\n                                        left: pos.x * cellSize,\n                                        top: pos.y * cellSize,\n                                        width: cellSize,\n                                        height: cellSize\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-blue-600 text-white \".concat(markerText, \" font-bold rounded-full flex items-center justify-center shadow-md\"),\n                                        style: {\n                                            width: markerSize,\n                                            height: markerSize\n                                        },\n                                        children: getInitials(pos.student_name)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                        lineNumber: 784,\n                                        columnNumber: 15\n                                    }, this)\n                                }, \"\".concat(pos.student_id, \"-\").concat(pos.x, \"-\").concat(pos.y), false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 774,\n                                    columnNumber: 13\n                                }, this))\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                        lineNumber: 725,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                    lineNumber: 720,\n                    columnNumber: 9\n                }, this),\n                isNext && nextSub && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-2 text-2xl font-extrabold text-purple-700\",\n                    children: truncate7(nextSub.title || \"\")\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                    lineNumber: 795,\n                    columnNumber: 11\n                }, this),\n                !isNext && nextSubForCurrent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-2 text-xl font-extrabold text-blue-700\",\n                    children: [\n                        \"Next up: \",\n                        truncate7(nextSubForCurrent.title || \"\")\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                    lineNumber: 800,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n            lineNumber: 703,\n            columnNumber: 7\n        }, this);\n    };\n    const renderNamesBox = (part, isNext)=>{\n        const positions = part ? positionsByPart[part.id] || [] : [];\n        const names = Array.from(new Map(positions.map((p)=>[\n                p.student_id,\n                p.student_name || \"Unknown\"\n            ])).values());\n        const subparts = part ? subpartsByPart[part.id] || [] : [];\n        const textSize = isNext ? \"text-2xl\" : \"text-base\";\n        const infoLabelSize = isNext ? \"text-sm\" : \"text-xs\";\n        const partDuration = part ? formatDuration(part.timepoint_seconds, part.timepoint_end_seconds) : \"\";\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white border border-gray-200 rounded-lg p-3 shadow-sm min-h-[72px]\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"\".concat(infoLabelSize, \" uppercase tracking-wide text-gray-500 mb-2\"),\n                    children: \"INFO\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                    lineNumber: 819,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-3\",\n                    children: [\n                        partDuration && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-gray-600\",\n                            children: [\n                                \"Duration: \",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"font-semibold text-gray-900\",\n                                    children: partDuration\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 823,\n                                    columnNumber: 25\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                            lineNumber: 822,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs font-semibold text-gray-600 mb-2\",\n                                    children: \"People\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 827,\n                                    columnNumber: 13\n                                }, this),\n                                names.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs text-gray-500\",\n                                    children: \"No positions\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 829,\n                                    columnNumber: 15\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-wrap gap-2 \".concat(textSize, \" text-gray-800\"),\n                                    children: names.map((name)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"px-2 py-1 bg-gray-100 rounded\",\n                                            children: name\n                                        }, \"\".concat((part === null || part === void 0 ? void 0 : part.id) || \"none\", \"-\").concat(name), false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                            lineNumber: 833,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 831,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                            lineNumber: 826,\n                            columnNumber: 11\n                        }, this),\n                        subparts.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs font-semibold text-gray-600 mb-2\",\n                                    children: \"Subparts\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 842,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2 text-sm text-gray-700\",\n                                    children: subparts.map((sub, idx)=>{\n                                        const assigned = subpartAssignments[sub.id] || [];\n                                        const subDuration = formatDuration(sub.timepoint_seconds, sub.timepoint_end_seconds);\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"font-semibold text-gray-900\",\n                                                    children: [\n                                                        idx + 1,\n                                                        \". \",\n                                                        sub.title\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                    lineNumber: 849,\n                                                    columnNumber: 23\n                                                }, this),\n                                                subDuration && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-gray-500\",\n                                                    children: [\n                                                        \"Duration: \",\n                                                        subDuration\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                    lineNumber: 853,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-gray-600\",\n                                                    children: assigned.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Assigned: \"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                        lineNumber: 857,\n                                                        columnNumber: 27\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            \"Assigned:\",\n                                                            \" \",\n                                                            assigned.map((name, aIdx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    children: [\n                                                                        aIdx > 0 ? \", \" : \"\",\n                                                                        aIdx + 1,\n                                                                        \". \",\n                                                                        name\n                                                                    ]\n                                                                }, \"\".concat(sub.id, \"-info-\").concat(aIdx), true, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                    lineNumber: 862,\n                                                                    columnNumber: 31\n                                                                }, this))\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                        lineNumber: 859,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                    lineNumber: 855,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, sub.id, true, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                            lineNumber: 848,\n                                            columnNumber: 21\n                                        }, this);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 843,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                            lineNumber: 841,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                    lineNumber: 820,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n            lineNumber: 818,\n            columnNumber: 7\n        }, this);\n    };\n    const getTimeFromPointer = (clientX)=>{\n        const el = timelineRef.current;\n        if (!el) return 0;\n        const rect = el.getBoundingClientRect();\n        const ratio = Math.min(1, Math.max(0, (clientX - rect.left) / rect.width));\n        return ratio * timelineDuration;\n    };\n    const handleTimelinePointerDown = (e)=>{\n        const time = getTimeFromPointer(e.clientX);\n        setIsScrubbing(true);\n        seekTo(time, false);\n    };\n    const handleTimelinePointerMove = (e)=>{\n        if (!isScrubbing) return;\n        const time = getTimeFromPointer(e.clientX);\n        seekTo(time, false);\n    };\n    const handleTimelinePointerUp = (e)=>{\n        if (!isScrubbing) return;\n        const time = getTimeFromPointer(e.clientX);\n        seekTo(time, true);\n        setIsScrubbing(false);\n    };\n    const renderPerformanceTimeline = ()=>{\n        if (partSegments.length === 0) return null;\n        const playhead = Math.min(1, Math.max(0, currentTime / timelineDuration)) * 100;\n        const loopStart = loopRange ? Math.min(loopRange.start, loopRange.end) : null;\n        const loopEnd = loopRange ? Math.max(loopRange.start, loopRange.end) : null;\n        const palette = [\n            \"bg-blue-600\",\n            \"bg-emerald-600\",\n            \"bg-amber-600\",\n            \"bg-purple-600\",\n            \"bg-rose-600\",\n            \"bg-teal-600\"\n        ];\n        const paletteLight = [\n            \"bg-blue-200 text-blue-900\",\n            \"bg-emerald-200 text-emerald-900\",\n            \"bg-amber-200 text-amber-900\",\n            \"bg-purple-200 text-purple-900\",\n            \"bg-rose-200 text-rose-900\",\n            \"bg-teal-200 text-teal-900\"\n        ];\n        const partColorIndexById = new Map(partSegments.map((seg, idx)=>[\n                seg.id,\n                idx\n            ]));\n        const subpartSegments = partSegments.flatMap((seg)=>{\n            const list = subpartsByPart[seg.id] || [];\n            var _partColorIndexById_get;\n            const colorIdx = (_partColorIndexById_get = partColorIndexById.get(seg.id)) !== null && _partColorIndexById_get !== void 0 ? _partColorIndexById_get : 0;\n            return list.map((sub)=>{\n                const rawStart = typeof sub.timepoint_seconds === \"number\" ? sub.timepoint_seconds : Number(sub.timepoint_seconds);\n                if (!Number.isFinite(rawStart)) return null;\n                const clampedStart = Math.min(Math.max(rawStart, seg.start), seg.end - 0.1);\n                const rawEnd = typeof sub.timepoint_end_seconds === \"number\" ? sub.timepoint_end_seconds : Number(sub.timepoint_end_seconds);\n                const endRaw = Number.isFinite(rawEnd) ? rawEnd : clampedStart + 0.1;\n                const clampedEnd = Math.min(Math.max(endRaw, clampedStart + 0.1), seg.end);\n                if (clampedEnd <= clampedStart) return null;\n                return {\n                    id: sub.id,\n                    partId: seg.id,\n                    title: sub.title,\n                    start: clampedStart,\n                    end: clampedEnd,\n                    colorIdx\n                };\n            }).filter(Boolean);\n        }).filter(Boolean);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white border border-gray-200 rounded-lg p-4 shadow-sm mb-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-wrap items-center justify-between gap-3 mb-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-xs uppercase tracking-wide text-gray-500\",\n                            children: \"Performance Timeline\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                            lineNumber: 973,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: togglePlay,\n                                    disabled: !musicUrl,\n                                    className: \"px-3 py-1 bg-gray-900 text-white rounded text-xs disabled:bg-gray-400\",\n                                    children: isPlaying ? \"Pause\" : \"Play\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 975,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs text-gray-600\",\n                                    children: [\n                                        formatTime(currentTime),\n                                        \" / \",\n                                        formatTime(timelineDuration)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 982,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"flex items-center gap-2 text-xs text-gray-600\",\n                                    children: [\n                                        \"Volume\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"range\",\n                                            min: \"0\",\n                                            max: \"1\",\n                                            step: \"0.05\",\n                                            value: volume,\n                                            onChange: (e)=>setVolume(parseFloat(e.target.value)),\n                                            className: \"w-20\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                            lineNumber: 987,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 985,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        if (loopSelectMode && pendingLoopRange) {\n                                            setLoopRange(pendingLoopRange);\n                                            setLoopEnabled(true);\n                                            setLoopSelectMode(false);\n                                        } else {\n                                            setLoopSelectMode(true);\n                                            setPendingLoopRange(null);\n                                        }\n                                    },\n                                    className: \"px-3 py-1 rounded text-xs \".concat(loopEnabled || loopSelectMode ? \"bg-emerald-600 text-white\" : \"bg-gray-200 text-gray-700\"),\n                                    children: loopSelectMode ? pendingLoopRange ? \"Confirm Loop\" : \"Select Part\" : loopEnabled ? \"Loop On\" : \"Set Loop\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 997,\n                                    columnNumber: 13\n                                }, this),\n                                loopEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        setLoopEnabled(false);\n                                        setLoopRange(null);\n                                        setPendingLoopRange(null);\n                                        setLoopSelectMode(false);\n                                    },\n                                    className: \"px-3 py-1 rounded text-xs bg-gray-200 text-gray-700\",\n                                    children: \"Clear Loop\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 1015,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                            lineNumber: 974,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                    lineNumber: 972,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    ref: timelineRef,\n                    className: \"relative h-24 rounded bg-slate-50 border border-slate-200 overflow-hidden cursor-pointer\",\n                    onMouseDown: handleTimelinePointerDown,\n                    onMouseMove: handleTimelinePointerMove,\n                    onMouseUp: handleTimelinePointerUp,\n                    onMouseLeave: handleTimelinePointerUp,\n                    children: [\n                        loopStart !== null && loopEnd !== null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute top-0 h-full bg-emerald-200/70\",\n                            style: {\n                                left: \"\".concat(loopStart / timelineDuration * 100, \"%\"),\n                                width: \"\".concat((loopEnd - loopStart) / timelineDuration * 100, \"%\")\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                            lineNumber: 1038,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute top-0 left-0 right-0 h-14\",\n                            children: partSegments.map((seg, segIdx)=>{\n                                const left = seg.start / timelineDuration * 100;\n                                const width = Math.max(1, (seg.end - seg.start) / timelineDuration * 100);\n                                const isCurrent = (currentPart === null || currentPart === void 0 ? void 0 : currentPart.id) === seg.id;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    onClick: ()=>{\n                                        if (loopSelectMode) {\n                                            setPendingLoopRange({\n                                                start: seg.start,\n                                                end: seg.end\n                                            });\n                                        } else {\n                                            seekTo(seg.start, true);\n                                        }\n                                    },\n                                    className: \"absolute top-0 h-full text-base font-semibold px-2 py-1 text-center truncate \".concat(isCurrent ? \"bg-blue-700 text-white\" : \"\".concat(palette[segIdx % palette.length], \" text-white\"), \" \").concat(loopSelectMode && (pendingLoopRange === null || pendingLoopRange === void 0 ? void 0 : pendingLoopRange.start) === seg.start ? \"ring-2 ring-emerald-300\" : \"\"),\n                                    style: {\n                                        left: \"\".concat(left, \"%\"),\n                                        width: \"\".concat(width, \"%\")\n                                    },\n                                    title: seg.name,\n                                    children: seg.name\n                                }, seg.id, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 1052,\n                                    columnNumber: 17\n                                }, this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                            lineNumber: 1046,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute bottom-0 left-0 right-0 h-10 border-t border-slate-200 bg-slate-100/80\",\n                            children: subpartSegments.map((seg, idx)=>{\n                                const left = seg.start / timelineDuration * 100;\n                                const width = Math.max(1, (seg.end - seg.start) / timelineDuration * 100);\n                                const borderClass = idx % 2 === 0 ? \"border-l border-slate-300\" : \"border-l border-white/60\";\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    onClick: ()=>seekTo(seg.start, true),\n                                    className: \"absolute top-0 h-full text-xs font-semibold px-2 py-1 text-center truncate \".concat(borderClass, \" \").concat(paletteLight[seg.colorIdx % paletteLight.length]),\n                                    style: {\n                                        left: \"\".concat(left, \"%\"),\n                                        width: \"\".concat(width, \"%\")\n                                    },\n                                    title: seg.title,\n                                    children: seg.title\n                                }, seg.id, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 1079,\n                                    columnNumber: 17\n                                }, this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                            lineNumber: 1073,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute top-0 h-full w-[3px] bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.7)]\",\n                            style: {\n                                left: \"\".concat(playhead, \"%\")\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                            lineNumber: 1092,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                    lineNumber: 1029,\n                    columnNumber: 9\n                }, this),\n                currentPart && (subpartsByPart[currentPart.id] || []).length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-3 flex flex-wrap gap-2\",\n                    children: (subpartsByPart[currentPart.id] || []).map((sub, idx)=>{\n                        const start = typeof sub.timepoint_seconds === \"number\" ? sub.timepoint_seconds : null;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"button\",\n                            onClick: ()=>{\n                                if (start !== null) seekTo(start, true);\n                            },\n                            className: \"px-3 py-1 rounded-full text-xs font-semibold bg-white border border-gray-200 hover:bg-gray-50\",\n                            children: [\n                                idx + 1,\n                                \". \",\n                                sub.title\n                            ]\n                        }, sub.id, true, {\n                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                            lineNumber: 1105,\n                            columnNumber: 17\n                        }, this);\n                    })\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                    lineNumber: 1098,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n            lineNumber: 971,\n            columnNumber: 7\n        }, this);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RehearseOverlay.useEffect\": ()=>{\n            if (!currentPart) return;\n            const subparts = subpartsByPart[currentPart.id] || [];\n            if (subparts.length === 0) return;\n            const segments = subparts.map({\n                \"RehearseOverlay.useEffect.segments\": (sub)=>{\n                    const rawStart = typeof sub.timepoint_seconds === \"number\" ? sub.timepoint_seconds : Number(sub.timepoint_seconds);\n                    const rawEnd = typeof sub.timepoint_end_seconds === \"number\" ? sub.timepoint_end_seconds : Number(sub.timepoint_end_seconds);\n                    const start = Number.isFinite(rawStart) ? rawStart : NaN;\n                    const end = Number.isFinite(rawEnd) ? rawEnd : NaN;\n                    if (!Number.isFinite(start)) return null;\n                    return {\n                        id: sub.id,\n                        start,\n                        end: Number.isFinite(end) ? end : start\n                    };\n                }\n            }[\"RehearseOverlay.useEffect.segments\"]).filter(Boolean);\n            if (segments.length === 0) return;\n            const active = segments.find({\n                \"RehearseOverlay.useEffect.active\": (seg)=>currentTime >= seg.start && currentTime <= seg.end\n            }[\"RehearseOverlay.useEffect.active\"]);\n            setCurrentSubpartId(active ? active.id : null);\n            const hit = segments.find({\n                \"RehearseOverlay.useEffect.hit\": (seg)=>currentTime >= seg.start && currentTime < seg.start + 0.35\n            }[\"RehearseOverlay.useEffect.hit\"]);\n            if (hit && lastFlashRef.current !== hit.id) {\n                lastFlashRef.current = hit.id;\n                setFlashSubpartId(hit.id);\n                setTimeout({\n                    \"RehearseOverlay.useEffect\": ()=>{\n                        setFlashSubpartId({\n                            \"RehearseOverlay.useEffect\": (prev)=>prev === hit.id ? null : prev\n                        }[\"RehearseOverlay.useEffect\"]);\n                    }\n                }[\"RehearseOverlay.useEffect\"], 350);\n            }\n        }\n    }[\"RehearseOverlay.useEffect\"], [\n        currentTime,\n        currentPart,\n        subpartsByPart\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 bg-black bg-opacity-70 flex\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex-1 bg-gray-100 overflow-auto\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full h-full p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                        ref: audioRef,\n                        src: musicUrl || undefined\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                        lineNumber: 1157,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3 mb-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLogo__WEBPACK_IMPORTED_MODULE_2__.AppLogo, {\n                                                className: \"border border-gray-200 bg-white text-gray-400\",\n                                                size: 32\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                lineNumber: 1161,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm uppercase tracking-wide text-gray-500\",\n                                                children: \"Rehearse Mode\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                lineNumber: 1162,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                        lineNumber: 1160,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-3xl font-bold text-gray-900\",\n                                        children: \"Live Stage View\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                        lineNumber: 1164,\n                                        columnNumber: 15\n                                    }, this),\n                                    performanceTitle && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm text-gray-600 mt-1\",\n                                        children: [\n                                            \"Performance: \",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-semibold text-gray-900\",\n                                                children: performanceTitle\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                lineNumber: 1167,\n                                                columnNumber: 32\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                        lineNumber: 1166,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                lineNumber: 1159,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: onClose,\n                                    className: \"px-4 py-2 bg-gray-900 text-white rounded hover:bg-gray-800\",\n                                    children: \"Close\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                    lineNumber: 1172,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                lineNumber: 1171,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                        lineNumber: 1158,\n                        columnNumber: 11\n                    }, this),\n                    renderPerformanceTimeline(),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-1 xl:grid-cols-[360px_1fr] gap-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white rounded-lg border border-gray-200 p-4 shadow-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between mb-2\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-2xl font-semibold text-gray-900\",\n                                            children: \"Parts\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                            lineNumber: 1186,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                        lineNumber: 1185,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-gray-500 mb-3\",\n                                        children: \"Click a part name to play from its start time.\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                        lineNumber: 1188,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-5\",\n                                        children: filteredParts.map((part, idx)=>{\n                                            const isCurrent = (currentPart === null || currentPart === void 0 ? void 0 : currentPart.id) === part.id;\n                                            const isNext = (nextPart === null || nextPart === void 0 ? void 0 : nextPart.id) === part.id;\n                                            const isEditing = editingPartId === part.id;\n                                            const partStart = typeof part.timepoint_seconds === \"number\" ? part.timepoint_seconds : null;\n                                            const partEnd = typeof part.timepoint_end_seconds === \"number\" ? part.timepoint_end_seconds : null;\n                                            const partDuration = formatDuration(partStart, partEnd);\n                                            const partSubparts = subpartsByPart[part.id] || [];\n                                            const isExpanded = expandedPartIds.has(part.id);\n                                            var _noteDrafts_getNoteKey, _ref;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"border rounded p-2 cursor-pointer transition-colors \".concat(isCurrent ? \"border-blue-500 bg-blue-50\" : \"border-gray-200 bg-white\"),\n                                                onClick: ()=>{\n                                                    if (loopSelectMode) {\n                                                        selectLoopForPart(part.id);\n                                                    }\n                                                },\n                                                onDoubleClick: ()=>{\n                                                    if (partStart !== null) seekTo(partStart, true);\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center justify-between\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                type: \"button\",\n                                                                onClick: ()=>{\n                                                                    if (loopSelectMode) {\n                                                                        selectLoopForPart(part.id);\n                                                                        return;\n                                                                    }\n                                                                    if (partStart !== null) seekTo(partStart, true);\n                                                                },\n                                                                className: \"font-semibold text-gray-900 text-xl text-left\",\n                                                                children: part.name\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                lineNumber: 1217,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            isNext && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-base font-bold text-purple-700 bg-purple-100 px-2 py-0.5 rounded\",\n                                                                children: \"NEXT\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                lineNumber: 1231,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                        lineNumber: 1216,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-base text-gray-500\",\n                                                        children: [\n                                                            partStart !== null ? formatTime(partStart) : \"No timepoint\",\n                                                            partDuration && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"ml-2 text-sm text-gray-400\",\n                                                                children: [\n                                                                    \"(\",\n                                                                    partDuration,\n                                                                    \")\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                lineNumber: 1238,\n                                                                columnNumber: 42\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                        lineNumber: 1236,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mt-2 flex items-center gap-2\",\n                                                        children: [\n                                                            partStart !== null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: (e)=>{\n                                                                    e.stopPropagation();\n                                                                    startJumpCountdown(partStart, part.id);\n                                                                },\n                                                                className: \"px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700\",\n                                                                children: \"Jump to part\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                lineNumber: 1242,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    setExpandedPartIds((prev)=>{\n                                                                        const next = new Set(prev);\n                                                                        if (next.has(part.id)) next.delete(part.id);\n                                                                        else next.add(part.id);\n                                                                        return next;\n                                                                    });\n                                                                },\n                                                                className: \"px-3 py-1 text-xs rounded bg-gray-200 text-gray-700 hover:bg-gray-300\",\n                                                                children: isExpanded ? \"Hide Details\" : \"Expand Details\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                lineNumber: 1252,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                        lineNumber: 1240,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    !isExpanded && partSubparts.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mt-2 flex flex-wrap gap-2\",\n                                                        children: partSubparts.map((sub, subIdx)=>{\n                                                            const subStart = typeof sub.timepoint_seconds === \"number\" ? sub.timepoint_seconds : null;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                type: \"button\",\n                                                                onClick: ()=>{\n                                                                    if (subStart !== null) seekTo(subStart, true);\n                                                                },\n                                                                className: \"px-2 py-0.5 rounded-full text-[11px] font-semibold bg-gray-100 text-gray-700\",\n                                                                children: [\n                                                                    subIdx + 1,\n                                                                    \". \",\n                                                                    sub.title\n                                                                ]\n                                                            }, sub.id, true, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                lineNumber: 1274,\n                                                                columnNumber: 31\n                                                            }, this);\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                        lineNumber: 1267,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    isExpanded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            isEditing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"mt-2 space-y-2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"grid grid-cols-2 gap-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"text-[11px] font-semibold text-gray-600\",\n                                                                                        children: \"Start (m / s)\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                        lineNumber: 1294,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"grid grid-cols-2 gap-2\",\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                                type: \"number\",\n                                                                                                min: \"0\",\n                                                                                                value: editStartMin,\n                                                                                                onChange: (e)=>setEditStartMin(e.target.value),\n                                                                                                className: \"w-full px-2 py-1 border border-gray-300 rounded text-xs\",\n                                                                                                onClick: (e)=>e.stopPropagation()\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                                lineNumber: 1296,\n                                                                                                columnNumber: 37\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                                type: \"number\",\n                                                                                                step: \"0.1\",\n                                                                                                min: \"0\",\n                                                                                                value: editStartSec,\n                                                                                                onChange: (e)=>setEditStartSec(e.target.value),\n                                                                                                className: \"w-full px-2 py-1 border border-gray-300 rounded text-xs\",\n                                                                                                onClick: (e)=>e.stopPropagation()\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                                lineNumber: 1304,\n                                                                                                columnNumber: 37\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                        lineNumber: 1295,\n                                                                                        columnNumber: 35\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                lineNumber: 1293,\n                                                                                columnNumber: 33\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"text-[11px] font-semibold text-gray-600\",\n                                                                                        children: \"End (m / s)\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                        lineNumber: 1316,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"grid grid-cols-2 gap-2\",\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                                type: \"number\",\n                                                                                                min: \"0\",\n                                                                                                value: editEndMin,\n                                                                                                onChange: (e)=>setEditEndMin(e.target.value),\n                                                                                                className: \"w-full px-2 py-1 border border-gray-300 rounded text-xs\",\n                                                                                                onClick: (e)=>e.stopPropagation()\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                                lineNumber: 1318,\n                                                                                                columnNumber: 37\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                                type: \"number\",\n                                                                                                step: \"0.1\",\n                                                                                                min: \"0\",\n                                                                                                value: editEndSec,\n                                                                                                onChange: (e)=>setEditEndSec(e.target.value),\n                                                                                                className: \"w-full px-2 py-1 border border-gray-300 rounded text-xs\",\n                                                                                                onClick: (e)=>e.stopPropagation()\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                                lineNumber: 1326,\n                                                                                                columnNumber: 37\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                        lineNumber: 1317,\n                                                                                        columnNumber: 35\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                lineNumber: 1315,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                        lineNumber: 1292,\n                                                                        columnNumber: 31\n                                                                    }, this),\n                                                                    timeError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-[11px] text-red-600\",\n                                                                        children: timeError\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                        lineNumber: 1339,\n                                                                        columnNumber: 33\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex gap-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: async (e)=>{\n                                                                                    e.stopPropagation();\n                                                                                    let start = composeSeconds(editStartMin, editStartSec);\n                                                                                    let end = composeSeconds(editEndMin, editEndSec);\n                                                                                    const bounds = getSubpartBounds(part.id);\n                                                                                    if (bounds.minStart !== null) {\n                                                                                        if (start === null || start > bounds.minStart) start = bounds.minStart;\n                                                                                    }\n                                                                                    if (bounds.maxEnd !== null) {\n                                                                                        if (end === null || end < bounds.maxEnd) end = bounds.maxEnd;\n                                                                                    }\n                                                                                    if (duration > 0) {\n                                                                                        if (start !== null && start > duration || end !== null && end > duration) {\n                                                                                            setTimeError(\"Time exceeds music length. Use a time within the track.\");\n                                                                                            return;\n                                                                                        }\n                                                                                    }\n                                                                                    if (start !== null && end !== null && end < start) {\n                                                                                        setTimeError(\"End time must be after start time.\");\n                                                                                        return;\n                                                                                    }\n                                                                                    setTimeError(null);\n                                                                                    setSavingPartId(part.id);\n                                                                                    try {\n                                                                                        const res = await fetch(\"/api/parts/\".concat(part.id), {\n                                                                                            method: \"PUT\",\n                                                                                            headers: {\n                                                                                                \"Content-Type\": \"application/json\"\n                                                                                            },\n                                                                                            body: JSON.stringify({\n                                                                                                timepoint_seconds: start,\n                                                                                                timepoint_end_seconds: end\n                                                                                            })\n                                                                                        });\n                                                                                        if (!res.ok) {\n                                                                                            const data = await res.json().catch(()=>null);\n                                                                                            throw new Error((data === null || data === void 0 ? void 0 : data.details) || (data === null || data === void 0 ? void 0 : data.error) || \"Failed to update timepoints\");\n                                                                                        }\n                                                                                        const updated = await res.json();\n                                                                                        setPartTimeOverrides((prev)=>({\n                                                                                                ...prev,\n                                                                                                [part.id]: {\n                                                                                                    start,\n                                                                                                    end\n                                                                                                }\n                                                                                            }));\n                                                                                        onUpdatePartTimepoints === null || onUpdatePartTimepoints === void 0 ? void 0 : onUpdatePartTimepoints(updated);\n                                                                                        setEditingPartId(null);\n                                                                                    } catch (err) {\n                                                                                        console.error(\"Failed to update timepoints:\", err);\n                                                                                        alert(\"Failed to update timepoints\");\n                                                                                    } finally{\n                                                                                        setSavingPartId(null);\n                                                                                    }\n                                                                                },\n                                                                                className: \"px-2 py-1 bg-emerald-600 text-white rounded text-xs hover:bg-emerald-700 disabled:opacity-50\",\n                                                                                disabled: savingPartId === part.id,\n                                                                                children: savingPartId === part.id ? \"Saving...\" : \"Save\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                lineNumber: 1342,\n                                                                                columnNumber: 33\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: (e)=>{\n                                                                                    e.stopPropagation();\n                                                                                    setEditingPartId(null);\n                                                                                },\n                                                                                className: \"px-2 py-1 bg-gray-300 text-gray-800 rounded text-xs hover:bg-gray-400\",\n                                                                                children: \"Cancel\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                lineNumber: 1398,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                        lineNumber: 1341,\n                                                                        columnNumber: 31\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                lineNumber: 1291,\n                                                                columnNumber: 29\n                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"mt-1\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    onClick: (e)=>{\n                                                                        e.stopPropagation();\n                                                                        startEditPartTime(part);\n                                                                    },\n                                                                    className: \"text-[11px] text-indigo-600 hover:text-indigo-800 underline\",\n                                                                    children: \"Edit start/end\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                    lineNumber: 1411,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                lineNumber: 1410,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            isNext && timeToNext !== null && timeToNext <= 10 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-4xl font-extrabold text-red-600 animate-pulse\",\n                                                                children: Math.ceil(timeToNext)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                lineNumber: 1423,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            isExpanded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"mt-3\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-[11px] font-semibold text-gray-600 mb-1\",\n                                                                        children: \"Notes\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                        lineNumber: 1429,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                                        value: (_ref = (_noteDrafts_getNoteKey = noteDrafts[getNoteKey(part.id)]) !== null && _noteDrafts_getNoteKey !== void 0 ? _noteDrafts_getNoteKey : notesByKey[getNoteKey(part.id)]) !== null && _ref !== void 0 ? _ref : \"\",\n                                                                        onChange: (e)=>setNoteDrafts((prev)=>({\n                                                                                    ...prev,\n                                                                                    [getNoteKey(part.id)]: e.target.value\n                                                                                })),\n                                                                        onBlur: ()=>saveNote(part.id),\n                                                                        rows: 2,\n                                                                        placeholder: \"Add notes for this part...\",\n                                                                        className: \"w-full px-2 py-1 border border-gray-300 rounded text-xs\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                        lineNumber: 1430,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"mt-1 flex items-center gap-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: ()=>saveNote(part.id),\n                                                                                className: \"px-2 py-0.5 bg-gray-900 text-white rounded text-[11px]\",\n                                                                                disabled: noteSaving[getNoteKey(part.id)],\n                                                                                children: noteSaving[getNoteKey(part.id)] ? \"Saving...\" : \"Save note\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                lineNumber: 1441,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"text-[10px] text-gray-400\",\n                                                                                children: \"Auto-saves on blur\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                lineNumber: 1448,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                        lineNumber: 1440,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                lineNumber: 1428,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-base text-gray-600 mt-1\",\n                                                                children: (positionsByPart[part.id] || []).length === 0 ? \"No positions\" : (positionsByPart[part.id] || []).map((p, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: [\n                                                                            idx > 0 ? \", \" : \"\",\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: p.student_name === personFilter ? \"font-bold text-emerald-600\" : \"\",\n                                                                                children: p.student_name\n                                                                            }, void 0, false, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                lineNumber: 1458,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        ]\n                                                                    }, \"\".concat(part.id, \"-pos-\").concat(p.student_id, \"-\").concat(idx), true, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                        lineNumber: 1456,\n                                                                        columnNumber: 31\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                lineNumber: 1452,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            (subpartsByPart[part.id] || []).length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"mt-3 space-y-3 text-sm text-gray-700\",\n                                                                children: (subpartsByPart[part.id] || []).map((sub, subIdx)=>{\n                                                                    const assigned = subpartAssignments[sub.id] || [];\n                                                                    const parsedStart = typeof sub.timepoint_seconds === \"number\" ? sub.timepoint_seconds : sub.timepoint_seconds !== null && sub.timepoint_seconds !== undefined ? parseFloat(String(sub.timepoint_seconds)) : NaN;\n                                                                    const parsedEnd = typeof sub.timepoint_end_seconds === \"number\" ? sub.timepoint_end_seconds : sub.timepoint_end_seconds !== null && sub.timepoint_end_seconds !== undefined ? parseFloat(String(sub.timepoint_end_seconds)) : NaN;\n                                                                    const hasTime = Number.isFinite(parsedStart);\n                                                                    var _noteDrafts_getNoteKey, _ref;\n                                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: hasTime ? \"\" : \"\",\n                                                                        children: [\n                                                                            hasTime ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                type: \"button\",\n                                                                                onClick: ()=>seekTo(parsedStart, true),\n                                                                                className: \"font-semibold text-gray-900 text-left\",\n                                                                                children: [\n                                                                                    subIdx + 1,\n                                                                                    \". \",\n                                                                                    sub.title\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                lineNumber: 1487,\n                                                                                columnNumber: 35\n                                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"font-semibold text-gray-900\",\n                                                                                children: [\n                                                                                    subIdx + 1,\n                                                                                    \". \",\n                                                                                    sub.title\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                lineNumber: 1495,\n                                                                                columnNumber: 35\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-gray-600\",\n                                                                                children: [\n                                                                                    \"Assigned:\",\n                                                                                    \" \",\n                                                                                    assigned.length === 0 ? \"\" : assigned.map((name, nameIdx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            children: [\n                                                                                                nameIdx > 0 ? \", \" : \"\",\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                    className: name === personFilter ? \"font-bold text-emerald-600\" : \"\",\n                                                                                                    children: name\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                                    lineNumber: 1506,\n                                                                                                    columnNumber: 43\n                                                                                                }, this)\n                                                                                            ]\n                                                                                        }, \"\".concat(sub.id, \"-assigned-\").concat(nameIdx), true, {\n                                                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                            lineNumber: 1504,\n                                                                                            columnNumber: 41\n                                                                                        }, this))\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                lineNumber: 1499,\n                                                                                columnNumber: 33\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-gray-500\",\n                                                                                children: [\n                                                                                    \"Notes: \",\n                                                                                    sub.description ? sub.description : \"\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                lineNumber: 1512,\n                                                                                columnNumber: 33\n                                                                            }, this),\n                                                                            notesByKey[getNoteKey(part.id, sub.id)] && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-[10px] text-gray-500 mt-1\",\n                                                                                children: [\n                                                                                    \"Note: \",\n                                                                                    notesByKey[getNoteKey(part.id, sub.id)]\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                lineNumber: 1516,\n                                                                                columnNumber: 35\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"mt-1\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                                                        value: (_ref = (_noteDrafts_getNoteKey = noteDrafts[getNoteKey(part.id, sub.id)]) !== null && _noteDrafts_getNoteKey !== void 0 ? _noteDrafts_getNoteKey : notesByKey[getNoteKey(part.id, sub.id)]) !== null && _ref !== void 0 ? _ref : \"\",\n                                                                                        onChange: (e)=>setNoteDrafts((prev)=>({\n                                                                                                    ...prev,\n                                                                                                    [getNoteKey(part.id, sub.id)]: e.target.value\n                                                                                                })),\n                                                                                        onBlur: ()=>saveNote(part.id, sub.id),\n                                                                                        rows: 2,\n                                                                                        placeholder: \"Add rehearsal notes...\",\n                                                                                        className: \"w-full px-2 py-1 border border-gray-200 rounded text-[11px]\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                        lineNumber: 1521,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"mt-1 flex items-center gap-2\",\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                            onClick: ()=>saveNote(part.id, sub.id),\n                                                                                            className: \"px-2 py-0.5 bg-gray-900 text-white rounded text-[10px]\",\n                                                                                            disabled: noteSaving[getNoteKey(part.id, sub.id)],\n                                                                                            children: noteSaving[getNoteKey(part.id, sub.id)] ? \"Saving...\" : \"Save note\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                            lineNumber: 1535,\n                                                                                            columnNumber: 37\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                        lineNumber: 1534,\n                                                                                        columnNumber: 35\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                lineNumber: 1520,\n                                                                                columnNumber: 33\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-[11px] text-gray-500\",\n                                                                                children: [\n                                                                                    \"Time: \",\n                                                                                    Number.isFinite(parsedStart) ? formatTime(parsedStart) : \"--:--\",\n                                                                                    \" / \",\n                                                                                    Number.isFinite(parsedEnd) ? formatTime(parsedEnd) : \"--:--\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                lineNumber: 1544,\n                                                                                columnNumber: 33\n                                                                            }, this),\n                                                                            hasTime && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: (e)=>{\n                                                                                    e.stopPropagation();\n                                                                                    startJumpCountdown(parsedStart, part.id);\n                                                                                },\n                                                                                className: \"mt-1 text-[11px] text-indigo-600 hover:text-indigo-800 underline\",\n                                                                                children: [\n                                                                                    \"Jump to \",\n                                                                                    sub.title,\n                                                                                    \" subpart\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                                lineNumber: 1548,\n                                                                                columnNumber: 35\n                                                                            }, this)\n                                                                        ]\n                                                                    }, sub.id, true, {\n                                                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                        lineNumber: 1482,\n                                                                        columnNumber: 31\n                                                                    }, this);\n                                                                })\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                lineNumber: 1465,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            countdownTargetPartId === part.id && countdown !== null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"mt-2 text-center text-3xl font-extrabold text-red-600 animate-pulse\",\n                                                                children: countdown\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                lineNumber: 1564,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true)\n                                                ]\n                                            }, part.id, true, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                lineNumber: 1202,\n                                                columnNumber: 21\n                                            }, this);\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                        lineNumber: 1191,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                lineNumber: 1184,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-1 xl:grid-cols-[minmax(260px,0.6fr)_minmax(420px,1fr)] gap-6 items-start\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-3\",\n                                                children: [\n                                                    renderGrid(\"Current\", currentPart, false, CURRENT_CELL_SIZE),\n                                                    renderNamesBox(currentPart, false)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                lineNumber: 1578,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-3\",\n                                                children: [\n                                                    renderGrid(\"Next\", nextPart, true, NEXT_CELL_SIZE),\n                                                    renderNamesBox(nextPart, true)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                lineNumber: 1582,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                        lineNumber: 1577,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"min-h-[180px]\",\n                                                children: renderSubpartOverlay(currentPart)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                lineNumber: 1589,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"min-h-[180px]\",\n                                                children: renderSubpartOverlay(nextPart)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                lineNumber: 1590,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                        lineNumber: 1588,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"max-w-xl space-y-3\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex flex-wrap items-center gap-3 rounded-lg border-2 border-blue-600 bg-blue-50 p-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs font-extrabold uppercase tracking-widest text-blue-700\",\n                                                    children: \"Filter by person\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                    lineNumber: 1595,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                    value: personFilter,\n                                                    onChange: (e)=>setPersonFilter(e.target.value),\n                                                    className: \"min-w-[160px] px-2 py-1 border border-blue-200 rounded text-sm bg-white\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"\",\n                                                            children: \"All\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                            lineNumber: 1603,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        allPeople.map((name)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: name,\n                                                                children: name\n                                                            }, name, false, {\n                                                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                lineNumber: 1605,\n                                                                columnNumber: 25\n                                                            }, this))\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                    lineNumber: 1598,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"ml-auto flex items-center gap-3 text-xs font-semibold text-blue-700\",\n                                                    children: [\n                                                        callTime && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Call Time: \",\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"font-bold\",\n                                                                    children: callTime\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                    lineNumber: 1613,\n                                                                    columnNumber: 38\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                            lineNumber: 1612,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                            className: \"flex items-center gap-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"checkbox\",\n                                                                    checked: ringEnabled,\n                                                                    onChange: (e)=>setRingEnabled(e.target.checked),\n                                                                    className: \"h-4 w-4\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                                    lineNumber: 1617,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                \"Ring at T-10\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                            lineNumber: 1616,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                                    lineNumber: 1610,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                            lineNumber: 1594,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                        lineNumber: 1593,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                                lineNumber: 1576,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                        lineNumber: 1183,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n                lineNumber: 1156,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n            lineNumber: 1155,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\calvi\\\\Desktop\\\\PerfTool\\\\src\\\\components\\\\RehearseOverlay.tsx\",\n        lineNumber: 1154,\n        columnNumber: 5\n    }, this);\n}\n_s(RehearseOverlay, \"2667fojIoNTJvYSeQWaupu6QgYI=\");\n_c = RehearseOverlay;\nvar _c;\n$RefreshReg$(_c, \"RehearseOverlay\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1JlaGVhcnNlT3ZlcmxheS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUUwRTtBQUMzQjtBQW1DL0MsTUFBTU0sWUFBWTtBQUNsQixNQUFNQyxZQUFZO0FBQ2xCLE1BQU1DLG9CQUFvQjtBQUMxQixNQUFNQyxpQkFBaUI7QUFHdkIsU0FBU0MsWUFBWUMsSUFBWTtJQUMvQixJQUFJLENBQUNBLE1BQU0sT0FBTztJQUNsQixNQUFNQyxTQUFTRCxLQUFLRSxJQUFJLEdBQUdDLEtBQUssQ0FBQztJQUNqQyxJQUFJRixPQUFPRyxNQUFNLEtBQUssR0FBRyxPQUFPSCxNQUFNLENBQUMsRUFBRSxDQUFDSSxLQUFLLENBQUMsR0FBRyxHQUFHQyxXQUFXO0lBQ2pFLE9BQU8sQ0FBQ0wsTUFBTSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUdBLE1BQU0sQ0FBQ0EsT0FBT0csTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUVFLFdBQVc7QUFDbEU7QUFFTyxTQUFTQyxnQkFBZ0IsS0FBeUY7UUFBekYsRUFBRUMsYUFBYSxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFQyxzQkFBc0IsRUFBd0IsR0FBekY7O0lBQzlCLE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHckIsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDc0IsaUJBQWlCQyxtQkFBbUIsR0FBR3ZCLCtDQUFRQSxDQUFrQyxDQUFDO0lBQ3pGLE1BQU0sQ0FBQ3dCLGtCQUFrQkMsb0JBQW9CLEdBQUd6QiwrQ0FBUUEsQ0FBQztJQUN6RCxNQUFNLENBQUMwQixhQUFhQyxlQUFlLEdBQUczQiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUM0QixnQkFBZ0JDLGtCQUFrQixHQUFHN0IsK0NBQVFBLENBQWdDLENBQUM7SUFDckYsTUFBTSxDQUFDOEIsb0JBQW9CQyxzQkFBc0IsR0FBRy9CLCtDQUFRQSxDQUEyQixDQUFDO0lBQ3hG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UzNZO29FQUNUb1csVUFBVSxDQUFDdkIsSUFBTTVVLGVBQWU0VSxFQUFFd0IsTUFBTSxDQUFDc0MsT0FBTztvRUFDaERoSCxXQUFVOzs7Ozs7Z0VBQ1Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFZMUI7R0E5aURnQnZTO0tBQUFBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGNhbHZpXFxEZXNrdG9wXFxQZXJmVG9vbFxcc3JjXFxjb21wb25lbnRzXFxSZWhlYXJzZU92ZXJsYXkudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBBcHBMb2dvIH0gZnJvbSBcIkAvY29tcG9uZW50cy9BcHBMb2dvXCI7XG5cbmludGVyZmFjZSBQYXJ0SXRlbSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIG9yZGVyOiBudW1iZXI7XG4gIHRpbWVwb2ludF9zZWNvbmRzPzogbnVtYmVyIHwgbnVsbDtcbiAgdGltZXBvaW50X2VuZF9zZWNvbmRzPzogbnVtYmVyIHwgbnVsbDtcbn1cblxuaW50ZXJmYWNlIFBvc2l0aW9uRW50cnkge1xuICBzdHVkZW50X2lkOiBzdHJpbmc7XG4gIHN0dWRlbnRfbmFtZTogc3RyaW5nO1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFN1YnBhcnRJdGVtIHtcbiAgaWQ6IHN0cmluZztcbiAgcGFydF9pZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZyB8IG51bGw7XG4gIHRpbWVwb2ludF9zZWNvbmRzPzogbnVtYmVyIHwgbnVsbDtcbiAgdGltZXBvaW50X2VuZF9zZWNvbmRzPzogbnVtYmVyIHwgbnVsbDtcbn1cblxuaW50ZXJmYWNlIFJlaGVhcnNlT3ZlcmxheVByb3BzIHtcbiAgcGVyZm9ybWFuY2VJZDogc3RyaW5nO1xuICBwYXJ0czogUGFydEl0ZW1bXTtcbiAgbXVzaWNVcmw/OiBzdHJpbmcgfCBudWxsO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICBvblVwZGF0ZVBhcnRUaW1lcG9pbnRzPzogKHVwZGF0ZWRQYXJ0OiBQYXJ0SXRlbSkgPT4gdm9pZDtcbn1cblxuY29uc3QgR1JJRF9DT0xTID0gMTI7XG5jb25zdCBHUklEX1JPV1MgPSA4O1xuY29uc3QgQ1VSUkVOVF9DRUxMX1NJWkUgPSAzNDtcbmNvbnN0IE5FWFRfQ0VMTF9TSVpFID0gODA7XG50eXBlIEZyb250RGlyZWN0aW9uID0gXCJib3R0b21cIiB8IFwidG9wXCI7XG5cbmZ1bmN0aW9uIGdldEluaXRpYWxzKG5hbWU6IHN0cmluZykge1xuICBpZiAoIW5hbWUpIHJldHVybiBcIj9cIjtcbiAgY29uc3QgY2h1bmtzID0gbmFtZS50cmltKCkuc3BsaXQoL1xccysvKTtcbiAgaWYgKGNodW5rcy5sZW5ndGggPT09IDEpIHJldHVybiBjaHVua3NbMF0uc2xpY2UoMCwgMikudG9VcHBlckNhc2UoKTtcbiAgcmV0dXJuIChjaHVua3NbMF1bMF0gKyBjaHVua3NbY2h1bmtzLmxlbmd0aCAtIDFdWzBdKS50b1VwcGVyQ2FzZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVoZWFyc2VPdmVybGF5KHsgcGVyZm9ybWFuY2VJZCwgcGFydHMsIG11c2ljVXJsLCBvbkNsb3NlLCBvblVwZGF0ZVBhcnRUaW1lcG9pbnRzIH06IFJlaGVhcnNlT3ZlcmxheVByb3BzKSB7XG4gIGNvbnN0IFtjdXJyZW50VGltZSwgc2V0Q3VycmVudFRpbWVdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtwb3NpdGlvbnNCeVBhcnQsIHNldFBvc2l0aW9uc0J5UGFydF0gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBQb3NpdGlvbkVudHJ5W10+Pih7fSk7XG4gIGNvbnN0IFtsb2FkaW5nUG9zaXRpb25zLCBzZXRMb2FkaW5nUG9zaXRpb25zXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3JpbmdFbmFibGVkLCBzZXRSaW5nRW5hYmxlZF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3N1YnBhcnRzQnlQYXJ0LCBzZXRTdWJwYXJ0c0J5UGFydF0gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBTdWJwYXJ0SXRlbVtdPj4oe30pO1xuICBjb25zdCBbc3VicGFydEFzc2lnbm1lbnRzLCBzZXRTdWJwYXJ0QXNzaWdubWVudHNdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgc3RyaW5nW10+Pih7fSk7XG4gIGNvbnN0IFtzdWJwYXJ0SGFzUG9zaXRpb25zLCBzZXRTdWJwYXJ0SGFzUG9zaXRpb25zXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+Pih7fSk7XG4gIGNvbnN0IFtwZXJzb25GaWx0ZXIsIHNldFBlcnNvbkZpbHRlcl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW25vdGVzQnlLZXksIHNldE5vdGVzQnlLZXldID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgc3RyaW5nPj4oe30pO1xuICBjb25zdCBbbm90ZURyYWZ0cywgc2V0Tm90ZURyYWZ0c10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+Pih7fSk7XG4gIGNvbnN0IFtub3RlU2F2aW5nLCBzZXROb3RlU2F2aW5nXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+Pih7fSk7XG4gIGNvbnN0IFtjb3VudGRvd24sIHNldENvdW50ZG93bl0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2NvdW50ZG93blRhcmdldFRpbWUsIHNldENvdW50ZG93blRhcmdldFRpbWVdID0gdXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjb3VudGRvd25UYXJnZXRQYXJ0SWQsIHNldENvdW50ZG93blRhcmdldFBhcnRJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2NhbGxUaW1lLCBzZXRDYWxsVGltZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbcGVyZm9ybWFuY2VUaXRsZSwgc2V0UGVyZm9ybWFuY2VUaXRsZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbc3RhZ2VPcmllbnRhdGlvbiwgc2V0U3RhZ2VPcmllbnRhdGlvbl0gPSB1c2VTdGF0ZTxGcm9udERpcmVjdGlvbj4oXCJib3R0b21cIik7XG4gIGNvbnN0IFtmbGFzaFN1YnBhcnRJZCwgc2V0Rmxhc2hTdWJwYXJ0SWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjdXJyZW50U3VicGFydElkLCBzZXRDdXJyZW50U3VicGFydElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZWRpdGluZ1BhcnRJZCwgc2V0RWRpdGluZ1BhcnRJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2VkaXRTdGFydE1pbiwgc2V0RWRpdFN0YXJ0TWluXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtlZGl0U3RhcnRTZWMsIHNldEVkaXRTdGFydFNlY10gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbZWRpdEVuZE1pbiwgc2V0RWRpdEVuZE1pbl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbZWRpdEVuZFNlYywgc2V0RWRpdEVuZFNlY10gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbc2F2aW5nUGFydElkLCBzZXRTYXZpbmdQYXJ0SWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtwYXJ0VGltZU92ZXJyaWRlcywgc2V0UGFydFRpbWVPdmVycmlkZXNdID0gdXNlU3RhdGU8XG4gICAgUmVjb3JkPHN0cmluZywgeyBzdGFydDogbnVtYmVyIHwgbnVsbDsgZW5kOiBudW1iZXIgfCBudWxsIH0+XG4gID4oe30pO1xuICBjb25zdCBbZXhwYW5kZWRQYXJ0SWRzLCBzZXRFeHBhbmRlZFBhcnRJZHNdID0gdXNlU3RhdGU8U2V0PHN0cmluZz4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IFtpc1BsYXlpbmcsIHNldElzUGxheWluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkdXJhdGlvbiwgc2V0RHVyYXRpb25dID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFt2b2x1bWUsIHNldFZvbHVtZV0gPSB1c2VTdGF0ZSgxKTtcbiAgY29uc3QgW2xvb3BFbmFibGVkLCBzZXRMb29wRW5hYmxlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb29wUmFuZ2UsIHNldExvb3BSYW5nZV0gPSB1c2VTdGF0ZTx7IHN0YXJ0OiBudW1iZXI7IGVuZDogbnVtYmVyIH0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3BlbmRpbmdMb29wUmFuZ2UsIHNldFBlbmRpbmdMb29wUmFuZ2VdID0gdXNlU3RhdGU8eyBzdGFydDogbnVtYmVyOyBlbmQ6IG51bWJlciB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsb29wU2VsZWN0TW9kZSwgc2V0TG9vcFNlbGVjdE1vZGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdGltZUVycm9yLCBzZXRUaW1lRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc1NjcnViYmluZywgc2V0SXNTY3J1YmJpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB0aW1lbGluZVJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGF1ZGlvUmVmID0gdXNlUmVmPEhUTUxBdWRpb0VsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBjdXJyZW50R3JpZFdyYXBSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBuZXh0R3JpZFdyYXBSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBbY3VycmVudEdyaWRTY2FsZSwgc2V0Q3VycmVudEdyaWRTY2FsZV0gPSB1c2VTdGF0ZSgxKTtcbiAgY29uc3QgW25leHRHcmlkU2NhbGUsIHNldE5leHRHcmlkU2NhbGVdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IHByZXZUaW1lVG9OZXh0UmVmID0gdXNlUmVmPG51bWJlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBsYXN0Rmxhc2hSZWYgPSB1c2VSZWY8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgZWZmZWN0aXZlUGFydHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gcGFydHMubWFwKChwYXJ0KSA9PiB7XG4gICAgICBjb25zdCBvdmVycmlkZSA9IHBhcnRUaW1lT3ZlcnJpZGVzW3BhcnQuaWRdO1xuICAgICAgaWYgKCFvdmVycmlkZSkgcmV0dXJuIHBhcnQ7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wYXJ0LFxuICAgICAgICB0aW1lcG9pbnRfc2Vjb25kczogb3ZlcnJpZGUuc3RhcnQsXG4gICAgICAgIHRpbWVwb2ludF9lbmRfc2Vjb25kczogb3ZlcnJpZGUuZW5kLFxuICAgICAgfTtcbiAgICB9KTtcbiAgfSwgW3BhcnRzLCBwYXJ0VGltZU92ZXJyaWRlc10pO1xuXG4gIGNvbnN0IG9yZGVyZWRQYXJ0cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBbLi4uZWZmZWN0aXZlUGFydHNdLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGNvbnN0IGFUaW1lID0gdHlwZW9mIGEudGltZXBvaW50X3NlY29uZHMgPT09IFwibnVtYmVyXCIgPyBhLnRpbWVwb2ludF9zZWNvbmRzIDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgY29uc3QgYlRpbWUgPSB0eXBlb2YgYi50aW1lcG9pbnRfc2Vjb25kcyA9PT0gXCJudW1iZXJcIiA/IGIudGltZXBvaW50X3NlY29uZHMgOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICBpZiAoYVRpbWUgPT09IGJUaW1lKSByZXR1cm4gKGEub3JkZXIgfHwgMCkgLSAoYi5vcmRlciB8fCAwKTtcbiAgICAgIHJldHVybiBhVGltZSAtIGJUaW1lO1xuICAgIH0pO1xuICB9LCBbZWZmZWN0aXZlUGFydHNdKTtcblxuICBjb25zdCB0aW1lcG9pbnRQYXJ0cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBvcmRlcmVkUGFydHMuZmlsdGVyKChwKSA9PiB0eXBlb2YgcC50aW1lcG9pbnRfc2Vjb25kcyA9PT0gXCJudW1iZXJcIik7XG4gIH0sIFtvcmRlcmVkUGFydHNdKTtcblxuICBjb25zdCBwYXJ0U2VnbWVudHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBzZWdtZW50czogQXJyYXk8eyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHN0YXJ0OiBudW1iZXI7IGVuZDogbnVtYmVyOyBzdWJwYXJ0czogU3VicGFydEl0ZW1bXSB9PiA9IFtdO1xuICAgIGNvbnN0IHNvcnRlZCA9IFsuLi5vcmRlcmVkUGFydHNdLmZpbHRlcigocCkgPT4gdHlwZW9mIHAudGltZXBvaW50X3NlY29uZHMgPT09IFwibnVtYmVyXCIpXG4gICAgICAuc29ydCgoYSwgYikgPT4gKGEudGltZXBvaW50X3NlY29uZHMgfHwgMCkgLSAoYi50aW1lcG9pbnRfc2Vjb25kcyB8fCAwKSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhcnQgPSBzb3J0ZWRbaV07XG4gICAgICBjb25zdCBzdGFydCA9IHBhcnQudGltZXBvaW50X3NlY29uZHMgfHwgMDtcbiAgICAgIGNvbnN0IG5leHRTdGFydCA9IGkgPCBzb3J0ZWQubGVuZ3RoIC0gMSA/IHNvcnRlZFtpICsgMV0udGltZXBvaW50X3NlY29uZHMgfHwgc3RhcnQgOiBudWxsO1xuICAgICAgY29uc3QgZW5kID1cbiAgICAgICAgdHlwZW9mIHBhcnQudGltZXBvaW50X2VuZF9zZWNvbmRzID09PSBcIm51bWJlclwiXG4gICAgICAgICAgPyBwYXJ0LnRpbWVwb2ludF9lbmRfc2Vjb25kc1xuICAgICAgICAgIDogbmV4dFN0YXJ0ICE9PSBudWxsXG4gICAgICAgICAgICA/IG5leHRTdGFydFxuICAgICAgICAgICAgOiBzdGFydCArIDE7XG4gICAgICBzZWdtZW50cy5wdXNoKHtcbiAgICAgICAgaWQ6IHBhcnQuaWQsXG4gICAgICAgIG5hbWU6IHBhcnQubmFtZSxcbiAgICAgICAgc3RhcnQsXG4gICAgICAgIGVuZDogTWF0aC5tYXgoZW5kLCBzdGFydCArIDAuMSksXG4gICAgICAgIHN1YnBhcnRzOiBzdWJwYXJ0c0J5UGFydFtwYXJ0LmlkXSB8fCBbXSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gc2VnbWVudHM7XG4gIH0sIFtvcmRlcmVkUGFydHMsIHN1YnBhcnRzQnlQYXJ0XSk7XG5cbiAgY29uc3QgcGFydFNlZ21lbnRCeUlkID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgbWFwID0gbmV3IE1hcDxzdHJpbmcsIHsgc3RhcnQ6IG51bWJlcjsgZW5kOiBudW1iZXIgfT4oKTtcbiAgICBwYXJ0U2VnbWVudHMuZm9yRWFjaCgoc2VnKSA9PiB7XG4gICAgICBtYXAuc2V0KHNlZy5pZCwgeyBzdGFydDogc2VnLnN0YXJ0LCBlbmQ6IHNlZy5lbmQgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1hcDtcbiAgfSwgW3BhcnRTZWdtZW50c10pO1xuXG4gIGNvbnN0IHRpbWVsaW5lRHVyYXRpb24gPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBsYXN0ID0gcGFydFNlZ21lbnRzLnJlZHVjZSgobWF4LCBzZWcpID0+IE1hdGgubWF4KG1heCwgc2VnLmVuZCksIDApO1xuICAgIHJldHVybiBNYXRoLm1heChkdXJhdGlvbiB8fCAwLCBsYXN0LCAxKTtcbiAgfSwgW3BhcnRTZWdtZW50cywgZHVyYXRpb25dKTtcblxuICBjb25zdCBjdXJyZW50SW5kZXggPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAodGltZXBvaW50UGFydHMubGVuZ3RoID09PSAwKSByZXR1cm4gLTE7XG4gICAgbGV0IGlkeCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aW1lcG9pbnRQYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc3RhcnQgPSB0aW1lcG9pbnRQYXJ0c1tpXS50aW1lcG9pbnRfc2Vjb25kcyB8fCAwO1xuICAgICAgY29uc3QgZW5kID0gdGltZXBvaW50UGFydHNbaV0udGltZXBvaW50X2VuZF9zZWNvbmRzO1xuICAgICAgaWYgKGN1cnJlbnRUaW1lID49IHN0YXJ0ICYmIChlbmQgPT09IG51bGwgfHwgZW5kID09PSB1bmRlZmluZWQgfHwgY3VycmVudFRpbWUgPCBlbmQpKSB7XG4gICAgICAgIGlkeCA9IGk7XG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnRUaW1lID49IHN0YXJ0KSB7XG4gICAgICAgIGlkeCA9IGk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpZHg7XG4gIH0sIFt0aW1lcG9pbnRQYXJ0cywgY3VycmVudFRpbWVdKTtcblxuICBjb25zdCBjdXJyZW50UGFydCA9IGN1cnJlbnRJbmRleCA+PSAwID8gdGltZXBvaW50UGFydHNbY3VycmVudEluZGV4XSA6IG51bGw7XG4gIGNvbnN0IG5leHRQYXJ0ID0gY3VycmVudEluZGV4ID49IDAgPyB0aW1lcG9pbnRQYXJ0c1tjdXJyZW50SW5kZXggKyAxXSA6IG51bGw7XG4gIGNvbnN0IHRpbWVUb05leHQgPSBuZXh0UGFydCA/IE1hdGgubWF4KDAsIChuZXh0UGFydC50aW1lcG9pbnRfc2Vjb25kcyB8fCAwKSAtIGN1cnJlbnRUaW1lKSA6IG51bGw7XG5cbiAgY29uc3QgZm9ybWF0VGltZSA9IChzZWNvbmRzOiBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKHNlY29uZHMgPT09IG51bGwgfHwgc2Vjb25kcyA9PT0gdW5kZWZpbmVkIHx8IE51bWJlci5pc05hTihzZWNvbmRzKSkgcmV0dXJuIFwiLS06LS1cIjtcbiAgICBjb25zdCB0b3RhbCA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3Ioc2Vjb25kcykpO1xuICAgIGNvbnN0IG1pbnMgPSBNYXRoLmZsb29yKHRvdGFsIC8gNjApO1xuICAgIGNvbnN0IHNlY3MgPSB0b3RhbCAlIDYwO1xuICAgIHJldHVybiBgJHttaW5zfToke3NlY3MudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9YDtcbiAgfTtcblxuICBjb25zdCBmb3JtYXREdXJhdGlvbiA9IChzdGFydDogbnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZCwgZW5kOiBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzdGFydCAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgZW5kICE9PSBcIm51bWJlclwiKSByZXR1cm4gXCJcIjtcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShzdGFydCkgfHwgIU51bWJlci5pc0Zpbml0ZShlbmQpKSByZXR1cm4gXCJcIjtcbiAgICBjb25zdCB0b3RhbCA9IE1hdGgubWF4KDAsIGVuZCAtIHN0YXJ0KTtcbiAgICBjb25zdCBtaW5zID0gTWF0aC5mbG9vcih0b3RhbCAvIDYwKTtcbiAgICBjb25zdCBzZWNzID0gTWF0aC5yb3VuZCh0b3RhbCAlIDYwKTtcbiAgICByZXR1cm4gYCR7bWluc31tICR7c2Vjc31zYDtcbiAgfTtcblxuICBjb25zdCBnZXRTdWJwYXJ0Qm91bmRzID0gKHBhcnRJZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgbGlzdCA9IHN1YnBhcnRzQnlQYXJ0W3BhcnRJZF0gfHwgW107XG4gICAgY29uc3Qgc3RhcnRzOiBudW1iZXJbXSA9IFtdO1xuICAgIGNvbnN0IGVuZHM6IG51bWJlcltdID0gW107XG4gICAgbGlzdC5mb3JFYWNoKChzdWIpID0+IHtcbiAgICAgIGlmICh0eXBlb2Ygc3ViLnRpbWVwb2ludF9zZWNvbmRzID09PSBcIm51bWJlclwiKSBzdGFydHMucHVzaChzdWIudGltZXBvaW50X3NlY29uZHMpO1xuICAgICAgaWYgKHR5cGVvZiBzdWIudGltZXBvaW50X2VuZF9zZWNvbmRzID09PSBcIm51bWJlclwiKSBlbmRzLnB1c2goc3ViLnRpbWVwb2ludF9lbmRfc2Vjb25kcyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1pblN0YXJ0OiBzdGFydHMubGVuZ3RoID4gMCA/IE1hdGgubWluKC4uLnN0YXJ0cykgOiBudWxsLFxuICAgICAgbWF4RW5kOiBlbmRzLmxlbmd0aCA+IDAgPyBNYXRoLm1heCguLi5lbmRzKSA6IG51bGwsXG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBzcGxpdFRpbWUgPSAodmFsdWU6IG51bWJlciB8IG51bGwgfCB1bmRlZmluZWQpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCBOdW1iZXIuaXNOYU4odmFsdWUpKSByZXR1cm4geyBtaW46IFwiXCIsIHNlYzogXCJcIiB9O1xuICAgIGNvbnN0IHRvdGFsID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcih2YWx1ZSkpO1xuICAgIHJldHVybiB7IG1pbjogU3RyaW5nKE1hdGguZmxvb3IodG90YWwgLyA2MCkpLCBzZWM6IFN0cmluZyh0b3RhbCAlIDYwKSB9O1xuICB9O1xuXG4gIGNvbnN0IGNvbXBvc2VTZWNvbmRzID0gKG1pblN0cjogc3RyaW5nLCBzZWNTdHI6IHN0cmluZykgPT4ge1xuICAgIGlmICghbWluU3RyICYmICFzZWNTdHIpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IG1pbnMgPSBtaW5TdHIgPyBwYXJzZUludChtaW5TdHIsIDEwKSA6IDA7XG4gICAgY29uc3Qgc2VjcyA9IHNlY1N0ciA/IHBhcnNlRmxvYXQoc2VjU3RyKSA6IDA7XG4gICAgaWYgKE51bWJlci5pc05hTihtaW5zKSB8fCBOdW1iZXIuaXNOYU4oc2VjcykpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBtaW5zICogNjAgKyBzZWNzO1xuICB9O1xuXG4gIGNvbnN0IHNlZWtUbyA9ICh0aW1lOiBudW1iZXIsIHNob3VsZFBsYXk6IGJvb2xlYW4gPSB0cnVlKSA9PiB7XG4gICAgaWYgKCFhdWRpb1JlZi5jdXJyZW50KSByZXR1cm47XG4gICAgY29uc3QgbmV4dFRpbWUgPSBNYXRoLm1heCgwLCB0aW1lKTtcbiAgICBhdWRpb1JlZi5jdXJyZW50LmN1cnJlbnRUaW1lID0gbmV4dFRpbWU7XG4gICAgc2V0Q3VycmVudFRpbWUobmV4dFRpbWUpO1xuICAgIGlmIChzaG91bGRQbGF5KSB7XG4gICAgICBhdWRpb1JlZi5jdXJyZW50LnBsYXkoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlUGxheSA9ICgpID0+IHtcbiAgICBpZiAoIWF1ZGlvUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBpZiAoaXNQbGF5aW5nKSB7XG4gICAgICBhdWRpb1JlZi5jdXJyZW50LnBhdXNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQucGxheSgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzZWxlY3RMb29wRm9yUGFydCA9IChwYXJ0SWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHNlZyA9IHBhcnRTZWdtZW50QnlJZC5nZXQocGFydElkKTtcbiAgICBpZiAoc2VnKSBzZXRQZW5kaW5nTG9vcFJhbmdlKHNlZyk7XG4gIH07XG5cbiAgY29uc3QgYWxsUGVvcGxlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgbmFtZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBPYmplY3QudmFsdWVzKHBvc2l0aW9uc0J5UGFydCkuZm9yRWFjaCgobGlzdCkgPT4ge1xuICAgICAgbGlzdC5mb3JFYWNoKChwKSA9PiBuYW1lcy5hZGQocC5zdHVkZW50X25hbWUgfHwgXCJVbmtub3duXCIpKTtcbiAgICB9KTtcbiAgICBPYmplY3QudmFsdWVzKHN1YnBhcnRBc3NpZ25tZW50cykuZm9yRWFjaCgobGlzdCkgPT4ge1xuICAgICAgbGlzdC5mb3JFYWNoKChuYW1lKSA9PiBuYW1lcy5hZGQobmFtZSB8fCBcIlVua25vd25cIikpO1xuICAgIH0pO1xuICAgIHJldHVybiBBcnJheS5mcm9tKG5hbWVzKS5zb3J0KChhLCBiKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpO1xuICB9LCBbcG9zaXRpb25zQnlQYXJ0LCBzdWJwYXJ0QXNzaWdubWVudHNdKTtcblxuICBjb25zdCBmaWx0ZXJlZFBhcnRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKCFwZXJzb25GaWx0ZXIpIHJldHVybiBvcmRlcmVkUGFydHM7XG4gICAgcmV0dXJuIG9yZGVyZWRQYXJ0cy5maWx0ZXIoKHBhcnQpID0+IHtcbiAgICAgIGNvbnN0IHBvc05hbWVzID0gKHBvc2l0aW9uc0J5UGFydFtwYXJ0LmlkXSB8fCBbXSkubWFwKChwKSA9PiBwLnN0dWRlbnRfbmFtZSk7XG4gICAgICBpZiAocG9zTmFtZXMuaW5jbHVkZXMocGVyc29uRmlsdGVyKSkgcmV0dXJuIHRydWU7XG4gICAgICBjb25zdCBzdWJwYXJ0cyA9IHN1YnBhcnRzQnlQYXJ0W3BhcnQuaWRdIHx8IFtdO1xuICAgICAgcmV0dXJuIHN1YnBhcnRzLnNvbWUoKHN1YikgPT4gKHN1YnBhcnRBc3NpZ25tZW50c1tzdWIuaWRdIHx8IFtdKS5pbmNsdWRlcyhwZXJzb25GaWx0ZXIpKTtcbiAgICB9KTtcbiAgfSwgW29yZGVyZWRQYXJ0cywgcGVyc29uRmlsdGVyLCBwb3NpdGlvbnNCeVBhcnQsIHN1YnBhcnRzQnlQYXJ0LCBzdWJwYXJ0QXNzaWdubWVudHNdKTtcblxuICBjb25zdCBzdGFydEVkaXRQYXJ0VGltZSA9IChwYXJ0OiBQYXJ0SXRlbSkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRTdGFydCA9XG4gICAgICB0eXBlb2YgcGFydC50aW1lcG9pbnRfc2Vjb25kcyA9PT0gXCJudW1iZXJcIiA/IHBhcnQudGltZXBvaW50X3NlY29uZHMgOiBudWxsO1xuICAgIGNvbnN0IGN1cnJlbnRFbmQgPVxuICAgICAgdHlwZW9mIHBhcnQudGltZXBvaW50X2VuZF9zZWNvbmRzID09PSBcIm51bWJlclwiID8gcGFydC50aW1lcG9pbnRfZW5kX3NlY29uZHMgOiBudWxsO1xuICAgIGNvbnN0IHN0YXJ0U3BsaXQgPSBzcGxpdFRpbWUoY3VycmVudFN0YXJ0KTtcbiAgICBjb25zdCBlbmRTcGxpdCA9IHNwbGl0VGltZShjdXJyZW50RW5kKTtcbiAgICBzZXRFZGl0U3RhcnRNaW4oc3RhcnRTcGxpdC5taW4pO1xuICAgIHNldEVkaXRTdGFydFNlYyhzdGFydFNwbGl0LnNlYyk7XG4gICAgc2V0RWRpdEVuZE1pbihlbmRTcGxpdC5taW4pO1xuICAgIHNldEVkaXRFbmRTZWMoZW5kU3BsaXQuc2VjKTtcbiAgICBzZXRFZGl0aW5nUGFydElkKHBhcnQuaWQpO1xuICAgIHNldFRpbWVFcnJvcihudWxsKTtcbiAgfTtcblxuICBjb25zdCBwbGF5UmluZyA9ICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgQXVkaW9DdHggPSAod2luZG93IGFzIGFueSkuQXVkaW9Db250ZXh0IHx8ICh3aW5kb3cgYXMgYW55KS53ZWJraXRBdWRpb0NvbnRleHQ7XG4gICAgICBpZiAoIUF1ZGlvQ3R4KSByZXR1cm47XG4gICAgICBjb25zdCBjdHggPSBuZXcgQXVkaW9DdHgoKTtcbiAgICAgIGNvbnN0IGdhaW4gPSBjdHguY3JlYXRlR2FpbigpO1xuICAgICAgZ2Fpbi5nYWluLnZhbHVlID0gMC4zNTtcbiAgICAgIGdhaW4uY29ubmVjdChjdHguZGVzdGluYXRpb24pO1xuXG4gICAgICBjb25zdCBiZWVwID0gKHN0YXJ0OiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3Qgb3NjID0gY3R4LmNyZWF0ZU9zY2lsbGF0b3IoKTtcbiAgICAgICAgb3NjLnR5cGUgPSBcInNpbmVcIjtcbiAgICAgICAgb3NjLmZyZXF1ZW5jeS52YWx1ZSA9IDg4MDtcbiAgICAgICAgb3NjLmNvbm5lY3QoZ2Fpbik7XG4gICAgICAgIG9zYy5zdGFydChzdGFydCk7XG4gICAgICAgIG9zYy5zdG9wKHN0YXJ0ICsgMC4xOCk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBub3cgPSBjdHguY3VycmVudFRpbWU7XG4gICAgICBiZWVwKG5vdyk7XG4gICAgICBiZWVwKG5vdyArIDAuMzUpO1xuICAgICAgYmVlcChub3cgKyAwLjcpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBjdHguY2xvc2UoKSwgMTIwMCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBpZ25vcmUgYXVkaW8gZXJyb3JzXG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHBsYXlCZWVwID0gKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBBdWRpb0N0eCA9ICh3aW5kb3cgYXMgYW55KS5BdWRpb0NvbnRleHQgfHwgKHdpbmRvdyBhcyBhbnkpLndlYmtpdEF1ZGlvQ29udGV4dDtcbiAgICAgIGlmICghQXVkaW9DdHgpIHJldHVybjtcbiAgICAgIGNvbnN0IGN0eCA9IG5ldyBBdWRpb0N0eCgpO1xuICAgICAgY29uc3QgZ2FpbiA9IGN0eC5jcmVhdGVHYWluKCk7XG4gICAgICBnYWluLmdhaW4udmFsdWUgPSAwLjM7XG4gICAgICBnYWluLmNvbm5lY3QoY3R4LmRlc3RpbmF0aW9uKTtcbiAgICAgIGNvbnN0IG9zYyA9IGN0eC5jcmVhdGVPc2NpbGxhdG9yKCk7XG4gICAgICBvc2MudHlwZSA9IFwic2luZVwiO1xuICAgICAgb3NjLmZyZXF1ZW5jeS52YWx1ZSA9IDg4MDtcbiAgICAgIG9zYy5jb25uZWN0KGdhaW4pO1xuICAgICAgY29uc3Qgbm93ID0gY3R4LmN1cnJlbnRUaW1lO1xuICAgICAgb3NjLnN0YXJ0KG5vdyk7XG4gICAgICBvc2Muc3RvcChub3cgKyAwLjE1KTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gY3R4LmNsb3NlKCksIDMwMCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBpZ25vcmVcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3RhcnRKdW1wQ291bnRkb3duID0gKHRhcmdldFRpbWU6IG51bWJlciwgcGFydElkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWF1ZGlvUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBzZXRDb3VudGRvd25UYXJnZXRUaW1lKHRhcmdldFRpbWUpO1xuICAgIHNldENvdW50ZG93blRhcmdldFBhcnRJZChwYXJ0SWQpO1xuICAgIHNldENvdW50ZG93bigzKTtcbiAgICBwbGF5QmVlcCgpO1xuICAgIGxldCB0aWNrID0gMztcbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRpY2sgLT0gMTtcbiAgICAgIGlmICh0aWNrIDw9IDApIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIHNldENvdW50ZG93bihudWxsKTtcbiAgICAgICAgc2V0Q291bnRkb3duVGFyZ2V0VGltZShudWxsKTtcbiAgICAgICAgc2V0Q291bnRkb3duVGFyZ2V0UGFydElkKG51bGwpO1xuICAgICAgICBhdWRpb1JlZi5jdXJyZW50IS5jdXJyZW50VGltZSA9IHRhcmdldFRpbWU7XG4gICAgICAgIGF1ZGlvUmVmLmN1cnJlbnQhLnBsYXkoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0Q291bnRkb3duKHRpY2spO1xuICAgICAgcGxheUJlZXAoKTtcbiAgICB9LCAxMDAwKTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGF1ZGlvID0gYXVkaW9SZWYuY3VycmVudDtcbiAgICBpZiAoIWF1ZGlvKSByZXR1cm47XG5cbiAgICBjb25zdCBoYW5kbGVUaW1lVXBkYXRlID0gKCkgPT4ge1xuICAgICAgc2V0Q3VycmVudFRpbWUoYXVkaW8uY3VycmVudFRpbWUpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVMb2FkZWQgPSAoKSA9PiB7XG4gICAgICBzZXREdXJhdGlvbihhdWRpby5kdXJhdGlvbiB8fCAwKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlUGxheSA9ICgpID0+IHNldElzUGxheWluZyh0cnVlKTtcbiAgICBjb25zdCBoYW5kbGVQYXVzZSA9ICgpID0+IHNldElzUGxheWluZyhmYWxzZSk7XG5cbiAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKFwidGltZXVwZGF0ZVwiLCBoYW5kbGVUaW1lVXBkYXRlKTtcbiAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkbWV0YWRhdGFcIiwgaGFuZGxlTG9hZGVkKTtcbiAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKFwicGxheVwiLCBoYW5kbGVQbGF5KTtcbiAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKFwicGF1c2VcIiwgaGFuZGxlUGF1c2UpO1xuICAgIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCBoYW5kbGVQYXVzZSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgYXVkaW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRpbWV1cGRhdGVcIiwgaGFuZGxlVGltZVVwZGF0ZSk7XG4gICAgICBhdWRpby5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZGVkbWV0YWRhdGFcIiwgaGFuZGxlTG9hZGVkKTtcbiAgICAgIGF1ZGlvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwbGF5XCIsIGhhbmRsZVBsYXkpO1xuICAgICAgYXVkaW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBhdXNlXCIsIGhhbmRsZVBhdXNlKTtcbiAgICAgIGF1ZGlvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCBoYW5kbGVQYXVzZSk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFhdWRpb1JlZi5jdXJyZW50KSByZXR1cm47XG4gICAgYXVkaW9SZWYuY3VycmVudC52b2x1bWUgPSB2b2x1bWU7XG4gIH0sIFt2b2x1bWVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGVsID0gY3VycmVudEdyaWRXcmFwUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFlbCkgcmV0dXJuO1xuICAgIGNvbnN0IGJhc2VXaWR0aCA9IEdSSURfQ09MUyAqIENVUlJFTlRfQ0VMTF9TSVpFO1xuICAgIGNvbnN0IHVwZGF0ZVNjYWxlID0gKCkgPT4ge1xuICAgICAgY29uc3Qgd2lkdGggPSBlbC5jbGllbnRXaWR0aDtcbiAgICAgIGlmICghd2lkdGgpIHJldHVybjtcbiAgICAgIHNldEN1cnJlbnRHcmlkU2NhbGUoTWF0aC5taW4oMSwgd2lkdGggLyBiYXNlV2lkdGgpKTtcbiAgICB9O1xuICAgIHVwZGF0ZVNjYWxlKCk7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIodXBkYXRlU2NhbGUpO1xuICAgIG9ic2VydmVyLm9ic2VydmUoZWwpO1xuICAgIHJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGVsID0gbmV4dEdyaWRXcmFwUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFlbCkgcmV0dXJuO1xuICAgIGNvbnN0IGJhc2VXaWR0aCA9IEdSSURfQ09MUyAqIE5FWFRfQ0VMTF9TSVpFO1xuICAgIGNvbnN0IHVwZGF0ZVNjYWxlID0gKCkgPT4ge1xuICAgICAgY29uc3Qgd2lkdGggPSBlbC5jbGllbnRXaWR0aDtcbiAgICAgIGlmICghd2lkdGgpIHJldHVybjtcbiAgICAgIHNldE5leHRHcmlkU2NhbGUoTWF0aC5taW4oMSwgd2lkdGggLyBiYXNlV2lkdGgpKTtcbiAgICB9O1xuICAgIHVwZGF0ZVNjYWxlKCk7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIodXBkYXRlU2NhbGUpO1xuICAgIG9ic2VydmVyLm9ic2VydmUoZWwpO1xuICAgIHJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbG9vcEVuYWJsZWQgfHwgIWxvb3BSYW5nZSB8fCAhYXVkaW9SZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIGlmIChjdXJyZW50VGltZSA+PSBsb29wUmFuZ2UuZW5kKSB7XG4gICAgICBhdWRpb1JlZi5jdXJyZW50LmN1cnJlbnRUaW1lID0gbG9vcFJhbmdlLnN0YXJ0O1xuICAgICAgaWYgKCFhdWRpb1JlZi5jdXJyZW50LnBhdXNlZCkge1xuICAgICAgICBhdWRpb1JlZi5jdXJyZW50LnBsYXkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjdXJyZW50VGltZSwgbG9vcEVuYWJsZWQsIGxvb3BSYW5nZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFyaW5nRW5hYmxlZCkge1xuICAgICAgcHJldlRpbWVUb05leHRSZWYuY3VycmVudCA9IHRpbWVUb05leHQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aW1lVG9OZXh0ID09PSBudWxsKSB7XG4gICAgICBwcmV2VGltZVRvTmV4dFJlZi5jdXJyZW50ID0gdGltZVRvTmV4dDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJldiA9IHByZXZUaW1lVG9OZXh0UmVmLmN1cnJlbnQ7XG4gICAgaWYgKChwcmV2ID09PSBudWxsIHx8IHByZXYgPiAxMCkgJiYgdGltZVRvTmV4dCA8PSAxMCkge1xuICAgICAgcGxheVJpbmcoKTtcbiAgICB9XG4gICAgcHJldlRpbWVUb05leHRSZWYuY3VycmVudCA9IHRpbWVUb05leHQ7XG4gIH0sIFt0aW1lVG9OZXh0LCByaW5nRW5hYmxlZF0pO1xuXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaFBvc2l0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIHNldExvYWRpbmdQb3NpdGlvbnModHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgcGFydHMubWFwKGFzeW5jIChwYXJ0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9zdGFnZS1wb3NpdGlvbnM/cGFydElkPSR7cGFydC5pZH1gKTtcbiAgICAgICAgICAgIGlmICghcmVzLm9rKSByZXR1cm4gW3BhcnQuaWQsIFtdXSBhcyBjb25zdDtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgICAgY29uc3QgbWFwcGVkID0gKGRhdGEgfHwgW10pLm1hcCgocDogYW55KSA9PiAoe1xuICAgICAgICAgICAgICBzdHVkZW50X2lkOiBwLnN0dWRlbnRfaWQsXG4gICAgICAgICAgICAgIHN0dWRlbnRfbmFtZTogcC5zdHVkZW50X25hbWUgfHwgXCJVbmtub3duXCIsXG4gICAgICAgICAgICAgIHg6IHAueCxcbiAgICAgICAgICAgICAgeTogcC55LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIFtwYXJ0LmlkLCBtYXBwZWRdIGFzIGNvbnN0O1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IG1hcDogUmVjb3JkPHN0cmluZywgUG9zaXRpb25FbnRyeVtdPiA9IHt9O1xuICAgICAgICBlbnRyaWVzLmZvckVhY2goKFtwYXJ0SWQsIGxpc3RdKSA9PiB7XG4gICAgICAgICAgbWFwW3BhcnRJZF0gPSBsaXN0O1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0UG9zaXRpb25zQnlQYXJ0KG1hcCk7XG4gICAgICAgIGNvbnN0IHN1YnBhcnRzRW50cmllcyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgIHBhcnRzLm1hcChhc3luYyAocGFydCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvc3VicGFydHM/cGFydElkPSR7cGFydC5pZH1gKTtcbiAgICAgICAgICAgIGlmICghcmVzLm9rKSByZXR1cm4gW3BhcnQuaWQsIFtdXSBhcyBjb25zdDtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IChkYXRhIHx8IFtdKS5tYXAoKGl0ZW06IGFueSkgPT4gKHtcbiAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgIHBhcnRfaWQ6IGl0ZW0ucGFydF9pZCxcbiAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBpdGVtLmRlc2NyaXB0aW9uID8/IG51bGwsXG4gICAgICAgICAgICAgIHRpbWVwb2ludF9zZWNvbmRzOiBpdGVtLnRpbWVwb2ludF9zZWNvbmRzID8/IG51bGwsXG4gICAgICAgICAgICAgIHRpbWVwb2ludF9lbmRfc2Vjb25kczogaXRlbS50aW1lcG9pbnRfZW5kX3NlY29uZHMgPz8gbnVsbCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBbcGFydC5pZCwgbm9ybWFsaXplZF0gYXMgY29uc3Q7XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgc3VicGFydHNNYXA6IFJlY29yZDxzdHJpbmcsIFN1YnBhcnRJdGVtW10+ID0ge307XG4gICAgICAgIHN1YnBhcnRzRW50cmllcy5mb3JFYWNoKChbcGFydElkLCBsaXN0XSkgPT4ge1xuICAgICAgICAgIHN1YnBhcnRzTWFwW3BhcnRJZF0gPSBsaXN0O1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0U3VicGFydHNCeVBhcnQoc3VicGFydHNNYXApO1xuXG4gICAgICAgIGNvbnN0IGFsbFN1YnBhcnRJZHMgPSBzdWJwYXJ0c0VudHJpZXMuZmxhdE1hcCgoWywgbGlzdF0pID0+IGxpc3QubWFwKChzOiBTdWJwYXJ0SXRlbSkgPT4gcy5pZCkpO1xuICAgICAgICBjb25zdCBhc3NpZ25tZW50RW50cmllcyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgIGFsbFN1YnBhcnRJZHMubWFwKGFzeW5jIChzdWJwYXJ0SWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL3N1YnBhcnQtb3JkZXI/c3VicGFydElkPSR7c3VicGFydElkfWApO1xuICAgICAgICAgICAgaWYgKCFyZXMub2spIHJldHVybiBbc3VicGFydElkLCBbXV0gYXMgY29uc3Q7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzID0gKGRhdGEgfHwgW10pLm1hcCgoaXRlbTogYW55KSA9PiBpdGVtLnN0dWRlbnRfbmFtZSB8fCBcIlVua25vd25cIik7XG4gICAgICAgICAgICByZXR1cm4gW3N1YnBhcnRJZCwgbmFtZXNdIGFzIGNvbnN0O1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGFzc2lnbm1lbnRNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPiA9IHt9O1xuICAgICAgICBhc3NpZ25tZW50RW50cmllcy5mb3JFYWNoKChbc3VicGFydElkLCBsaXN0XSkgPT4ge1xuICAgICAgICAgIGFzc2lnbm1lbnRNYXBbc3VicGFydElkXSA9IGxpc3Q7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRTdWJwYXJ0QXNzaWdubWVudHMoYXNzaWdubWVudE1hcCk7XG5cbiAgICAgICAgY29uc3Qgc3VicGFydFBvc2l0aW9uc0VudHJpZXMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICBhbGxTdWJwYXJ0SWRzLm1hcChhc3luYyAoc3VicGFydElkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9zdWJwYXJ0LXBvc2l0aW9ucz9zdWJwYXJ0SWQ9JHtzdWJwYXJ0SWR9YCk7XG4gICAgICAgICAgICBpZiAoIXJlcy5vaykgcmV0dXJuIFtzdWJwYXJ0SWQsIGZhbHNlXSBhcyBjb25zdDtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgICAgcmV0dXJuIFtzdWJwYXJ0SWQsIEFycmF5LmlzQXJyYXkoZGF0YSkgJiYgZGF0YS5sZW5ndGggPiAwXSBhcyBjb25zdDtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBwb3NNYXA6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+ID0ge307XG4gICAgICAgIHN1YnBhcnRQb3NpdGlvbnNFbnRyaWVzLmZvckVhY2goKFtzdWJwYXJ0SWQsIGhhc1Bvc2l0aW9uc10pID0+IHtcbiAgICAgICAgICBwb3NNYXBbc3VicGFydElkXSA9IGhhc1Bvc2l0aW9ucztcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFN1YnBhcnRIYXNQb3NpdGlvbnMocG9zTWFwKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmdQb3NpdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmZXRjaFBvc2l0aW9ucygpO1xuICB9LCBbcGFydHMsIHBlcmZvcm1hbmNlSWRdKTtcblxuICBjb25zdCByZWZyZXNoU3VicGFydHNGb3JQYXJ0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKHBhcnRJZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL3N1YnBhcnRzP3BhcnRJZD0ke3BhcnRJZH1gKTtcbiAgICAgIGlmICghcmVzLm9rKSByZXR1cm47XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSAoZGF0YSB8fCBbXSkubWFwKChpdGVtOiBhbnkpID0+ICh7XG4gICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICBwYXJ0X2lkOiBpdGVtLnBhcnRfaWQsXG4gICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLFxuICAgICAgICBkZXNjcmlwdGlvbjogaXRlbS5kZXNjcmlwdGlvbiA/PyBudWxsLFxuICAgICAgICB0aW1lcG9pbnRfc2Vjb25kczogaXRlbS50aW1lcG9pbnRfc2Vjb25kcyA/PyBudWxsLFxuICAgICAgICB0aW1lcG9pbnRfZW5kX3NlY29uZHM6IGl0ZW0udGltZXBvaW50X2VuZF9zZWNvbmRzID8/IG51bGwsXG4gICAgICB9KSk7XG4gICAgICBzZXRTdWJwYXJ0c0J5UGFydCgocHJldikgPT4gKHsgLi4ucHJldiwgW3BhcnRJZF06IG5vcm1hbGl6ZWQgfSkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gaWdub3JlXG4gICAgfVxuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVVcGRhdGVkID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgY29uc3QgZGV0YWlsID0gKGV2ZW50IGFzIEN1c3RvbUV2ZW50KS5kZXRhaWwgYXMgeyBwYXJ0SWQ/OiBzdHJpbmcgfSB8IHVuZGVmaW5lZDtcbiAgICAgIGlmIChkZXRhaWw/LnBhcnRJZCkge1xuICAgICAgICByZWZyZXNoU3VicGFydHNGb3JQYXJ0KGRldGFpbC5wYXJ0SWQpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJwYXJ0cy11cGRhdGVkXCIsIGhhbmRsZVVwZGF0ZWQpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1YnBhcnRzLXVwZGF0ZWRcIiwgaGFuZGxlVXBkYXRlZCk7XG4gIH0sIFtyZWZyZXNoU3VicGFydHNGb3JQYXJ0XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaFBlcmZvcm1hbmNlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvcGVyZm9ybWFuY2VzLyR7cGVyZm9ybWFuY2VJZH1gKTtcbiAgICAgICAgaWYgKCFyZXMub2spIHJldHVybjtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgIHNldENhbGxUaW1lKGRhdGE/LmNhbGxfdGltZSB8fCBcIlwiKTtcbiAgICAgICAgc2V0UGVyZm9ybWFuY2VUaXRsZShkYXRhPy50aXRsZSB8fCBcIlwiKTtcbiAgICAgICAgaWYgKGRhdGE/LnN0YWdlX29yaWVudGF0aW9uKSB7XG4gICAgICAgICAgc2V0U3RhZ2VPcmllbnRhdGlvbihkYXRhLnN0YWdlX29yaWVudGF0aW9uID09PSBcInRvcFwiID8gXCJ0b3BcIiA6IFwiYm90dG9tXCIpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gaWdub3JlXG4gICAgICB9XG4gICAgfTtcbiAgICBmZXRjaFBlcmZvcm1hbmNlKCk7XG4gIH0sIFtwZXJmb3JtYW5jZUlkXSk7XG5cbiAgY29uc3QgZ2V0Tm90ZUtleSA9IHVzZUNhbGxiYWNrKChwYXJ0SWQ6IHN0cmluZywgc3VicGFydElkPzogc3RyaW5nIHwgbnVsbCkgPT4ge1xuICAgIHJldHVybiBzdWJwYXJ0SWQgPyBgc3VicGFydDoke3N1YnBhcnRJZH1gIDogYHBhcnQ6JHtwYXJ0SWR9YDtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IHNhdmVOb3RlID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHBhcnRJZDogc3RyaW5nLCBzdWJwYXJ0SWQ/OiBzdHJpbmcgfCBudWxsKSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSBnZXROb3RlS2V5KHBhcnRJZCwgc3VicGFydElkKTtcbiAgICAgIGNvbnN0IGRyYWZ0ID0gKG5vdGVEcmFmdHNba2V5XSA/PyBub3Rlc0J5S2V5W2tleV0gPz8gXCJcIikudHJpbSgpO1xuICAgICAgY29uc3QgY3VycmVudCA9IChub3Rlc0J5S2V5W2tleV0gPz8gXCJcIikudHJpbSgpO1xuICAgICAgaWYgKGRyYWZ0ID09PSBjdXJyZW50KSByZXR1cm47XG4gICAgICBzZXROb3RlU2F2aW5nKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBba2V5XTogdHJ1ZSB9KSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcIi9hcGkvcmVoZWFyc2Utbm90ZXNcIiwge1xuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHBlcmZvcm1hbmNlX2lkOiBwZXJmb3JtYW5jZUlkLFxuICAgICAgICAgICAgcGFydF9pZDogcGFydElkLFxuICAgICAgICAgICAgc3VicGFydF9pZDogc3VicGFydElkID8/IG51bGwsXG4gICAgICAgICAgICBub3RlOiBkcmFmdCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gc2F2ZSBub3RlXCIpO1xuICAgICAgICBpZiAoIWRyYWZ0KSB7XG4gICAgICAgICAgc2V0Tm90ZXNCeUtleSgocHJldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgICAgZGVsZXRlIG5leHRba2V5XTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldE5vdGVzQnlLZXkoKHByZXYpID0+ICh7IC4uLnByZXYsIFtrZXldOiBkcmFmdCB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIGFsZXJ0KFwiRmFpbGVkIHRvIHNhdmUgbm90ZVwiKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldE5vdGVTYXZpbmcoKHByZXYpID0+ICh7IC4uLnByZXYsIFtrZXldOiBmYWxzZSB9KSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbZ2V0Tm90ZUtleSwgbm90ZXNCeUtleSwgbm90ZURyYWZ0cywgcGVyZm9ybWFuY2VJZF1cbiAgKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoTm90ZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9yZWhlYXJzZS1ub3Rlcz9wZXJmb3JtYW5jZUlkPSR7cGVyZm9ybWFuY2VJZH1gKTtcbiAgICAgICAgaWYgKCFyZXMub2spIHJldHVybjtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgIGNvbnN0IG1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgICAgICAoZGF0YSB8fCBbXSkuZm9yRWFjaCgoaXRlbTogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gZ2V0Tm90ZUtleShpdGVtLnBhcnRfaWQsIGl0ZW0uc3VicGFydF9pZCk7XG4gICAgICAgICAgbWFwW2tleV0gPSBpdGVtLm5vdGUgfHwgXCJcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldE5vdGVzQnlLZXkobWFwKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvLyBpZ25vcmVcbiAgICAgIH1cbiAgICB9O1xuICAgIGZldGNoTm90ZXMoKTtcbiAgfSwgW3BlcmZvcm1hbmNlSWQsIGdldE5vdGVLZXldKTtcblxuICBjb25zdCByZW5kZXJTdWJwYXJ0T3ZlcmxheSA9IChwYXJ0OiBQYXJ0SXRlbSB8IG51bGwpID0+IHtcbiAgICBpZiAoIXBhcnQpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHN1YnBhcnRzID0gc3VicGFydHNCeVBhcnRbcGFydC5pZF0gfHwgW107XG4gICAgaWYgKHN1YnBhcnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgaXRlbXMgPSBzdWJwYXJ0c1xuICAgICAgLm1hcCgoc3ViKSA9PiB7XG4gICAgICAgIGNvbnN0IG5hbWVzID0gc3VicGFydEFzc2lnbm1lbnRzW3N1Yi5pZF0gfHwgW107XG4gICAgICAgIGNvbnN0IGhhc1Bvc2l0aW9ucyA9IHN1YnBhcnRIYXNQb3NpdGlvbnNbc3ViLmlkXSB8fCBmYWxzZTtcbiAgICAgICAgaWYgKG5hbWVzLmxlbmd0aCA9PT0gMCB8fCBoYXNQb3NpdGlvbnMpIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4geyB0aXRsZTogc3ViLnRpdGxlLCBuYW1lcywgZGVzY3JpcHRpb246IHN1Yi5kZXNjcmlwdGlvbiB8fCBudWxsIH07XG4gICAgICB9KVxuICAgICAgLmZpbHRlcihCb29sZWFuKSBhcyBBcnJheTx7IHRpdGxlOiBzdHJpbmc7IG5hbWVzOiBzdHJpbmdbXTsgZGVzY3JpcHRpb24/OiBzdHJpbmcgfCBudWxsIH0+O1xuICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgYm9yZGVyIGJvcmRlci1pbmRpZ28tMjAwIHJvdW5kZWQtbGcgcC01IHNoYWRvdy1zbSBtaW4taC1bMjIwcHhdXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LWluZGlnby02MDAgZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgU3VicGFydCBBc3NpZ25tZW50c1xuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTMgdGV4dC1iYXNlIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICB7aXRlbXMubWFwKChpdGVtKSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17aXRlbS50aXRsZX0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+e2l0ZW0udGl0bGV9PC9kaXY+XG4gICAgICAgICAgICAgIHtpdGVtLmRlc2NyaXB0aW9uICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPntpdGVtLmRlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDBcIj57aXRlbS5uYW1lcy5qb2luKFwiLCBcIil9PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlckdyaWQgPSAodGl0bGU6IHN0cmluZywgcGFydDogUGFydEl0ZW0gfCBudWxsLCBpc05leHQ6IGJvb2xlYW4sIGNlbGxTaXplOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBwYXJ0ID8gcG9zaXRpb25zQnlQYXJ0W3BhcnQuaWRdIHx8IFtdIDogW107XG4gICAgY29uc3QgdGl0bGVTaXplID0gaXNOZXh0ID8gXCJ0ZXh0LTV4bFwiIDogXCJ0ZXh0LTR4bFwiO1xuICAgIGNvbnN0IGxhYmVsU2l6ZSA9IGlzTmV4dCA/IFwidGV4dC1iYXNlXCIgOiBcInRleHQtc21cIjtcbiAgICBjb25zdCBmcmFtZUNsYXNzID0gaXNOZXh0ID8gXCJib3JkZXItcHVycGxlLTcwMCBiZy1wdXJwbGUtMTAwXCIgOiBcImJvcmRlci1ibHVlLTcwMCBiZy1ibHVlLTEwMFwiO1xuICAgIGNvbnN0IGdyaWRGaWxsID0gaXNOZXh0ID8gXCJmcm9tLXB1cnBsZS0yMDAgdG8tcHVycGxlLTMwMFwiIDogXCJmcm9tLWJsdWUtMjAwIHRvLWJsdWUtMzAwXCI7XG4gICAgY29uc3QgbWFya2VyU2l6ZSA9IE1hdGgubWF4KDE4LCBNYXRoLnJvdW5kKGNlbGxTaXplICogMC43KSk7XG4gICAgY29uc3QgbWFya2VyVGV4dCA9IGNlbGxTaXplID49IDcwID8gXCJ0ZXh0LWJhc2VcIiA6IFwidGV4dC1bMTBweF1cIjtcbiAgICBjb25zdCBiYXNlV2lkdGggPSBHUklEX0NPTFMgKiBjZWxsU2l6ZTtcbiAgICBjb25zdCBiYXNlSGVpZ2h0ID0gR1JJRF9ST1dTICogY2VsbFNpemU7XG4gICAgY29uc3QgZ3JpZFNjYWxlID0gaXNOZXh0ID8gbmV4dEdyaWRTY2FsZSA6IGN1cnJlbnRHcmlkU2NhbGU7XG4gICAgY29uc3QgZ3JpZFdyYXBSZWYgPSBpc05leHQgPyBuZXh0R3JpZFdyYXBSZWYgOiBjdXJyZW50R3JpZFdyYXBSZWY7XG4gICAgY29uc3Qgc3VicGFydHMgPSBwYXJ0ID8gc3VicGFydHNCeVBhcnRbcGFydC5pZF0gfHwgW10gOiBbXTtcbiAgICBjb25zdCBvcmRlcmVkU3VicGFydHMgPSBzdWJwYXJ0c1xuICAgICAgLmZpbHRlcigocykgPT4gdHlwZW9mIHMudGltZXBvaW50X3NlY29uZHMgPT09IFwibnVtYmVyXCIpXG4gICAgICAuc29ydCgoYSwgYikgPT4gKGEudGltZXBvaW50X3NlY29uZHMgfHwgMCkgLSAoYi50aW1lcG9pbnRfc2Vjb25kcyB8fCAwKSk7XG4gICAgY29uc3QgY3VycmVudFN1YiA9IHBhcnQgJiYgY3VycmVudFN1YnBhcnRJZFxuICAgICAgPyBzdWJwYXJ0cy5maW5kKChzKSA9PiBzLmlkID09PSBjdXJyZW50U3VicGFydElkKVxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IG5leHRTdWIgPSBpc05leHQgPyBvcmRlcmVkU3VicGFydHNbMF0gfHwgbnVsbCA6IG51bGw7XG4gICAgY29uc3QgY3VycmVudFN1YkluZGV4ID0gY3VycmVudFN1YlxuICAgICAgPyBvcmRlcmVkU3VicGFydHMuZmluZEluZGV4KChzKSA9PiBzLmlkID09PSBjdXJyZW50U3ViLmlkKVxuICAgICAgOiAtMTtcbiAgICBjb25zdCBuZXh0U3ViRm9yQ3VycmVudCA9XG4gICAgICBjdXJyZW50U3ViSW5kZXggPj0gMCA/IG9yZGVyZWRTdWJwYXJ0c1tjdXJyZW50U3ViSW5kZXggKyAxXSB8fCBudWxsIDogb3JkZXJlZFN1YnBhcnRzWzBdIHx8IG51bGw7XG4gICAgY29uc3QgdHJ1bmNhdGU3ID0gKHZhbHVlOiBzdHJpbmcpID0+IHZhbHVlLnNsaWNlKDAsIDcpO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YHJvdW5kZWQtbGcgYm9yZGVyIHAtNCBzaGFkb3ctc20gJHtmcmFtZUNsYXNzfWB9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0zXCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtsYWJlbFNpemV9IHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtZ3JheS02MDBgfT57dGl0bGV9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7dGl0bGVTaXplfSBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBgfT57cGFydCA/IHBhcnQubmFtZSA6IFwi4oCUXCJ9PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2lzTmV4dCAmJiB0aW1lVG9OZXh0ICE9PSBudWxsICYmIHRpbWVUb05leHQgPD0gMTAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTd4bCBmb250LWV4dHJhYm9sZCB0ZXh0LXJlZC02MDAgYW5pbWF0ZS1wdWxzZVwiPlxuICAgICAgICAgICAgICB7TWF0aC5jZWlsKHRpbWVUb05leHQpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtpc05leHQgJiYgdGltZVRvTmV4dCAhPT0gbnVsbCAmJiB0aW1lVG9OZXh0IDw9IDEwICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTIgdGV4dC0zeGwgZm9udC1leHRyYWJvbGQgdGV4dC1yZWQtNjAwIGFuaW1hdGUtcHVsc2VcIj5cbiAgICAgICAgICAgIEdFVCBSRUFEWVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICA8ZGl2XG4gICAgICAgICAgcmVmPXtncmlkV3JhcFJlZn1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgb3ZlcmZsb3ctaGlkZGVuXCJcbiAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6IGJhc2VIZWlnaHQgKiBncmlkU2NhbGUgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGJvcmRlciBib3JkZXItZ3JheS0zMDAgYmctZ3JhZGllbnQtdG8tYiAke2dyaWRGaWxsfSByZWxhdGl2ZSBteC1hdXRvYH1cbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIHdpZHRoOiBiYXNlV2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodDogYmFzZUhlaWdodCxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgXG4gICAgICAgICAgICAgICAgbGluZWFyLWdyYWRpZW50KHJnYmEoMCwwLDAsLjEpIDFweCwgdHJhbnNwYXJlbnQgMXB4KSxcbiAgICAgICAgICAgICAgICBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHJnYmEoMCwwLDAsLjEpIDFweCwgdHJhbnNwYXJlbnQgMXB4KVxuICAgICAgICAgICAgICBgLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kU2l6ZTogYCR7Y2VsbFNpemV9cHggJHtjZWxsU2l6ZX1weGAsXG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogYHNjYWxlKCR7Z3JpZFNjYWxlfSlgLFxuICAgICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IFwidG9wIGxlZnRcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgIHtzdGFnZU9yaWVudGF0aW9uID09PSBcImJvdHRvbVwiICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTAgbGVmdC0wIHJpZ2h0LTAgaC0xIGJnLXJlZC01MDBcIiAvPlxuICAgICAgICAgICl9XG4gICAgICAgICAge3N0YWdlT3JpZW50YXRpb24gPT09IFwidG9wXCIgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCBsZWZ0LTAgcmlnaHQtMCBoLTEgYmctcmVkLTUwMFwiIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0ZXh0LXJlZC02MDAgZm9udC1ib2xkIHRleHQteHMgYmctd2hpdGUgYmctb3BhY2l0eS04MCBweC0yIHB5LTEgcm91bmRlZFwiXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAuLi4oc3RhZ2VPcmllbnRhdGlvbiA9PT0gXCJib3R0b21cIiAmJiB7IGJvdHRvbTogNSwgbGVmdDogXCI1MCVcIiwgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZVgoLTUwJSlcIiB9KSxcbiAgICAgICAgICAgICAgLi4uKHN0YWdlT3JpZW50YXRpb24gPT09IFwidG9wXCIgJiYgeyB0b3A6IDUsIGxlZnQ6IFwiNTAlXCIsIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVYKC01MCUpXCIgfSksXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIEZST05UXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgeyFpc05leHQgJiYgY3VycmVudFN1YiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMiB0b3AtMiBweC0yIHB5LTEgYmctd2hpdGUvODAgdGV4dC1hbWJlci03MDAgZm9udC1leHRyYWJvbGQgdGV4dC14bCByb3VuZGVkIHNoYWRvd1wiPlxuICAgICAgICAgICAgICB7dHJ1bmNhdGU3KGN1cnJlbnRTdWIudGl0bGUgfHwgXCJcIil9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiBHUklEX1JPV1MgfSkubWFwKChfLCB5KSA9PlxuICAgICAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogR1JJRF9DT0xTIH0pLm1hcCgoXywgeCkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5PXtgJHt4fS0ke3l9YH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZVwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGxlZnQ6IHggKiBjZWxsU2l6ZSxcbiAgICAgICAgICAgICAgICAgIHRvcDogeSAqIGNlbGxTaXplLFxuICAgICAgICAgICAgICAgICAgd2lkdGg6IGNlbGxTaXplLFxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBjZWxsU2l6ZSxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSlcbiAgICAgICAgICApfVxuICAgICAgICAgIHtwb3NpdGlvbnMubWFwKChwb3MpID0+IChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAga2V5PXtgJHtwb3Muc3R1ZGVudF9pZH0tJHtwb3MueH0tJHtwb3MueX1gfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgbGVmdDogcG9zLnggKiBjZWxsU2l6ZSxcbiAgICAgICAgICAgICAgICB0b3A6IHBvcy55ICogY2VsbFNpemUsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGNlbGxTaXplLFxuICAgICAgICAgICAgICAgIGhlaWdodDogY2VsbFNpemUsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlICR7bWFya2VyVGV4dH0gZm9udC1ib2xkIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzaGFkb3ctbWRgfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBtYXJrZXJTaXplLCBoZWlnaHQ6IG1hcmtlclNpemUgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXRJbml0aWFscyhwb3Muc3R1ZGVudF9uYW1lKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtpc05leHQgJiYgbmV4dFN1YiAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHRleHQtMnhsIGZvbnQtZXh0cmFib2xkIHRleHQtcHVycGxlLTcwMFwiPlxuICAgICAgICAgICAge3RydW5jYXRlNyhuZXh0U3ViLnRpdGxlIHx8IFwiXCIpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICB7IWlzTmV4dCAmJiBuZXh0U3ViRm9yQ3VycmVudCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHRleHQteGwgZm9udC1leHRyYWJvbGQgdGV4dC1ibHVlLTcwMFwiPlxuICAgICAgICAgICAgTmV4dCB1cDoge3RydW5jYXRlNyhuZXh0U3ViRm9yQ3VycmVudC50aXRsZSB8fCBcIlwiKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyTmFtZXNCb3ggPSAocGFydDogUGFydEl0ZW0gfCBudWxsLCBpc05leHQ6IGJvb2xlYW4pID0+IHtcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBwYXJ0ID8gcG9zaXRpb25zQnlQYXJ0W3BhcnQuaWRdIHx8IFtdIDogW107XG4gICAgY29uc3QgbmFtZXMgPSBBcnJheS5mcm9tKFxuICAgICAgbmV3IE1hcChwb3NpdGlvbnMubWFwKChwKSA9PiBbcC5zdHVkZW50X2lkLCBwLnN0dWRlbnRfbmFtZSB8fCBcIlVua25vd25cIl0pKS52YWx1ZXMoKVxuICAgICk7XG4gICAgY29uc3Qgc3VicGFydHMgPSBwYXJ0ID8gc3VicGFydHNCeVBhcnRbcGFydC5pZF0gfHwgW10gOiBbXTtcbiAgICBjb25zdCB0ZXh0U2l6ZSA9IGlzTmV4dCA/IFwidGV4dC0yeGxcIiA6IFwidGV4dC1iYXNlXCI7XG4gICAgY29uc3QgaW5mb0xhYmVsU2l6ZSA9IGlzTmV4dCA/IFwidGV4dC1zbVwiIDogXCJ0ZXh0LXhzXCI7XG4gICAgY29uc3QgcGFydER1cmF0aW9uID0gcGFydCA/IGZvcm1hdER1cmF0aW9uKHBhcnQudGltZXBvaW50X3NlY29uZHMsIHBhcnQudGltZXBvaW50X2VuZF9zZWNvbmRzKSA6IFwiXCI7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIHAtMyBzaGFkb3ctc20gbWluLWgtWzcycHhdXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtpbmZvTGFiZWxTaXplfSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LWdyYXktNTAwIG1iLTJgfT5JTkZPPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAge3BhcnREdXJhdGlvbiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICBEdXJhdGlvbjogPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+e3BhcnREdXJhdGlvbn08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNjAwIG1iLTJcIj5QZW9wbGU8L2Rpdj5cbiAgICAgICAgICAgIHtuYW1lcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+Tm8gcG9zaXRpb25zPC9kaXY+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGZsZXggZmxleC13cmFwIGdhcC0yICR7dGV4dFNpemV9IHRleHQtZ3JheS04MDBgfT5cbiAgICAgICAgICAgICAgICB7bmFtZXMubWFwKChuYW1lKSA9PiAoXG4gICAgICAgICAgICAgICAgICA8c3BhbiBrZXk9e2Ake3BhcnQ/LmlkIHx8IFwibm9uZVwifS0ke25hbWV9YH0gY2xhc3NOYW1lPVwicHgtMiBweS0xIGJnLWdyYXktMTAwIHJvdW5kZWRcIj5cbiAgICAgICAgICAgICAgICAgICAge25hbWV9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7c3VicGFydHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNjAwIG1iLTJcIj5TdWJwYXJ0czwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiB0ZXh0LXNtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICB7c3VicGFydHMubWFwKChzdWIsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgYXNzaWduZWQgPSBzdWJwYXJ0QXNzaWdubWVudHNbc3ViLmlkXSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YkR1cmF0aW9uID0gZm9ybWF0RHVyYXRpb24oc3ViLnRpbWVwb2ludF9zZWNvbmRzLCBzdWIudGltZXBvaW50X2VuZF9zZWNvbmRzKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtzdWIuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aWR4ICsgMX0uIHtzdWIudGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAge3N1YkR1cmF0aW9uICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+RHVyYXRpb246IHtzdWJEdXJhdGlvbn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2Fzc2lnbmVkLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+QXNzaWduZWQ6IOKAlDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzc2lnbmVkOntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YXNzaWduZWQubWFwKChuYW1lLCBhSWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBrZXk9e2Ake3N1Yi5pZH0taW5mby0ke2FJZHh9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthSWR4ID4gMCA/IFwiLCBcIiA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthSWR4ICsgMX0uIHtuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IGdldFRpbWVGcm9tUG9pbnRlciA9IChjbGllbnRYOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBlbCA9IHRpbWVsaW5lUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFlbCkgcmV0dXJuIDA7XG4gICAgY29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHJhdGlvID0gTWF0aC5taW4oMSwgTWF0aC5tYXgoMCwgKGNsaWVudFggLSByZWN0LmxlZnQpIC8gcmVjdC53aWR0aCkpO1xuICAgIHJldHVybiByYXRpbyAqIHRpbWVsaW5lRHVyYXRpb247XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVGltZWxpbmVQb2ludGVyRG93biA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgY29uc3QgdGltZSA9IGdldFRpbWVGcm9tUG9pbnRlcihlLmNsaWVudFgpO1xuICAgIHNldElzU2NydWJiaW5nKHRydWUpO1xuICAgIHNlZWtUbyh0aW1lLCBmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVGltZWxpbmVQb2ludGVyTW92ZSA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgaWYgKCFpc1NjcnViYmluZykgcmV0dXJuO1xuICAgIGNvbnN0IHRpbWUgPSBnZXRUaW1lRnJvbVBvaW50ZXIoZS5jbGllbnRYKTtcbiAgICBzZWVrVG8odGltZSwgZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVRpbWVsaW5lUG9pbnRlclVwID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICBpZiAoIWlzU2NydWJiaW5nKSByZXR1cm47XG4gICAgY29uc3QgdGltZSA9IGdldFRpbWVGcm9tUG9pbnRlcihlLmNsaWVudFgpO1xuICAgIHNlZWtUbyh0aW1lLCB0cnVlKTtcbiAgICBzZXRJc1NjcnViYmluZyhmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyUGVyZm9ybWFuY2VUaW1lbGluZSA9ICgpID0+IHtcbiAgICBpZiAocGFydFNlZ21lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcGxheWhlYWQgPSBNYXRoLm1pbigxLCBNYXRoLm1heCgwLCBjdXJyZW50VGltZSAvIHRpbWVsaW5lRHVyYXRpb24pKSAqIDEwMDtcbiAgICBjb25zdCBsb29wU3RhcnQgPVxuICAgICAgbG9vcFJhbmdlID8gTWF0aC5taW4obG9vcFJhbmdlLnN0YXJ0LCBsb29wUmFuZ2UuZW5kKSA6IG51bGw7XG4gICAgY29uc3QgbG9vcEVuZCA9XG4gICAgICBsb29wUmFuZ2UgPyBNYXRoLm1heChsb29wUmFuZ2Uuc3RhcnQsIGxvb3BSYW5nZS5lbmQpIDogbnVsbDtcbiAgICBjb25zdCBwYWxldHRlID0gW1xuICAgICAgXCJiZy1ibHVlLTYwMFwiLFxuICAgICAgXCJiZy1lbWVyYWxkLTYwMFwiLFxuICAgICAgXCJiZy1hbWJlci02MDBcIixcbiAgICAgIFwiYmctcHVycGxlLTYwMFwiLFxuICAgICAgXCJiZy1yb3NlLTYwMFwiLFxuICAgICAgXCJiZy10ZWFsLTYwMFwiLFxuICAgIF07XG4gICAgY29uc3QgcGFsZXR0ZUxpZ2h0ID0gW1xuICAgICAgXCJiZy1ibHVlLTIwMCB0ZXh0LWJsdWUtOTAwXCIsXG4gICAgICBcImJnLWVtZXJhbGQtMjAwIHRleHQtZW1lcmFsZC05MDBcIixcbiAgICAgIFwiYmctYW1iZXItMjAwIHRleHQtYW1iZXItOTAwXCIsXG4gICAgICBcImJnLXB1cnBsZS0yMDAgdGV4dC1wdXJwbGUtOTAwXCIsXG4gICAgICBcImJnLXJvc2UtMjAwIHRleHQtcm9zZS05MDBcIixcbiAgICAgIFwiYmctdGVhbC0yMDAgdGV4dC10ZWFsLTkwMFwiLFxuICAgIF07XG4gICAgY29uc3QgcGFydENvbG9ySW5kZXhCeUlkID0gbmV3IE1hcChwYXJ0U2VnbWVudHMubWFwKChzZWcsIGlkeCkgPT4gW3NlZy5pZCwgaWR4XSkpO1xuICAgIGNvbnN0IHN1YnBhcnRTZWdtZW50cyA9IHBhcnRTZWdtZW50c1xuICAgICAgLmZsYXRNYXAoKHNlZykgPT4ge1xuICAgICAgICBjb25zdCBsaXN0ID0gc3VicGFydHNCeVBhcnRbc2VnLmlkXSB8fCBbXTtcbiAgICAgICAgY29uc3QgY29sb3JJZHggPSBwYXJ0Q29sb3JJbmRleEJ5SWQuZ2V0KHNlZy5pZCkgPz8gMDtcbiAgICAgICAgcmV0dXJuIGxpc3RcbiAgICAgICAgICAubWFwKChzdWIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJhd1N0YXJ0ID1cbiAgICAgICAgICAgICAgdHlwZW9mIHN1Yi50aW1lcG9pbnRfc2Vjb25kcyA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgICAgICAgID8gc3ViLnRpbWVwb2ludF9zZWNvbmRzXG4gICAgICAgICAgICAgICAgOiBOdW1iZXIoc3ViLnRpbWVwb2ludF9zZWNvbmRzKTtcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHJhd1N0YXJ0KSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBjb25zdCBjbGFtcGVkU3RhcnQgPSBNYXRoLm1pbihNYXRoLm1heChyYXdTdGFydCwgc2VnLnN0YXJ0KSwgc2VnLmVuZCAtIDAuMSk7XG4gICAgICAgICAgICBjb25zdCByYXdFbmQgPVxuICAgICAgICAgICAgICB0eXBlb2Ygc3ViLnRpbWVwb2ludF9lbmRfc2Vjb25kcyA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgICAgICAgID8gc3ViLnRpbWVwb2ludF9lbmRfc2Vjb25kc1xuICAgICAgICAgICAgICAgIDogTnVtYmVyKHN1Yi50aW1lcG9pbnRfZW5kX3NlY29uZHMpO1xuICAgICAgICAgICAgY29uc3QgZW5kUmF3ID0gTnVtYmVyLmlzRmluaXRlKHJhd0VuZCkgPyByYXdFbmQgOiBjbGFtcGVkU3RhcnQgKyAwLjE7XG4gICAgICAgICAgICBjb25zdCBjbGFtcGVkRW5kID0gTWF0aC5taW4oTWF0aC5tYXgoZW5kUmF3LCBjbGFtcGVkU3RhcnQgKyAwLjEpLCBzZWcuZW5kKTtcbiAgICAgICAgICAgIGlmIChjbGFtcGVkRW5kIDw9IGNsYW1wZWRTdGFydCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBpZDogc3ViLmlkLFxuICAgICAgICAgICAgICBwYXJ0SWQ6IHNlZy5pZCxcbiAgICAgICAgICAgICAgdGl0bGU6IHN1Yi50aXRsZSxcbiAgICAgICAgICAgICAgc3RhcnQ6IGNsYW1wZWRTdGFydCxcbiAgICAgICAgICAgICAgZW5kOiBjbGFtcGVkRW5kLFxuICAgICAgICAgICAgICBjb2xvcklkeCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgfSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbikgYXMgQXJyYXk8e1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIHBhcnRJZDogc3RyaW5nO1xuICAgICAgdGl0bGU6IHN0cmluZztcbiAgICAgIHN0YXJ0OiBudW1iZXI7XG4gICAgICBlbmQ6IG51bWJlcjtcbiAgICAgIGNvbG9ySWR4OiBudW1iZXI7XG4gICAgfT47XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIHAtNCBzaGFkb3ctc20gbWItNlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTMgbWItM1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LWdyYXktNTAwXCI+UGVyZm9ybWFuY2UgVGltZWxpbmU8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZVBsYXl9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXshbXVzaWNVcmx9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgdGV4dC14cyBkaXNhYmxlZDpiZy1ncmF5LTQwMFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpc1BsYXlpbmcgPyBcIlBhdXNlXCIgOiBcIlBsYXlcIn1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAge2Zvcm1hdFRpbWUoY3VycmVudFRpbWUpfSAvIHtmb3JtYXRUaW1lKHRpbWVsaW5lRHVyYXRpb24pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgIFZvbHVtZVxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgIG1heD1cIjFcIlxuICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjA1XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dm9sdW1lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Vm9sdW1lKHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTIwXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobG9vcFNlbGVjdE1vZGUgJiYgcGVuZGluZ0xvb3BSYW5nZSkge1xuICAgICAgICAgICAgICAgICAgc2V0TG9vcFJhbmdlKHBlbmRpbmdMb29wUmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgc2V0TG9vcEVuYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICBzZXRMb29wU2VsZWN0TW9kZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNldExvb3BTZWxlY3RNb2RlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgc2V0UGVuZGluZ0xvb3BSYW5nZShudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTMgcHktMSByb3VuZGVkIHRleHQteHMgJHtcbiAgICAgICAgICAgICAgICBsb29wRW5hYmxlZCB8fCBsb29wU2VsZWN0TW9kZSA/IFwiYmctZW1lcmFsZC02MDAgdGV4dC13aGl0ZVwiIDogXCJiZy1ncmF5LTIwMCB0ZXh0LWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtsb29wU2VsZWN0TW9kZSA/IChwZW5kaW5nTG9vcFJhbmdlID8gXCJDb25maXJtIExvb3BcIiA6IFwiU2VsZWN0IFBhcnRcIikgOiBsb29wRW5hYmxlZCA/IFwiTG9vcCBPblwiIDogXCJTZXQgTG9vcFwifVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICB7bG9vcEVuYWJsZWQgJiYgKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0TG9vcEVuYWJsZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgc2V0TG9vcFJhbmdlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgc2V0UGVuZGluZ0xvb3BSYW5nZShudWxsKTtcbiAgICAgICAgICAgICAgICAgIHNldExvb3BTZWxlY3RNb2RlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSByb3VuZGVkIHRleHQteHMgYmctZ3JheS0yMDAgdGV4dC1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDbGVhciBMb29wXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICByZWY9e3RpbWVsaW5lUmVmfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIGgtMjQgcm91bmRlZCBiZy1zbGF0ZS01MCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBvdmVyZmxvdy1oaWRkZW4gY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgIG9uTW91c2VEb3duPXtoYW5kbGVUaW1lbGluZVBvaW50ZXJEb3dufVxuICAgICAgICAgIG9uTW91c2VNb3ZlPXtoYW5kbGVUaW1lbGluZVBvaW50ZXJNb3ZlfVxuICAgICAgICAgIG9uTW91c2VVcD17aGFuZGxlVGltZWxpbmVQb2ludGVyVXB9XG4gICAgICAgICAgb25Nb3VzZUxlYXZlPXtoYW5kbGVUaW1lbGluZVBvaW50ZXJVcH1cbiAgICAgICAgPlxuICAgICAgICAgIHtsb29wU3RhcnQgIT09IG51bGwgJiYgbG9vcEVuZCAhPT0gbnVsbCAmJiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0wIGgtZnVsbCBiZy1lbWVyYWxkLTIwMC83MFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgbGVmdDogYCR7KGxvb3BTdGFydCAvIHRpbWVsaW5lRHVyYXRpb24pICogMTAwfSVgLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBgJHsoKGxvb3BFbmQgLSBsb29wU3RhcnQpIC8gdGltZWxpbmVEdXJhdGlvbikgKiAxMDB9JWAsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCBsZWZ0LTAgcmlnaHQtMCBoLTE0XCI+XG4gICAgICAgICAgICB7cGFydFNlZ21lbnRzLm1hcCgoc2VnLCBzZWdJZHgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgbGVmdCA9IChzZWcuc3RhcnQgLyB0aW1lbGluZUR1cmF0aW9uKSAqIDEwMDtcbiAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLm1heCgxLCAoKHNlZy5lbmQgLSBzZWcuc3RhcnQpIC8gdGltZWxpbmVEdXJhdGlvbikgKiAxMDApO1xuICAgICAgICAgICAgICBjb25zdCBpc0N1cnJlbnQgPSBjdXJyZW50UGFydD8uaWQgPT09IHNlZy5pZDtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBrZXk9e3NlZy5pZH1cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobG9vcFNlbGVjdE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRQZW5kaW5nTG9vcFJhbmdlKHsgc3RhcnQ6IHNlZy5zdGFydCwgZW5kOiBzZWcuZW5kIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHNlZWtUbyhzZWcuc3RhcnQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYWJzb2x1dGUgdG9wLTAgaC1mdWxsIHRleHQtYmFzZSBmb250LXNlbWlib2xkIHB4LTIgcHktMSB0ZXh0LWNlbnRlciB0cnVuY2F0ZSAke1xuICAgICAgICAgICAgICAgICAgICBpc0N1cnJlbnQgPyBcImJnLWJsdWUtNzAwIHRleHQtd2hpdGVcIiA6IGAke3BhbGV0dGVbc2VnSWR4ICUgcGFsZXR0ZS5sZW5ndGhdfSB0ZXh0LXdoaXRlYFxuICAgICAgICAgICAgICAgICAgfSAke2xvb3BTZWxlY3RNb2RlICYmIHBlbmRpbmdMb29wUmFuZ2U/LnN0YXJ0ID09PSBzZWcuc3RhcnQgPyBcInJpbmctMiByaW5nLWVtZXJhbGQtMzAwXCIgOiBcIlwifWB9XG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBsZWZ0OiBgJHtsZWZ0fSVgLCB3aWR0aDogYCR7d2lkdGh9JWAgfX1cbiAgICAgICAgICAgICAgICAgIHRpdGxlPXtzZWcubmFtZX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7c2VnLm5hbWV9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0wIGxlZnQtMCByaWdodC0wIGgtMTAgYm9yZGVyLXQgYm9yZGVyLXNsYXRlLTIwMCBiZy1zbGF0ZS0xMDAvODBcIj5cbiAgICAgICAgICAgIHtzdWJwYXJ0U2VnbWVudHMubWFwKChzZWcsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBsZWZ0ID0gKHNlZy5zdGFydCAvIHRpbWVsaW5lRHVyYXRpb24pICogMTAwO1xuICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KDEsICgoc2VnLmVuZCAtIHNlZy5zdGFydCkgLyB0aW1lbGluZUR1cmF0aW9uKSAqIDEwMCk7XG4gICAgICAgICAgICAgIGNvbnN0IGJvcmRlckNsYXNzID0gaWR4ICUgMiA9PT0gMCA/IFwiYm9yZGVyLWwgYm9yZGVyLXNsYXRlLTMwMFwiIDogXCJib3JkZXItbCBib3JkZXItd2hpdGUvNjBcIjtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBrZXk9e3NlZy5pZH1cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2Vla1RvKHNlZy5zdGFydCwgdHJ1ZSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BhYnNvbHV0ZSB0b3AtMCBoLWZ1bGwgdGV4dC14cyBmb250LXNlbWlib2xkIHB4LTIgcHktMSB0ZXh0LWNlbnRlciB0cnVuY2F0ZSAke2JvcmRlckNsYXNzfSAke3BhbGV0dGVMaWdodFtzZWcuY29sb3JJZHggJSBwYWxldHRlTGlnaHQubGVuZ3RoXX1gfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbGVmdDogYCR7bGVmdH0lYCwgd2lkdGg6IGAke3dpZHRofSVgIH19XG4gICAgICAgICAgICAgICAgICB0aXRsZT17c2VnLnRpdGxlfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtzZWcudGl0bGV9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCBoLWZ1bGwgdy1bM3B4XSBiZy1lbWVyYWxkLTUwMCBzaGFkb3ctWzBfMF84cHhfcmdiYSgxNiwxODUsMTI5LDAuNyldXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IGxlZnQ6IGAke3BsYXloZWFkfSVgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtjdXJyZW50UGFydCAmJiAoc3VicGFydHNCeVBhcnRbY3VycmVudFBhcnQuaWRdIHx8IFtdKS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAgICAgIHsoc3VicGFydHNCeVBhcnRbY3VycmVudFBhcnQuaWRdIHx8IFtdKS5tYXAoKHN1YiwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID1cbiAgICAgICAgICAgICAgICB0eXBlb2Ygc3ViLnRpbWVwb2ludF9zZWNvbmRzID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICA/IHN1Yi50aW1lcG9pbnRfc2Vjb25kc1xuICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGtleT17c3ViLmlkfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydCAhPT0gbnVsbCkgc2Vla1RvKHN0YXJ0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgcm91bmRlZC1mdWxsIHRleHQteHMgZm9udC1zZW1pYm9sZCBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGhvdmVyOmJnLWdyYXktNTBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtpZHggKyAxfS4ge3N1Yi50aXRsZX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcblxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50UGFydCkgcmV0dXJuO1xuICAgIGNvbnN0IHN1YnBhcnRzID0gc3VicGFydHNCeVBhcnRbY3VycmVudFBhcnQuaWRdIHx8IFtdO1xuICAgIGlmIChzdWJwYXJ0cy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBjb25zdCBzZWdtZW50cyA9IHN1YnBhcnRzXG4gICAgICAubWFwKChzdWIpID0+IHtcbiAgICAgICAgY29uc3QgcmF3U3RhcnQgPSB0eXBlb2Ygc3ViLnRpbWVwb2ludF9zZWNvbmRzID09PSBcIm51bWJlclwiID8gc3ViLnRpbWVwb2ludF9zZWNvbmRzIDogTnVtYmVyKHN1Yi50aW1lcG9pbnRfc2Vjb25kcyk7XG4gICAgICAgIGNvbnN0IHJhd0VuZCA9IHR5cGVvZiBzdWIudGltZXBvaW50X2VuZF9zZWNvbmRzID09PSBcIm51bWJlclwiID8gc3ViLnRpbWVwb2ludF9lbmRfc2Vjb25kcyA6IE51bWJlcihzdWIudGltZXBvaW50X2VuZF9zZWNvbmRzKTtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBOdW1iZXIuaXNGaW5pdGUocmF3U3RhcnQpID8gcmF3U3RhcnQgOiBOYU47XG4gICAgICAgIGNvbnN0IGVuZCA9IE51bWJlci5pc0Zpbml0ZShyYXdFbmQpID8gcmF3RW5kIDogTmFOO1xuICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShzdGFydCkpIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4geyBpZDogc3ViLmlkLCBzdGFydCwgZW5kOiBOdW1iZXIuaXNGaW5pdGUoZW5kKSA/IGVuZCA6IHN0YXJ0IH07XG4gICAgICB9KVxuICAgICAgLmZpbHRlcihCb29sZWFuKSBhcyBBcnJheTx7IGlkOiBzdHJpbmc7IHN0YXJ0OiBudW1iZXI7IGVuZDogbnVtYmVyIH0+O1xuICAgIGlmIChzZWdtZW50cy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IGFjdGl2ZSA9IHNlZ21lbnRzLmZpbmQoKHNlZykgPT4gY3VycmVudFRpbWUgPj0gc2VnLnN0YXJ0ICYmIGN1cnJlbnRUaW1lIDw9IHNlZy5lbmQpO1xuICAgIHNldEN1cnJlbnRTdWJwYXJ0SWQoYWN0aXZlID8gYWN0aXZlLmlkIDogbnVsbCk7XG5cbiAgICBjb25zdCBoaXQgPSBzZWdtZW50cy5maW5kKChzZWcpID0+IGN1cnJlbnRUaW1lID49IHNlZy5zdGFydCAmJiBjdXJyZW50VGltZSA8IHNlZy5zdGFydCArIDAuMzUpO1xuICAgIGlmIChoaXQgJiYgbGFzdEZsYXNoUmVmLmN1cnJlbnQgIT09IGhpdC5pZCkge1xuICAgICAgbGFzdEZsYXNoUmVmLmN1cnJlbnQgPSBoaXQuaWQ7XG4gICAgICBzZXRGbGFzaFN1YnBhcnRJZChoaXQuaWQpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNldEZsYXNoU3VicGFydElkKChwcmV2KSA9PiAocHJldiA9PT0gaGl0LmlkID8gbnVsbCA6IHByZXYpKTtcbiAgICAgIH0sIDM1MCk7XG4gICAgfVxuICB9LCBbY3VycmVudFRpbWUsIGN1cnJlbnRQYXJ0LCBzdWJwYXJ0c0J5UGFydF0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgYmctYmxhY2sgYmctb3BhY2l0eS03MCBmbGV4XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBiZy1ncmF5LTEwMCBvdmVyZmxvdy1hdXRvXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBwLTZcIj5cbiAgICAgICAgICA8YXVkaW8gcmVmPXthdWRpb1JlZn0gc3JjPXttdXNpY1VybCB8fCB1bmRlZmluZWR9IC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNFwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBtYi0xXCI+XG4gICAgICAgICAgICAgICAgPEFwcExvZ28gY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBiZy13aGl0ZSB0ZXh0LWdyYXktNDAwXCIgc2l6ZT17MzJ9IC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtZ3JheS01MDBcIj5SZWhlYXJzZSBNb2RlPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwXCI+TGl2ZSBTdGFnZSBWaWV3PC9kaXY+XG4gICAgICAgICAgICAgIHtwZXJmb3JtYW5jZVRpdGxlICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICBQZXJmb3JtYW5jZTogPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+e3BlcmZvcm1hbmNlVGl0bGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00XCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgaG92ZXI6YmctZ3JheS04MDBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQ2xvc2VcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHtyZW5kZXJQZXJmb3JtYW5jZVRpbWVsaW5lKCl9XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgeGw6Z3JpZC1jb2xzLVszNjBweF8xZnJdIGdhcC02XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBwLTQgc2hhZG93LXNtXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMFwiPlBhcnRzPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgQ2xpY2sgYSBwYXJ0IG5hbWUgdG8gcGxheSBmcm9tIGl0cyBzdGFydCB0aW1lLlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTVcIj5cbiAgICAgICAgICAgICAgICB7ZmlsdGVyZWRQYXJ0cy5tYXAoKHBhcnQsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgaXNDdXJyZW50ID0gY3VycmVudFBhcnQ/LmlkID09PSBwYXJ0LmlkO1xuICAgICAgICAgICAgICAgICAgY29uc3QgaXNOZXh0ID0gbmV4dFBhcnQ/LmlkID09PSBwYXJ0LmlkO1xuICAgICAgICAgICAgICAgICAgY29uc3QgaXNFZGl0aW5nID0gZWRpdGluZ1BhcnRJZCA9PT0gcGFydC5pZDtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRTdGFydCA9IHR5cGVvZiBwYXJ0LnRpbWVwb2ludF9zZWNvbmRzID09PSBcIm51bWJlclwiID8gcGFydC50aW1lcG9pbnRfc2Vjb25kcyA6IG51bGw7XG4gICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0RW5kID0gdHlwZW9mIHBhcnQudGltZXBvaW50X2VuZF9zZWNvbmRzID09PSBcIm51bWJlclwiID8gcGFydC50aW1lcG9pbnRfZW5kX3NlY29uZHMgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgY29uc3QgcGFydER1cmF0aW9uID0gZm9ybWF0RHVyYXRpb24ocGFydFN0YXJ0LCBwYXJ0RW5kKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRTdWJwYXJ0cyA9IHN1YnBhcnRzQnlQYXJ0W3BhcnQuaWRdIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgY29uc3QgaXNFeHBhbmRlZCA9IGV4cGFuZGVkUGFydElkcy5oYXMocGFydC5pZCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtwYXJ0LmlkfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGJvcmRlciByb3VuZGVkIHAtMiBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNDdXJyZW50ID8gXCJib3JkZXItYmx1ZS01MDAgYmctYmx1ZS01MFwiIDogXCJib3JkZXItZ3JheS0yMDAgYmctd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb29wU2VsZWN0TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RMb29wRm9yUGFydChwYXJ0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIG9uRG91YmxlQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0U3RhcnQgIT09IG51bGwpIHNlZWtUbyhwYXJ0U3RhcnQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb29wU2VsZWN0TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0TG9vcEZvclBhcnQocGFydC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0U3RhcnQgIT09IG51bGwpIHNlZWtUbyhwYXJ0U3RhcnQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgdGV4dC14bCB0ZXh0LWxlZnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7cGFydC5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aXNOZXh0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtYm9sZCB0ZXh0LXB1cnBsZS03MDAgYmctcHVycGxlLTEwMCBweC0yIHB5LTAuNSByb3VuZGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTkVYVFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1iYXNlIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwYXJ0U3RhcnQgIT09IG51bGwgPyBmb3JtYXRUaW1lKHBhcnRTdGFydCkgOiBcIk5vIHRpbWVwb2ludFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge3BhcnREdXJhdGlvbiAmJiA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQtc20gdGV4dC1ncmF5LTQwMFwiPih7cGFydER1cmF0aW9ufSk8L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3BhcnRTdGFydCAhPT0gbnVsbCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0SnVtcENvdW50ZG93bihwYXJ0U3RhcnQsIHBhcnQuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcm91bmRlZCB0ZXh0LXhzIGhvdmVyOmJnLWJsdWUtNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEp1bXAgdG8gcGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFeHBhbmRlZFBhcnRJZHMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXcgU2V0KHByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQuaGFzKHBhcnQuaWQpKSBuZXh0LmRlbGV0ZShwYXJ0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgbmV4dC5hZGQocGFydC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIHRleHQteHMgcm91bmRlZCBiZy1ncmF5LTIwMCB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktMzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2lzRXhwYW5kZWQgPyBcIkhpZGUgRGV0YWlsc1wiIDogXCJFeHBhbmQgRGV0YWlsc1wifVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgeyFpc0V4cGFuZGVkICYmIHBhcnRTdWJwYXJ0cy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7cGFydFN1YnBhcnRzLm1hcCgoc3ViLCBzdWJJZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJTdGFydCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygc3ViLnRpbWVwb2ludF9zZWNvbmRzID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc3ViLnRpbWVwb2ludF9zZWNvbmRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3N1Yi5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3ViU3RhcnQgIT09IG51bGwpIHNlZWtUbyhzdWJTdGFydCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMC41IHJvdW5kZWQtZnVsbCB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIGJnLWdyYXktMTAwIHRleHQtZ3JheS03MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3ViSWR4ICsgMX0uIHtzdWIudGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAge2lzRXhwYW5kZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2lzRWRpdGluZyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgc3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTYwMFwiPlN0YXJ0IChtIC8gcyk8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtlZGl0U3RhcnRNaW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RWRpdFN0YXJ0TWluKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTIgcHktMSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgdGV4dC14c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZWRpdFN0YXJ0U2VjfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEVkaXRTdGFydFNlYyhlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0yIHB5LTEgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNjAwXCI+RW5kIChtIC8gcyk8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtlZGl0RW5kTWlufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEVkaXRFbmRNaW4oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMiBweS0xIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZCB0ZXh0LXhzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtlZGl0RW5kU2VjfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEVkaXRFbmRTZWMoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMiBweS0xIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZCB0ZXh0LXhzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RpbWVFcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTFweF0gdGV4dC1yZWQtNjAwXCI+e3RpbWVFcnJvcn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gY29tcG9zZVNlY29uZHMoZWRpdFN0YXJ0TWluLCBlZGl0U3RhcnRTZWMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVuZCA9IGNvbXBvc2VTZWNvbmRzKGVkaXRFbmRNaW4sIGVkaXRFbmRTZWMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYm91bmRzID0gZ2V0U3VicGFydEJvdW5kcyhwYXJ0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib3VuZHMubWluU3RhcnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID09PSBudWxsIHx8IHN0YXJ0ID4gYm91bmRzLm1pblN0YXJ0KSBzdGFydCA9IGJvdW5kcy5taW5TdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib3VuZHMubWF4RW5kICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmQgPT09IG51bGwgfHwgZW5kIDwgYm91bmRzLm1heEVuZCkgZW5kID0gYm91bmRzLm1heEVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkdXJhdGlvbiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChzdGFydCAhPT0gbnVsbCAmJiBzdGFydCA+IGR1cmF0aW9uKSB8fCAoZW5kICE9PSBudWxsICYmIGVuZCA+IGR1cmF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVFcnJvcihcIlRpbWUgZXhjZWVkcyBtdXNpYyBsZW5ndGguIFVzZSBhIHRpbWUgd2l0aGluIHRoZSB0cmFjay5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQgIT09IG51bGwgJiYgZW5kICE9PSBudWxsICYmIGVuZCA8IHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVFcnJvcihcIkVuZCB0aW1lIG11c3QgYmUgYWZ0ZXIgc3RhcnQgdGltZS5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVFcnJvcihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNhdmluZ1BhcnRJZChwYXJ0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL3BhcnRzLyR7cGFydC5pZH1gLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcG9pbnRfc2Vjb25kczogc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcG9pbnRfZW5kX3NlY29uZHM6IGVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCkuY2F0Y2goKCkgPT4gbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGE/LmRldGFpbHMgfHwgZGF0YT8uZXJyb3IgfHwgXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVwb2ludHNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcnRUaW1lT3ZlcnJpZGVzKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3BhcnQuaWRdOiB7IHN0YXJ0LCBlbmQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZVBhcnRUaW1lcG9pbnRzPy4odXBkYXRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVkaXRpbmdQYXJ0SWQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byB1cGRhdGUgdGltZXBvaW50czpcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVwb2ludHNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTYXZpbmdQYXJ0SWQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTEgYmctZW1lcmFsZC02MDAgdGV4dC13aGl0ZSByb3VuZGVkIHRleHQteHMgaG92ZXI6YmctZW1lcmFsZC03MDAgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ1BhcnRJZCA9PT0gcGFydC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzYXZpbmdQYXJ0SWQgPT09IHBhcnQuaWQgPyBcIlNhdmluZy4uLlwiIDogXCJTYXZlXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFZGl0aW5nUGFydElkKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIGJnLWdyYXktMzAwIHRleHQtZ3JheS04MDAgcm91bmRlZCB0ZXh0LXhzIGhvdmVyOmJnLWdyYXktNDAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RWRpdFBhcnRUaW1lKHBhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1bMTFweF0gdGV4dC1pbmRpZ28tNjAwIGhvdmVyOnRleHQtaW5kaWdvLTgwMCB1bmRlcmxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRWRpdCBzdGFydC9lbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIHtpc05leHQgJiYgdGltZVRvTmV4dCAhPT0gbnVsbCAmJiB0aW1lVG9OZXh0IDw9IDEwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC00eGwgZm9udC1leHRyYWJvbGQgdGV4dC1yZWQtNjAwIGFuaW1hdGUtcHVsc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge01hdGguY2VpbCh0aW1lVG9OZXh0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAge2lzRXhwYW5kZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNjAwIG1iLTFcIj5Ob3RlczwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bm90ZURyYWZ0c1tnZXROb3RlS2V5KHBhcnQuaWQpXSA/PyBub3Rlc0J5S2V5W2dldE5vdGVLZXkocGFydC5pZCldID8/IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Tm90ZURyYWZ0cygocHJldikgPT4gKHsgLi4ucHJldiwgW2dldE5vdGVLZXkocGFydC5pZCldOiBlLnRhcmdldC52YWx1ZSB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CbHVyPXsoKSA9PiBzYXZlTm90ZShwYXJ0LmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXsyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQWRkIG5vdGVzIGZvciB0aGlzIHBhcnQuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0yIHB5LTEgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzYXZlTm90ZShwYXJ0LmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMC41IGJnLWdyYXktOTAwIHRleHQtd2hpdGUgcm91bmRlZCB0ZXh0LVsxMXB4XVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bm90ZVNhdmluZ1tnZXROb3RlS2V5KHBhcnQuaWQpXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bm90ZVNhdmluZ1tnZXROb3RlS2V5KHBhcnQuaWQpXSA/IFwiU2F2aW5nLi4uXCIgOiBcIlNhdmUgbm90ZVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtZ3JheS00MDBcIj5BdXRvLXNhdmVzIG9uIGJsdXI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSB0ZXh0LWdyYXktNjAwIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsocG9zaXRpb25zQnlQYXJ0W3BhcnQuaWRdIHx8IFtdKS5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIk5vIHBvc2l0aW9uc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogKHBvc2l0aW9uc0J5UGFydFtwYXJ0LmlkXSB8fCBbXSkubWFwKChwLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGtleT17YCR7cGFydC5pZH0tcG9zLSR7cC5zdHVkZW50X2lkfS0ke2lkeH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2lkeCA+IDAgPyBcIiwgXCIgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3Auc3R1ZGVudF9uYW1lID09PSBwZXJzb25GaWx0ZXIgPyBcImZvbnQtYm9sZCB0ZXh0LWVtZXJhbGQtNjAwXCIgOiBcIlwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cC5zdHVkZW50X25hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICB7KHN1YnBhcnRzQnlQYXJ0W3BhcnQuaWRdIHx8IFtdKS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyBzcGFjZS15LTMgdGV4dC1zbSB0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsoc3VicGFydHNCeVBhcnRbcGFydC5pZF0gfHwgW10pLm1hcCgoc3ViLCBzdWJJZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhc3NpZ25lZCA9IHN1YnBhcnRBc3NpZ25tZW50c1tzdWIuaWRdIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFN0YXJ0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBzdWIudGltZXBvaW50X3NlY29uZHMgPT09IFwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzdWIudGltZXBvaW50X3NlY29uZHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzdWIudGltZXBvaW50X3NlY29uZHMgIT09IG51bGwgJiYgc3ViLnRpbWVwb2ludF9zZWNvbmRzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlRmxvYXQoU3RyaW5nKHN1Yi50aW1lcG9pbnRfc2Vjb25kcykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBOYU47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkRW5kID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBzdWIudGltZXBvaW50X2VuZF9zZWNvbmRzID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc3ViLnRpbWVwb2ludF9lbmRfc2Vjb25kc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHN1Yi50aW1lcG9pbnRfZW5kX3NlY29uZHMgIT09IG51bGwgJiYgc3ViLnRpbWVwb2ludF9lbmRfc2Vjb25kcyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUZsb2F0KFN0cmluZyhzdWIudGltZXBvaW50X2VuZF9zZWNvbmRzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IE5hTjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNUaW1lID0gTnVtYmVyLmlzRmluaXRlKHBhcnNlZFN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3N1Yi5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtoYXNUaW1lID8gXCJcIiA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtoYXNUaW1lID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2Vla1RvKHBhcnNlZFN0YXJ0LCB0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCB0ZXh0LWxlZnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdWJJZHggKyAxfS4ge3N1Yi50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1YklkeCArIDF9LiB7c3ViLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBc3NpZ25lZDp7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Fzc2lnbmVkLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIuKAlFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGFzc2lnbmVkLm1hcCgobmFtZSwgbmFtZUlkeCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGtleT17YCR7c3ViLmlkfS1hc3NpZ25lZC0ke25hbWVJZHh9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZUlkeCA+IDAgPyBcIiwgXCIgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtuYW1lID09PSBwZXJzb25GaWx0ZXIgPyBcImZvbnQtYm9sZCB0ZXh0LWVtZXJhbGQtNjAwXCIgOiBcIlwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vdGVzOiB7c3ViLmRlc2NyaXB0aW9uID8gc3ViLmRlc2NyaXB0aW9uIDogXCLigJRcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtub3Rlc0J5S2V5W2dldE5vdGVLZXkocGFydC5pZCwgc3ViLmlkKV0gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC1ncmF5LTUwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb3RlOiB7bm90ZXNCeUtleVtnZXROb3RlS2V5KHBhcnQuaWQsIHN1Yi5pZCldfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtub3RlRHJhZnRzW2dldE5vdGVLZXkocGFydC5pZCwgc3ViLmlkKV0gPz8gbm90ZXNCeUtleVtnZXROb3RlS2V5KHBhcnQuaWQsIHN1Yi5pZCldID8/IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE5vdGVEcmFmdHMoKHByZXYpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZ2V0Tm90ZUtleShwYXJ0LmlkLCBzdWIuaWQpXTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CbHVyPXsoKSA9PiBzYXZlTm90ZShwYXJ0LmlkLCBzdWIuaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17Mn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQWRkIHJlaGVhcnNhbCBub3Rlcy4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMiBweS0xIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZCB0ZXh0LVsxMXB4XVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2F2ZU5vdGUocGFydC5pZCwgc3ViLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0wLjUgYmctZ3JheS05MDAgdGV4dC13aGl0ZSByb3VuZGVkIHRleHQtWzEwcHhdXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e25vdGVTYXZpbmdbZ2V0Tm90ZUtleShwYXJ0LmlkLCBzdWIuaWQpXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25vdGVTYXZpbmdbZ2V0Tm90ZUtleShwYXJ0LmlkLCBzdWIuaWQpXSA/IFwiU2F2aW5nLi4uXCIgOiBcIlNhdmUgbm90ZVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzExcHhdIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaW1lOiB7TnVtYmVyLmlzRmluaXRlKHBhcnNlZFN0YXJ0KSA/IGZvcm1hdFRpbWUocGFyc2VkU3RhcnQpIDogXCItLTotLVwifSAvIHtOdW1iZXIuaXNGaW5pdGUocGFyc2VkRW5kKSA/IGZvcm1hdFRpbWUocGFyc2VkRW5kKSA6IFwiLS06LS1cIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtoYXNUaW1lICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEp1bXBDb3VudGRvd24ocGFyc2VkU3RhcnQsIHBhcnQuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgdGV4dC1bMTFweF0gdGV4dC1pbmRpZ28tNjAwIGhvdmVyOnRleHQtaW5kaWdvLTgwMCB1bmRlcmxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEp1bXAgdG8ge3N1Yi50aXRsZX0gc3VicGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIHtjb3VudGRvd25UYXJnZXRQYXJ0SWQgPT09IHBhcnQuaWQgJiYgY291bnRkb3duICE9PSBudWxsICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LWNlbnRlciB0ZXh0LTN4bCBmb250LWV4dHJhYm9sZCB0ZXh0LXJlZC02MDAgYW5pbWF0ZS1wdWxzZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Y291bnRkb3dufVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSB4bDpncmlkLWNvbHMtW21pbm1heCgyNjBweCwwLjZmcilfbWlubWF4KDQyMHB4LDFmcildIGdhcC02IGl0ZW1zLXN0YXJ0XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICB7cmVuZGVyR3JpZChcIkN1cnJlbnRcIiwgY3VycmVudFBhcnQsIGZhbHNlLCBDVVJSRU5UX0NFTExfU0laRSl9XG4gICAgICAgICAgICAgICAgICAgIHtyZW5kZXJOYW1lc0JveChjdXJyZW50UGFydCwgZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICB7cmVuZGVyR3JpZChcIk5leHRcIiwgbmV4dFBhcnQsIHRydWUsIE5FWFRfQ0VMTF9TSVpFKX1cbiAgICAgICAgICAgICAgICAgICAge3JlbmRlck5hbWVzQm94KG5leHRQYXJ0LCB0cnVlKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIGxnOmdyaWQtY29scy0yIGdhcC02XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLVsxODBweF1cIj57cmVuZGVyU3VicGFydE92ZXJsYXkoY3VycmVudFBhcnQpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1bMTgwcHhdXCI+e3JlbmRlclN1YnBhcnRPdmVybGF5KG5leHRQYXJ0KX08L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXcteGwgc3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtMyByb3VuZGVkLWxnIGJvcmRlci0yIGJvcmRlci1ibHVlLTYwMCBiZy1ibHVlLTUwIHAtM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1leHRyYWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVzdCB0ZXh0LWJsdWUtNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgRmlsdGVyIGJ5IHBlcnNvblxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwZXJzb25GaWx0ZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQZXJzb25GaWx0ZXIoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1pbi13LVsxNjBweF0gcHgtMiBweS0xIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgcm91bmRlZCB0ZXh0LXNtIGJnLXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5BbGw8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICB7YWxsUGVvcGxlLm1hcCgobmFtZSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e25hbWV9IHZhbHVlPXtuYW1lfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtYXV0byBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1ibHVlLTcwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtjYWxsVGltZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICBDYWxsIFRpbWU6IDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPntjYWxsVGltZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3JpbmdFbmFibGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFJpbmdFbmFibGVkKGUudGFyZ2V0LmNoZWNrZWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTQgdy00XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICBSaW5nIGF0IFQtMTBcbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZVJlZiIsInVzZVN0YXRlIiwiQXBwTG9nbyIsIkdSSURfQ09MUyIsIkdSSURfUk9XUyIsIkNVUlJFTlRfQ0VMTF9TSVpFIiwiTkVYVF9DRUxMX1NJWkUiLCJnZXRJbml0aWFscyIsIm5hbWUiLCJjaHVua3MiLCJ0cmltIiwic3BsaXQiLCJsZW5ndGgiLCJzbGljZSIsInRvVXBwZXJDYXNlIiwiUmVoZWFyc2VPdmVybGF5IiwicGVyZm9ybWFuY2VJZCIsInBhcnRzIiwibXVzaWNVcmwiLCJvbkNsb3NlIiwib25VcGRhdGVQYXJ0VGltZXBvaW50cyIsImN1cnJlbnRUaW1lIiwic2V0Q3VycmVudFRpbWUiLCJwb3NpdGlvbnNCeVBhcnQiLCJzZXRQb3NpdGlvbnNCeVBhcnQiLCJsb2FkaW5nUG9zaXRpb25zIiwic2V0TG9hZGluZ1Bvc2l0aW9ucyIsInJpbmdFbmFibGVkIiwic2V0UmluZ0VuYWJsZWQiLCJzdWJwYXJ0c0J5UGFydCIsInNldFN1YnBhcnRzQnlQYXJ0Iiwic3VicGFydEFzc2lnbm1lbnRzIiwic2V0U3VicGFydEFzc2lnbm1lbnRzIiwic3VicGFydEhhc1Bvc2l0aW9ucyIsInNldFN1YnBhcnRIYXNQb3NpdGlvbnMiLCJwZXJzb25GaWx0ZXIiLCJzZXRQZXJzb25GaWx0ZXIiLCJub3Rlc0J5S2V5Iiwic2V0Tm90ZXNCeUtleSIsIm5vdGVEcmFmdHMiLCJzZXROb3RlRHJhZnRzIiwibm90ZVNhdmluZyIsInNldE5vdGVTYXZpbmciLCJjb3VudGRvd24iLCJzZXRDb3VudGRvd24iLCJjb3VudGRvd25UYXJnZXRUaW1lIiwic2V0Q291bnRkb3duVGFyZ2V0VGltZSIsImNvdW50ZG93blRhcmdldFBhcnRJZCIsInNldENvdW50ZG93blRhcmdldFBhcnRJZCIsImNhbGxUaW1lIiwic2V0Q2FsbFRpbWUiLCJwZXJmb3JtYW5jZVRpdGxlIiwic2V0UGVyZm9ybWFuY2VUaXRsZSIsInN0YWdlT3JpZW50YXRpb24iLCJzZXRTdGFnZU9yaWVudGF0aW9uIiwiZmxhc2hTdWJwYXJ0SWQiLCJzZXRGbGFzaFN1YnBhcnRJZCIsImN1cnJlbnRTdWJwYXJ0SWQiLCJzZXRDdXJyZW50U3VicGFydElkIiwiZWRpdGluZ1BhcnRJZCIsInNldEVkaXRpbmdQYXJ0SWQiLCJlZGl0U3RhcnRNaW4iLCJzZXRFZGl0U3RhcnRNaW4iLCJlZGl0U3RhcnRTZWMiLCJzZXRFZGl0U3RhcnRTZWMiLCJlZGl0RW5kTWluIiwic2V0RWRpdEVuZE1pbiIsImVkaXRFbmRTZWMiLCJzZXRFZGl0RW5kU2VjIiwic2F2aW5nUGFydElkIiwic2V0U2F2aW5nUGFydElkIiwicGFydFRpbWVPdmVycmlkZXMiLCJzZXRQYXJ0VGltZU92ZXJyaWRlcyIsImV4cGFuZGVkUGFydElkcyIsInNldEV4cGFuZGVkUGFydElkcyIsIlNldCIsImlzUGxheWluZyIsInNldElzUGxheWluZyIsImR1cmF0aW9uIiwic2V0RHVyYXRpb24iLCJ2b2x1bWUiLCJzZXRWb2x1bWUiLCJsb29wRW5hYmxlZCIsInNldExvb3BFbmFibGVkIiwibG9vcFJhbmdlIiwic2V0TG9vcFJhbmdlIiwicGVuZGluZ0xvb3BSYW5nZSIsInNldFBlbmRpbmdMb29wUmFuZ2UiLCJsb29wU2VsZWN0TW9kZSIsInNldExvb3BTZWxlY3RNb2RlIiwidGltZUVycm9yIiwic2V0VGltZUVycm9yIiwiaXNTY3J1YmJpbmciLCJzZXRJc1NjcnViYmluZyIsInRpbWVsaW5lUmVmIiwiYXVkaW9SZWYiLCJjdXJyZW50R3JpZFdyYXBSZWYiLCJuZXh0R3JpZFdyYXBSZWYiLCJjdXJyZW50R3JpZFNjYWxlIiwic2V0Q3VycmVudEdyaWRTY2FsZSIsIm5leHRHcmlkU2NhbGUiLCJzZXROZXh0R3JpZFNjYWxlIiwicHJldlRpbWVUb05leHRSZWYiLCJsYXN0Rmxhc2hSZWYiLCJlZmZlY3RpdmVQYXJ0cyIsIm1hcCIsInBhcnQiLCJvdmVycmlkZSIsImlkIiwidGltZXBvaW50X3NlY29uZHMiLCJzdGFydCIsInRpbWVwb2ludF9lbmRfc2Vjb25kcyIsImVuZCIsIm9yZGVyZWRQYXJ0cyIsInNvcnQiLCJhIiwiYiIsImFUaW1lIiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJiVGltZSIsIm9yZGVyIiwidGltZXBvaW50UGFydHMiLCJmaWx0ZXIiLCJwIiwicGFydFNlZ21lbnRzIiwic2VnbWVudHMiLCJzb3J0ZWQiLCJpIiwibmV4dFN0YXJ0IiwicHVzaCIsIk1hdGgiLCJtYXgiLCJzdWJwYXJ0cyIsInBhcnRTZWdtZW50QnlJZCIsIk1hcCIsImZvckVhY2giLCJzZWciLCJzZXQiLCJ0aW1lbGluZUR1cmF0aW9uIiwibGFzdCIsInJlZHVjZSIsImN1cnJlbnRJbmRleCIsImlkeCIsInVuZGVmaW5lZCIsImN1cnJlbnRQYXJ0IiwibmV4dFBhcnQiLCJ0aW1lVG9OZXh0IiwiZm9ybWF0VGltZSIsInNlY29uZHMiLCJpc05hTiIsInRvdGFsIiwiZmxvb3IiLCJtaW5zIiwic2VjcyIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJmb3JtYXREdXJhdGlvbiIsImlzRmluaXRlIiwicm91bmQiLCJnZXRTdWJwYXJ0Qm91bmRzIiwicGFydElkIiwibGlzdCIsInN0YXJ0cyIsImVuZHMiLCJzdWIiLCJtaW5TdGFydCIsIm1pbiIsIm1heEVuZCIsInNwbGl0VGltZSIsInZhbHVlIiwic2VjIiwiU3RyaW5nIiwiY29tcG9zZVNlY29uZHMiLCJtaW5TdHIiLCJzZWNTdHIiLCJwYXJzZUludCIsInBhcnNlRmxvYXQiLCJzZWVrVG8iLCJ0aW1lIiwic2hvdWxkUGxheSIsImN1cnJlbnQiLCJuZXh0VGltZSIsInBsYXkiLCJ0b2dnbGVQbGF5IiwicGF1c2UiLCJzZWxlY3RMb29wRm9yUGFydCIsImdldCIsImFsbFBlb3BsZSIsIm5hbWVzIiwiT2JqZWN0IiwidmFsdWVzIiwiYWRkIiwic3R1ZGVudF9uYW1lIiwiQXJyYXkiLCJmcm9tIiwibG9jYWxlQ29tcGFyZSIsImZpbHRlcmVkUGFydHMiLCJwb3NOYW1lcyIsImluY2x1ZGVzIiwic29tZSIsInN0YXJ0RWRpdFBhcnRUaW1lIiwiY3VycmVudFN0YXJ0IiwiY3VycmVudEVuZCIsInN0YXJ0U3BsaXQiLCJlbmRTcGxpdCIsInBsYXlSaW5nIiwiQXVkaW9DdHgiLCJ3aW5kb3ciLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJjdHgiLCJnYWluIiwiY3JlYXRlR2FpbiIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsImJlZXAiLCJvc2MiLCJjcmVhdGVPc2NpbGxhdG9yIiwidHlwZSIsImZyZXF1ZW5jeSIsInN0b3AiLCJub3ciLCJzZXRUaW1lb3V0IiwiY2xvc2UiLCJwbGF5QmVlcCIsInN0YXJ0SnVtcENvdW50ZG93biIsInRhcmdldFRpbWUiLCJ0aWNrIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJhdWRpbyIsImhhbmRsZVRpbWVVcGRhdGUiLCJoYW5kbGVMb2FkZWQiLCJoYW5kbGVQbGF5IiwiaGFuZGxlUGF1c2UiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImVsIiwiYmFzZVdpZHRoIiwidXBkYXRlU2NhbGUiLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwib2JzZXJ2ZXIiLCJSZXNpemVPYnNlcnZlciIsIm9ic2VydmUiLCJkaXNjb25uZWN0IiwicGF1c2VkIiwicHJldiIsImZldGNoUG9zaXRpb25zIiwiZW50cmllcyIsIlByb21pc2UiLCJhbGwiLCJyZXMiLCJmZXRjaCIsIm9rIiwiZGF0YSIsImpzb24iLCJtYXBwZWQiLCJzdHVkZW50X2lkIiwieCIsInkiLCJzdWJwYXJ0c0VudHJpZXMiLCJub3JtYWxpemVkIiwiaXRlbSIsInBhcnRfaWQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwic3VicGFydHNNYXAiLCJhbGxTdWJwYXJ0SWRzIiwiZmxhdE1hcCIsInMiLCJhc3NpZ25tZW50RW50cmllcyIsInN1YnBhcnRJZCIsImFzc2lnbm1lbnRNYXAiLCJzdWJwYXJ0UG9zaXRpb25zRW50cmllcyIsImlzQXJyYXkiLCJwb3NNYXAiLCJoYXNQb3NpdGlvbnMiLCJyZWZyZXNoU3VicGFydHNGb3JQYXJ0IiwiaGFuZGxlVXBkYXRlZCIsImV2ZW50IiwiZGV0YWlsIiwiZmV0Y2hQZXJmb3JtYW5jZSIsImNhbGxfdGltZSIsInN0YWdlX29yaWVudGF0aW9uIiwiZ2V0Tm90ZUtleSIsInNhdmVOb3RlIiwia2V5IiwiZHJhZnQiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwZXJmb3JtYW5jZV9pZCIsInN1YnBhcnRfaWQiLCJub3RlIiwiRXJyb3IiLCJuZXh0IiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiYWxlcnQiLCJmZXRjaE5vdGVzIiwicmVuZGVyU3VicGFydE92ZXJsYXkiLCJpdGVtcyIsIkJvb2xlYW4iLCJkaXYiLCJjbGFzc05hbWUiLCJqb2luIiwicmVuZGVyR3JpZCIsImlzTmV4dCIsImNlbGxTaXplIiwicG9zaXRpb25zIiwidGl0bGVTaXplIiwibGFiZWxTaXplIiwiZnJhbWVDbGFzcyIsImdyaWRGaWxsIiwibWFya2VyU2l6ZSIsIm1hcmtlclRleHQiLCJiYXNlSGVpZ2h0IiwiZ3JpZFNjYWxlIiwiZ3JpZFdyYXBSZWYiLCJvcmRlcmVkU3VicGFydHMiLCJjdXJyZW50U3ViIiwiZmluZCIsIm5leHRTdWIiLCJjdXJyZW50U3ViSW5kZXgiLCJmaW5kSW5kZXgiLCJuZXh0U3ViRm9yQ3VycmVudCIsInRydW5jYXRlNyIsImNlaWwiLCJyZWYiLCJzdHlsZSIsImhlaWdodCIsImJhY2tncm91bmRJbWFnZSIsImJhY2tncm91bmRTaXplIiwidHJhbnNmb3JtIiwidHJhbnNmb3JtT3JpZ2luIiwiYm90dG9tIiwibGVmdCIsInRvcCIsIl8iLCJwb3MiLCJyZW5kZXJOYW1lc0JveCIsInRleHRTaXplIiwiaW5mb0xhYmVsU2l6ZSIsInBhcnREdXJhdGlvbiIsInNwYW4iLCJhc3NpZ25lZCIsInN1YkR1cmF0aW9uIiwiYUlkeCIsImdldFRpbWVGcm9tUG9pbnRlciIsImNsaWVudFgiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmF0aW8iLCJoYW5kbGVUaW1lbGluZVBvaW50ZXJEb3duIiwiZSIsImhhbmRsZVRpbWVsaW5lUG9pbnRlck1vdmUiLCJoYW5kbGVUaW1lbGluZVBvaW50ZXJVcCIsInJlbmRlclBlcmZvcm1hbmNlVGltZWxpbmUiLCJwbGF5aGVhZCIsImxvb3BTdGFydCIsImxvb3BFbmQiLCJwYWxldHRlIiwicGFsZXR0ZUxpZ2h0IiwicGFydENvbG9ySW5kZXhCeUlkIiwic3VicGFydFNlZ21lbnRzIiwiY29sb3JJZHgiLCJyYXdTdGFydCIsImNsYW1wZWRTdGFydCIsInJhd0VuZCIsImVuZFJhdyIsImNsYW1wZWRFbmQiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJsYWJlbCIsImlucHV0Iiwic3RlcCIsIm9uQ2hhbmdlIiwidGFyZ2V0Iiwib25Nb3VzZURvd24iLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VVcCIsIm9uTW91c2VMZWF2ZSIsInNlZ0lkeCIsImlzQ3VycmVudCIsImJvcmRlckNsYXNzIiwiTmFOIiwiYWN0aXZlIiwiaGl0Iiwic3JjIiwic2l6ZSIsImlzRWRpdGluZyIsInBhcnRTdGFydCIsInBhcnRFbmQiLCJwYXJ0U3VicGFydHMiLCJpc0V4cGFuZGVkIiwiaGFzIiwib25Eb3VibGVDbGljayIsInN0b3BQcm9wYWdhdGlvbiIsImRlbGV0ZSIsInN1YklkeCIsInN1YlN0YXJ0IiwiYm91bmRzIiwiY2F0Y2giLCJkZXRhaWxzIiwidXBkYXRlZCIsInRleHRhcmVhIiwib25CbHVyIiwicm93cyIsInBsYWNlaG9sZGVyIiwicGFyc2VkU3RhcnQiLCJwYXJzZWRFbmQiLCJoYXNUaW1lIiwibmFtZUlkeCIsInNlbGVjdCIsIm9wdGlvbiIsImNoZWNrZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/RehearseOverlay.tsx\n"));

/***/ })

});